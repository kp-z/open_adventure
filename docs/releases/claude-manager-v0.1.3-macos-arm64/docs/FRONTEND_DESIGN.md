# Claude Manager 前端界面设计文档

## 一、设计理念

Claude Manager 前端采用**双模式设计**，提供两种完全不同的用户体验，但共享同一套后端 API：

1. **专业管理模式（Professional Mode）** - 面向工程师的高效管理界面
2. **游戏化模式（Gamification Mode）** - 面向日常使用的沉浸式体验

两种模式可通过设置页面一键切换，所有业务逻辑和数据完全一致，仅 UI 表现形式不同。

---

## 二、设计系统

### 2.1 视觉风格

#### 专业模式
- **设计语言**: 现代扁平化 + 玻璃态（Glassmorphism）
- **色彩方案**:
  - 主色调: 蓝紫渐变 (#5B7CFF → #9D6CFF)
  - 辅助色: 青色 (#00D9FF)、绿色 (#00FF88)
  - 背景: 深色主题为主，支持浅色切换
- **组件风格**:
  - 卡片采用玻璃态效果（半透明背景 + 模糊 + 边框光晕）
  - 3D 悬浮效果和微交互动画
  - 渐变色按钮和图标

#### 游戏化模式
- **设计语言**: RPG 游戏风格 + 卡牌收集
- **色彩方案**:
  - 主色调: 金色 (#FFD700)、紫色 (#9D6CFF)
  - 稀有度配色: 普通(灰)、稀有(蓝)、史诗(紫)、传说(金)
  - 背景: 深色魔幻风格，带粒子效果
- **组件风格**:
  - 卡片采用游戏卡牌设计（边框、光效、星级）
  - 英雄头像、技能图标、队伍徽章
  - 战斗回放时间轴、经验条、等级系统

### 2.2 组件库

#### 基础组件
- **GlassCard** - 玻璃态卡片容器
- **Card3D** - 3D 悬浮卡片（带倾斜效果）
- **GlassModal** - 玻璃态模态框
- **GlassInput** - 玻璃态输入框
- **GlassTextarea** - 玻璃态文本域
- **GlassSelect** - 玻璃态下拉选择
- **ActionButton** - 渐变色动作按钮
- **CircularProgress** - 环形进度条
- **StatCard** - 统计卡片

#### 业务组件
- **SkillCard** - 技能卡片（支持双模式）
- **AgentCard** - Agent 卡片（支持双模式）
- **TeamCard** - 队伍卡片
- **WorkflowNode** - 工作流节点
- **ExecutionTimeline** - 执行时间轴
- **StatsChart** - 统计图表

### 2.3 布局系统

#### 主布局
```
┌─────────────────────────────────────────┐
│  TopBar (Logo + Search + User + Mode)   │
├──────┬──────────────────────────────────┤
│      │                                   │
│ Side │                                   │
│ bar  │         Main Content              │
│      │                                   │
│      │                                   │
└──────┴──────────────────────────────────┘
```

- **TopBar**: 固定顶部，包含 Logo、全局搜索、用户信息、模式切换
- **Sidebar**: 左侧导航栏，可折叠
- **Main Content**: 主内容区，响应式网格布局

---

## 三、页面结构详解

### 3.1 Home / 我的家 (Dashboard)

#### 专业模式视图

**布局**: 4 列网格布局

**核心区域**:

1. **系统状态卡片** (左上，占 2 列)
   - Claude CLI 状态（可用/不可用）
   - 版本信息
   - 配置路径
   - 健康评分（0-100）
   - 快速同步按钮

2. **统计卡片组** (右上，2x2 网格)
   - Skills 数量 + 折线图
   - Agents 数量 + 环形图
   - Agent Teams 数量 + 柱状图
   - Workflows 数量 + 折线图
   - Tasks 数量 + 柱状图

3. **最近任务** (中部，占 3 列)
   - 任务列表（最近 5 条）
   - 状态标识（成功/失败/运行中）
   - 执行时长
   - 快速操作（查看详情/重跑）

4. **快速操作面板** (右侧，占 1 列)
   - 创建新 Skill
   - 创建新 Agent
   - 创建新 Workflow
   - 同步 Claude 环境
   - 导出配置

5. **推荐卡片** (底部，占 4 列)
   - 基于统计的推荐
   - 最常用的 Skills
   - 最佳表现的 Agent Teams
   - 推荐的 Workflow 模板

#### 游戏化模式视图

**布局**: 主城风格

**核心区域**:

1. **主城背景**
   - 3D 等距视角城堡/基地
   - 可点击的建筑物入口
   - 动态天气和昼夜效果

2. **建筑物入口**
   - **英雄殿堂** → Agents 页面
   - **技能图书馆** → Skills 页面
   - **队伍训练场** → Agent Teams 页面
   - **副本大厅** → Workflows 页面
   - **战斗记录** → Executions 页面

3. **顶部状态栏**
   - 玩家等级（基于完成任务数）
   - 经验值进度条
   - 金币/资源（虚拟货币，可用于解锁功能）
   - 成就徽章

4. **每日任务面板** (右侧浮动)
   - 今日待完成任务
   - 任务奖励预览
   - 完成进度

5. **通知中心** (左侧浮动)
   - 最近执行结果
   - 系统通知
   - 成就解锁提示

---

### 3.2 Skills 页面

#### 专业模式

**页面结构**:

1. **页面头部**
   - 标题: "Skills"
   - 副标题: "Manage your Claude skills and capabilities"
   - 操作按钮:
     - "Generate with AI" (AI 生成技能)
     - "Create Skill" (手动创建)
     - "Sync Skills" (同步 Claude 环境)

2. **过滤和搜索栏**
   - 搜索框（支持名称、描述、标签搜索）
   - 过滤按钮组:
     - All / Global / Plugin / Project
   - 排序选项: 名称、创建时间、使用频率

3. **技能网格** (3-4 列响应式)
   - 每个技能卡片包含:
     - 技能图标/emoji
     - 技能名称
     - 简短描述
     - 标签列表
     - 来源标识（Global/Plugin/Project）
     - 启用/禁用状态
     - 操作按钮（查看/编辑/删除）

4. **技能详情模态框**
   - 完整信息展示
   - 元数据编辑
   - 使用统计
   - 关联的 Agents
   - 执行历史

#### 游戏化模式

**页面结构**:

1. **技能图书馆入口动画**
   - 书架背景
   - 魔法书翻页效果

2. **技能分类书架**
   - 按类型分组（开发/测试/部署/文档等）
   - 每个分类一个书架
   - 书籍样式的技能卡片

3. **技能卡片（卡牌风格）**
   - 卡牌边框（稀有度配色）
   - 技能图标（中央大图）
   - 技能名称（卡牌标题）
   - 技能等级/熟练度（星级显示）
   - 使用次数（经验值）
   - 成功率（属性条）
   - 卡牌光效和悬浮动画

4. **技能详情（卡牌翻转）**
   - 卡牌翻转动画
   - 背面显示详细信息
   - 技能描述（故事化文本）
   - 属性面板
   - 升级进度
   - 解锁条件

---

### 3.3 Agents 页面

#### 专业模式

**页面结构**:

1. **页面头部**
   - 标题: "Agents"
   - 副标题: "Manage your AI agents"
   - 操作按钮:
     - "Create Agent"
     - "Import Agent"
     - "Sync Agents"

2. **Agent 列表视图**
   - 表格模式 / 卡片模式切换
   - 每个 Agent 显示:
     - Agent 名称
     - 描述
     - 使用的模型（Sonnet/Opus/Haiku）
     - 关联的 Skills 数量
     - 分类标签（后端/前端/文档等）
     - 状态（活跃/禁用）
     - 操作（编辑/删除/测试）

3. **Agent 详情页**
   - 基本信息编辑
   - System Prompt 编辑器
   - 关联 Skills 管理（多选）
   - 性能统计:
     - 总执行次数
     - 成功率
     - 平均响应时间
     - 最近使用时间
   - 执行历史列表

#### 游戏化模式

**页面结构**:

1. **英雄殿堂入口**
   - 大厅背景（石柱、火炬）
   - 英雄雕像展示

2. **英雄卡片（角色卡风格）**
   - 英雄头像（AI 生成或预设）
   - 英雄名称
   - 职业/角色（对应分类）
   - 等级（基于使用次数）
   - 经验条
   - 属性面板:
     - 力量（执行速度）
     - 智慧（成功率）
     - 耐力（稳定性）
   - 装备槽（关联的 Skills）
   - 稀有度边框

3. **英雄详情页**
   - 全屏英雄立绘
   - 英雄故事（描述）
   - 技能树（关联 Skills 的可视化）
   - 战绩统计
   - 成就徽章
   - 升级按钮（解锁新能力）

---

### 3.4 Agent Teams 页面

#### 专业模式

**页面结构**:

1. **页面头部**
   - 标题: "Agent Teams"
   - 副标题: "Manage collaborative agent teams"
   - 操作按钮:
     - "Create Team"
     - "Auto-compose Team" (AI 自动编队)

2. **队伍列表**
   - 卡片网格布局
   - 每个队伍卡片:
     - 队伍名称
     - 队伍描述
     - 成员列表（头像 + 角色）
     - 适用场景标签
     - 队伍评分（基于历史表现）
     - 操作（编辑/删除/测试）

3. **队伍编辑器**
   - 拖拽式成员管理
   - 角色分配（Leader/Worker/Reviewer）
   - 优先级设置
   - 协作策略配置
   - 测试运行

#### 游戏化模式

**页面结构**:

1. **队伍训练场**
   - 训练场背景
   - 队伍编队区域

2. **队伍卡片（公会徽章风格）**
   - 队伍徽章（可自定义）
   - 队伍名称
   - 队伍等级
   - 成员头像环绕徽章
   - 队伍属性（综合评分）
   - 战绩统计
   - 稀有度标识

3. **队伍编辑（编队界面）**
   - 战术板背景
   - 成员卡片拖拽
   - 阵型预设（前排/后排/辅助）
   - 协同技能展示
   - 队伍 Buff 效果
   - 推荐配置

---

### 3.5 Workflows 页面

#### 专业模式

**页面结构**:

1. **页面头部**
   - 标题: "Workflows"
   - 副标题: "Design and manage automation workflows"
   - 操作按钮:
     - "Create Workflow"
     - "Import Template"

2. **Workflow 列表**
   - 表格视图
   - 每个 Workflow:
     - 名称
     - 描述
     - 节点数量
     - 版本号
     - 状态（活跃/草稿/已归档）
     - 最近执行时间
     - 成功率
     - 操作（编辑/复制/删除/运行）

3. **Workflow 可视化编辑器**
   - 画布区域（无限滚动）
   - 左侧节点面板:
     - Task 节点
     - Decision 节点
     - Parallel Gateway 节点
     - Start/End 节点
   - 节点配置面板（右侧）:
     - 节点名称
     - 绑定 Agent/Team
     - 输入/输出配置
     - 条件设置
   - 工具栏:
     - 保存/另存为
     - 撤销/重做
     - 缩放/适应画布
     - 校验 DAG
     - 运行测试

#### 游戏化模式

**页面结构**:

1. **副本大厅**
   - 副本地图背景
   - 副本入口门户

2. **副本卡片（关卡风格）**
   - 副本封面图
   - 副本名称
   - 难度星级
   - 推荐队伍配置
   - 通关次数
   - 最佳记录
   - 奖励预览
   - 解锁条件

3. **副本编辑器（关卡设计）**
   - 地图编辑器风格
   - 节点显示为关卡点
   - 路径显示为道路
   - 怪物/Boss 图标（代表任务难度）
   - 宝箱图标（代表输出）
   - 分支路径（决策节点）

---

### 3.6 Tasks 页面

#### 专业模式

**页面结构**:

1. **页面头部**
   - 标题: "Tasks"
   - 副标题: "Track and manage task executions"
   - 操作按钮:
     - "Create Task"
     - "Batch Operations"

2. **任务列表**
   - 表格视图（支持分页）
   - 状态过滤（All/Pending/Running/Succeeded/Failed）
   - 每个任务:
     - 任务 ID
     - 标题
     - 关联 Workflow
     - 状态标识（带颜色）
     - 创建时间
     - 执行时长
     - 操作（查看/重跑/取消）

3. **任务详情页**
   - 任务基本信息
   - 执行时间轴:
     - 节点执行顺序
     - 每个节点的状态
     - 开始/结束时间
     - 日志链接
   - 输出摘要
   - 错误信息（如果失败）
   - 重跑按钮

#### 游戏化模式

**页面结构**:

1. **战斗记录大厅**
   - 战斗记录墙
   - 荣誉榜

2. **战斗记录卡片**
   - 战斗场景缩略图
   - 战斗名称
   - 参战英雄头像
   - 战斗结果（胜利/失败）
   - 战斗时长
   - 获得奖励
   - 评级（S/A/B/C）

3. **战斗回放页面**
   - 战斗回放时间轴
   - 回合制展示:
     - 每个节点为一个回合
     - 英雄行动动画
     - 技能释放效果
     - 伤害/治疗数字
   - 战斗日志（聊天框风格）
   - 战利品展示
   - 分享战绩按钮

---

### 3.7 Settings 页面

**页面结构**:

1. **设置分类**
   - General（通用设置）
   - Appearance（外观）
   - Claude Integration（Claude 集成）
   - Data Management（数据管理）
   - Advanced（高级设置）

2. **通用设置**
   - 语言选择
   - 时区设置
   - 通知偏好

3. **外观设置**
   - **模式切换** (核心功能)
     - Professional Mode
     - Gamification Mode
   - 主题选择（深色/浅色）
   - 色彩方案
   - 动画效果开关

4. **Claude 集成**
   - Claude CLI 路径
   - Skills 扫描路径
   - 插件目录配置
   - 自动同步设置

5. **数据管理**
   - 导出配置（JSON）
   - 导入配置
   - 备份/恢复
   - 清除缓存

6. **高级设置**
   - API 端点配置
   - 日志级别
   - 性能优化选项
   - 实验性功能开关

---

## 四、交互设计

### 4.1 动画效果

#### 页面过渡
- 路由切换: 淡入淡出 + 轻微位移（300ms）
- 模态框: 缩放 + 淡入（200ms）
- 侧边栏: 滑动展开/收起（250ms）

#### 组件交互
- 卡片悬停: 3D 倾斜 + 阴影增强 + 边框光晕
- 按钮点击: 涟漪效果 + 轻微缩放
- 列表项展开: 高度动画 + 内容淡入
- 加载状态: 骨架屏 + 脉冲动画

#### 游戏化特效
- 卡牌翻转: 3D 翻转动画（500ms）
- 等级提升: 光芒爆发 + 音效
- 成就解锁: 徽章飞入 + 粒子效果
- 战斗回放: 逐帧播放 + 技能特效

### 4.2 响应式设计

#### 断点定义
- Mobile: < 768px
- Tablet: 768px - 1024px
- Desktop: > 1024px
- Large Desktop: > 1440px

#### 布局适配
- **Mobile**: 单列布局，侧边栏改为底部导航
- **Tablet**: 2 列网格，侧边栏可折叠
- **Desktop**: 3-4 列网格，完整侧边栏
- **Large Desktop**: 4+ 列网格，更大间距

### 4.3 无障碍设计

- 键盘导航支持（Tab/Enter/Esc）
- ARIA 标签完整
- 颜色对比度符合 WCAG AA 标准
- 屏幕阅读器友好
- 焦点指示清晰

---

## 五、技术实现

### 5.1 技术栈

- **框架**: Next.js 14+ (App Router)
- **语言**: TypeScript
- **样式**: CSS-in-JS (styled-jsx) + Tailwind CSS
- **状态管理**: React Context + Hooks
- **数据获取**: SWR / React Query
- **图表**: Recharts / D3.js
- **可视化编辑**: React Flow
- **动画**: Framer Motion
- **图标**: Lucide React / Custom SVG

### 5.2 目录结构

```
frontend/
├── app/                      # Next.js App Router
│   ├── layout.tsx            # 根布局
│   ├── page.tsx              # Home 页面
│   ├── skills/               # Skills 相关页面
│   ├── agents/               # Agents 相关页面
│   ├── agent-teams/          # Agent Teams 相关页面
│   ├── workflows/            # Workflows 相关页面
│   ├── tasks/                # Tasks 相关页面
│   └── settings/             # Settings 页面
├── components/               # 组件库
│   ├── layout/               # 布局组件
│   ├── ui/                   # 基础 UI 组件
│   ├── skills/               # Skills 业务组件
│   ├── agents/               # Agents 业务组件
│   ├── agent-teams/          # Teams 业务组件
│   ├── workflows/            # Workflows 业务组件
│   └── tasks/                # Tasks 业务组件
├── contexts/                 # React Context
│   ├── ModeContext.tsx       # 模式切换 Context
│   └── ThemeContext.tsx      # 主题 Context
├── lib/                      # 工具库
│   ├── api.ts                # API 客户端
│   ├── types.ts              # TypeScript 类型
│   └── utils.ts              # 工具函数
└── styles/                   # 全局样式
    ├── globals.css           # 全局 CSS
    ├── theme.css             # 主题变量
    └── animations.css        # 动画定义
```

### 5.3 性能优化

- 代码分割（动态导入）
- 图片懒加载
- 虚拟滚动（长列表）
- 防抖/节流（搜索、滚动）
- Service Worker（PWA）
- 缓存策略（SWR）

---

## 六、开发规范

### 6.1 命名约定

- **组件**: PascalCase (e.g., `SkillCard.tsx`)
- **文件**: kebab-case (e.g., `skill-card.tsx`)
- **变量**: camelCase (e.g., `skillData`)
- **常量**: UPPER_SNAKE_CASE (e.g., `API_BASE_URL`)
- **CSS 类**: kebab-case (e.g., `skill-card`)

### 6.2 组件设计原则

- 单一职责
- Props 类型完整
- 支持 ref 转发
- 可组合性
- 可测试性

### 6.3 代码风格

- ESLint + Prettier
- 严格 TypeScript 模式
- 函数式组件 + Hooks
- 避免 any 类型
- 完整的 JSDoc 注释

---

## 七、测试策略

### 7.1 单元测试

- 组件渲染测试
- Props 验证测试
- 事件处理测试
- 工具函数测试

### 7.2 集成测试

- API 调用测试
- 路由导航测试
- 状态管理测试
- 表单提交测试

### 7.3 E2E 测试

- 关键用户流程
- 跨页面交互
- 模式切换测试
- 响应式布局测试

---

## 八、部署方案

### 8.1 构建配置

- 生产环境优化
- 环境变量管理
- CDN 资源部署
- 静态资源压缩

### 8.2 部署流程

1. 代码提交 → GitHub
2. CI/CD 自动构建
3. 运行测试套件
4. 构建生产版本
5. 部署到服务器/CDN
6. 健康检查

---

## 九、未来扩展

### 9.1 Phase 6+ 功能

- 实时协作（多用户）
- 移动端 App
- 桌面端 Electron 应用
- 插件市场
- 社区分享平台

### 9.2 AI 增强

- AI 辅助 Workflow 设计
- 智能推荐系统
- 自然语言查询
- 自动化测试生成

---

## 十、附录

### 10.1 设计资源

- Figma 设计稿: [链接]
- 组件库 Storybook: [链接]
- 图标库: [链接]
- 字体: Inter, JetBrains Mono

### 10.2 参考资料

- Next.js 文档
- React 最佳实践
- 玻璃态设计指南
- 游戏化 UI 设计案例

---

**文档版本**: 1.0
**最后更新**: 2025-01-XX
**维护者**: Claude Manager Team
