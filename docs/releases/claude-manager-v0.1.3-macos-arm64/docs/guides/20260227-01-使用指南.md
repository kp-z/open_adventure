# Claude Manager v0.1.1 使用指南

## 📥 下载与安装

### 1. 下载发布包

访问 GitHub Release 页面下载：
```
https://github.com/kp-z/open_adventure/releases/tag/v0.1.1
```

下载文件：`claude-manager-v0.1.1-macos-arm64.tar.gz` (32MB)

### 2. 解压文件

```bash
tar -xzf claude-manager-v0.1.1-macos-arm64.tar.gz
cd release
```

解压后的目录结构：
```
release/
├── claude-manager/          # 应用程序目录
│   ├── claude-manager       # 可执行文件
│   └── _internal/           # 内部资源
├── start.sh                 # 启动脚本
├── README.md                # 说明文档
└── VERSION                  # 版本信息
```

## 🚀 启动应用

### 方式一：使用启动脚本（推荐）

```bash
./start.sh
```

### 方式二：直接运行

```bash
cd claude-manager
./claude-manager
```

### 首次运行

首次启动时，应用会：
1. 自动创建数据库文件 `claude_manager.db`
2. 初始化数据表结构
3. 启动 Web 服务器（默认端口 8000）

启动成功后，你会看到类似输出：
```
INFO:     Started server process [12345]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000
```

## 🌐 访问应用

在浏览器中打开：
```
http://localhost:8000
```

## 📋 主要功能

### 1. Dashboard（仪表盘）
- 查看系统概览
- 实时执行监控
- 统计数据展示

### 2. Skills（技能管理）
- 浏览所有可用的 AI 技能
- 查看技能详情和使用说明
- 管理技能配置

### 3. Agents（智能体管理）
- 创建和配置智能体
- 测试智能体功能
- 查看执行历史

### 4. Teams（团队管理）
- 创建智能体团队
- 配置团队协作
- 管理团队成员

### 5. Workflows（工作流管理）
- 设计工作流程
- 可视化编辑
- 执行和监控

### 6. Tasks（任务管理）
- 创建和分配任务
- 跟踪任务状态
- 查看执行结果

## ⚙️ 配置说明

### 环境变量配置

首次运行后，可以在应用目录创建 `.env` 文件进行配置：

```bash
cd claude-manager
nano .env
```

配置示例：
```env
# API 服务配置
API_HOST=0.0.0.0
API_PORT=8000

# 数据库配置
DATABASE_URL=sqlite+aiosqlite:///./claude_manager.db

# Claude API 配置（可选）
ANTHROPIC_API_KEY=your_api_key_here

# 日志级别
LOG_LEVEL=INFO
```

### 修改端口

如果 8000 端口被占用，修改 `.env` 文件：
```env
API_PORT=8001
```

然后重启应用。

## 🔧 常见问题

### Q1: 无法启动应用

**问题**：提示权限不足
```bash
permission denied: ./claude-manager
```

**解决**：添加执行权限
```bash
chmod +x claude-manager/claude-manager
chmod +x start.sh
```

### Q2: 端口被占用

**问题**：启动时提示端口已被使用
```
Error: [Errno 48] Address already in use
```

**解决**：
1. 查找占用端口的进程：
```bash
lsof -i :8000
```

2. 杀死进程或修改配置文件使用其他端口

### Q3: 数据库错误

**问题**：数据库文件损坏

**解决**：删除数据库文件，应用会自动重建
```bash
rm claude-manager/claude_manager.db
./start.sh
```

### Q4: 浏览器无法访问

**问题**：打开 http://localhost:8000 显示无法连接

**解决**：
1. 确认应用已启动
2. 检查防火墙设置
3. 尝试使用 `http://127.0.0.1:8000`

## 🛑 停止应用

在终端中按 `Ctrl + C` 停止应用。

## 📊 数据备份

### 备份数据库

```bash
cp claude-manager/claude_manager.db claude_manager_backup_$(date +%Y%m%d).db
```

### 恢复数据库

```bash
cp claude_manager_backup_20260227.db claude-manager/claude_manager.db
```

## 🔄 更新应用

1. 备份当前数据库
2. 下载新版本
3. 解压并替换旧版本
4. 复制数据库文件到新版本目录
5. 重启应用

## 📝 日志查看

应用日志会输出到终端。如需保存日志：

```bash
./start.sh > app.log 2>&1 &
```

查看日志：
```bash
tail -f app.log
```

## 🆘 获取帮助

- GitHub Issues: https://github.com/kp-z/open_adventure/issues
- 文档: /docs/
- Release Notes: https://github.com/kp-z/open_adventure/releases/tag/v0.1.1

## 📌 系统要求

- **操作系统**: macOS 11.0+ (Apple Silicon)
- **磁盘空间**: 至少 100MB
- **内存**: 建议 2GB+
- **端口**: 8000（可配置）

## 🎯 快速开始示例

### 1. 创建第一个 Agent

1. 访问 http://localhost:8000
2. 点击左侧菜单 "Agents"
3. 点击 "Create Agent" 按钮
4. 填写 Agent 信息：
   - Name: My First Agent
   - Description: 测试智能体
   - Type: 选择类型
5. 点击 "Save" 保存

### 2. 测试 Agent

1. 在 Agents 列表中找到刚创建的 Agent
2. 点击 "Test" 按钮
3. 输入测试指令
4. 查看执行结果

### 3. 查看执行历史

1. 点击左侧菜单 "Dashboard"
2. 在 "Execution History" 区域查看所有执行记录
3. 点击记录查看详细信息

## 🔐 安全建议

1. **不要在公网暴露应用**：默认配置仅监听本地，如需远程访问请配置反向代理和 HTTPS
2. **保护 API Key**：如果配置了 Claude API Key，确保 `.env` 文件权限正确
3. **定期备份数据**：重要数据请定期备份数据库文件

## 📱 移动端访问

如需在同一局域网的其他设备访问：

1. 修改 `.env` 配置：
```env
API_HOST=0.0.0.0
```

2. 获取本机 IP 地址：
```bash
ifconfig | grep "inet " | grep -v 127.0.0.1
```

3. 在其他设备浏览器访问：
```
http://你的IP地址:8000
```

---

**祝使用愉快！** 🎉
