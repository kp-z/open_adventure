var td=Object.defineProperty;var nd=(e,t,n)=>t in e?td(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _s=(e,t,n)=>nd(e,typeof t!="symbol"?t+"":t,n);import{j as r,O as pl,C as ml,T as hl,D as fl,A as gl,a as xl,P as rd,R as sd}from"./ui-radix-DDbNk_0H.js";import{a as id,c as ds,b as xa,A as ad,d as od,B as ld,e as cd}from"./charts-6dEveBzu.js";import{r as N,R as vt,O as ud,N as ba,u as dd,d as bl,g as Ti,e as pd,f as md}from"./vendor-OVroFhbv.js";import{S as kt,a as ln,Z as Xe,M as hd,b as cn,U as Qn,L as yl,B as Jn,W as cr,c as yt,d as er,e as In,f as wl,G as tr,T as nr,H as vl,g as un,h as Rn,C as Ut,i as Ai,D as Ii,j as rr,F as Cn,k as On,l as Zt,I as fd,E as Nl,m as Ri,n as ps,R as El,X as Nt,o as Mi,p as gd,q as ur,r as xd,s as bd,t as Oi,u as Wn,A as kl,v as dr,w as Vr,P as dt,x as ms,y as Dt,z as dn,J as Kr,K as yd,N as _l,O as wd,Q as vd,V as Nd,Y as _r,_ as Ed,$ as kd,a0 as _d,a1 as Sl,a2 as Sd,a3 as jl,a4 as Li,a5 as jd,a6 as Cd,a7 as Td,a8 as Ad,a9 as Id,aa as Tn,ab as Cl,ac as sr,ad as ti,ae as ya,af as wa,ag as ni,ah as ir,ai as Wr,aj as Rd,ak as Md,al as Tl,am as Od,an as Di,ao as ri,ap as si,aq as ii,ar as Ld,as as qr,at as Dd,au as va,av as an,aw as Ss,ax as $r,ay as pn,az as Pd,aA as Al,aB as Na,aC as Il,aD as Ea,aE as Rl,aF as zd,aG as Fd,aH as ka,aI as Bd,aJ as Yr,aK as $d,aL as Ud,aM as Hd,aN as Gd,aO as Vd,aP as Kd,aQ as Wd}from"./icons-CvOQVDmC.js";import{i as _a,g as qd,s as Ml,a as Ol,b as Sa,c as Ll,d as Yd,e as Xd,f as Zd,h as Qd,r as Jd,j as ep,k as Dl,l as tp,m as np,n as rp,o as sp,S as ip,H as ap,F as Qt,p as op,q as Pl,t as Xr,u as lp,v as ja,w as Et,x as zl,y as cp,z as Ca,A as up,B as Zr,C as ai,D as Ta,E as dp,G as pp,I as Wt,J as mp,K as hp,L as fp,M as Aa,N as gp,O as xp,P as Ia,Q as bp,R as yp,T as Ur,U as wp,V as vp,W as Fl,X as Np,Y as Ep}from"./motion-BKmm2-eH.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Sr={},Ra;function kp(){if(Ra)return Sr;Ra=1;var e=id();return Sr.createRoot=e.createRoot,Sr.hydrateRoot=e.hydrateRoot,Sr}var _p=kp();const Bl=N.createContext(void 0);function Sp({children:e}){const[t,n]=N.useState(()=>typeof window<"u"&&localStorage.getItem("claude-manager-mode")||"professional"),[s,i]=N.useState(()=>typeof window<"u"&&localStorage.getItem("claude-manager-lang")||"en");N.useEffect(()=>{localStorage.setItem("claude-manager-mode",t),t==="adventure"?document.documentElement.classList.add("claude-adventure-mode"):document.documentElement.classList.remove("claude-adventure-mode")},[t]),N.useEffect(()=>{localStorage.setItem("claude-manager-lang",s),document.documentElement.lang=s},[s]);const o=()=>{n(l=>l==="professional"?"adventure":"professional")},a=()=>{i(l=>l==="en"?"zh":"en")};return r.jsx(Bl.Provider,{value:{mode:t,setMode:n,toggleMode:o,lang:s,setLang:i,toggleLang:a},children:e})}function mt(){const e=N.useContext(Bl);if(e===void 0)throw new Error("useMode must be used within a ModeProvider");return e}const Ma={en:{professional:{appName:"Claude Manager",switchMode:"Switch to RPG",dashboard:"Dashboard",skills:"Skills",agents:"Agents",teams:"Agent Teams",workflows:"Workflows",tasks:"Tasks",settings:"Settings",search:"Search everything...",userRole:"System Administrator",langLabel:"Language",appearance:"Appearance",general:"General",interfaceMode:"Interface Mode",proTitle:"Professional",proDesc:"High-density information layout for efficient system management.",advTitle:"Claude Adventure",advDesc:"Immersive RPG-style interface for a more engaging experience.",langSettings:"Language Settings",selectLang:"Select your preferred language for the interface.",enLang:"English",zhLang:"Chinese",integration:"Claude Integration",dataManagement:"Data Management",save:"Save Preferences",discard:"Discard Changes"},adventure:{appName:"Claude Adventure",switchMode:"Tap to Return",dashboard:"Home Base",skills:"Skill Library",agents:"Hero Hall",teams:"Guild Hall",workflows:"Dungeon Map",tasks:"Battle Logs",settings:"Settings",search:"Search for artifacts and skills...",userRole:"Legendary User",langLabel:"Oracle Language",appearance:"Hall of Mirrors",general:"Core Essence",interfaceMode:"Realm Selection",proTitle:"Mundane World",proDesc:"Return to the administrative reality of spreadsheets and nodes.",advTitle:"The Adventure",advDesc:"Continue your journey through the digital dungeon.",langSettings:"Ancient Tongues",selectLang:"Choose which dialect the Oracle shall speak in.",enLang:"Common Tongue (EN)",zhLang:"Mystic Script (ZH)",integration:"Arcane Rituals",dataManagement:"Treasure Vault",save:"Memorize Spells",discard:"Banish Changes",overview:"Realm Overview",overviewDesc:"Monitoring all mystical artifacts and hero progress.",baseTitle:"Home Base: Citadel of Claude",baseDesc:"Welcome back, Great Architect. Your guild is ready for battle.",skillsTitle:"Skill Library: The Archive",skillsDesc:"Master the ancient arts of automation and intelligence.",forgeSkill:"Forge New Spell",searchScrolls:"Search for scrolls...",all:"All",global:"Global",plugin:"Plugin",project:"Project",lvl:"LVL",xp:"XP",runs:"runs",syncSkills:"Sync Skills",genAi:"Generate with AI",addSkill:"Add New Skill",heroTitle:"Hero Hall: The Vanguard",heroDesc:"Recruit and manage your elite squad of AI warriors.",summonHero:"Summon Hero",intel:"Intelligence",strength:"Strength",agility:"Agility",inspectHero:"Inspect Hero",importAgent:"Import Agent",createAgent:"Create Agent",test:"Test",configure:"Configure",model:"Model",status:"Status",active:"Active",idle:"Idle",assocSkills:"Associated Skills"}},zh:{professional:{appName:"Claude 管理器",switchMode:"切换至 RPG 模式",dashboard:"控制面板",skills:"技能管理",agents:"智能体",teams:"协作团队",workflows:"工作流",tasks:"任务历史",settings:"系统设置",search:"搜索内容...",userRole:"系统管理员",langLabel:"语言设置",appearance:"外观",general:"常规",interfaceMode:"界面模式",proTitle:"专业模式",proDesc:"高密度的信息布局，助力高效系统管理。",advTitle:"Claude 冒险",advDesc:"沉浸式 RPG 风格界面，提供更有趣的交互体验。",langSettings:"语言偏好",selectLang:"选择您偏好的界面显示语言。",enLang:"英语",zhLang:"中文",integration:"Claude 集成",dataManagement:"数据管理",save:"保存设置",discard:"放弃更改",overview:"系统总览",overviewDesc:"监控所有 Claude CLI 实例和 AI 工作流",baseTitle:"大本营：Claude 城堡",baseDesc:"欢迎回来，伟大的架构师。您的公会已整装待发。",skillsTitle:"技能管理",skillsDesc:"跨环境管理您的 Claude 技能和能力。",forgeSkill:"AI 生成技能",searchScrolls:"搜索技能...",all:"全部",global:"全局",plugin:"插件",project:"项目",lvl:"等级",xp:"经验值",runs:"次运行",syncSkills:"同步技能",genAi:"AI 生成",addSkill:"添加新技能",heroTitle:"AI 智能体",heroDesc:"管理并编排您的专业 AI 单元。",summonHero:"创建智能体",intel:"智力",strength:"力量",agility:"敏捷",inspectHero:"查看英雄",importAgent:"导入智能体",createAgent:"创建智能体",test:"测试",configure:"配置",model:"模型",status:"状态",active:"活跃",idle:"空闲",assocSkills:"关联技能"},adventure:{appName:"Claude 冒险",switchMode:"点击返回现实",dashboard:"主城大厅",skills:"技能图书馆",agents:"英雄殿堂",teams:"公会大厅",workflows:"副本任务",tasks:"战斗日志",settings:"设置中心",search:"寻找遗迹与技能...",userRole:"传奇冒险者",langLabel:"神谕语言",appearance:"幻象之镜",general:"核心本质",interfaceMode:"领域选择",proTitle:"凡尘世界",proDesc:"回到由表格和节点组成的管理现实。",advTitle:"无尽冒险",advDesc:"继续在数字地牢中进行你的非凡旅程。",langSettings:"古老语言",selectLang:"选择神谕应使用的语言方言。",enLang:"通用语 (EN)",zhLang:"东方秘典 (ZH)",integration:"奥术仪式",dataManagement:"宝藏库",save:"铭记法术",discard:"放逐更改",overview:"领域总览",overviewDesc:"监控所有神秘遗迹和英雄进度。",baseTitle:"大本营：Claude 城堡",baseDesc:"欢迎回来，伟大的架构师。您的公会已整装待发。",skillsTitle:"技能图书馆：档案馆",skillsDesc:"掌握古老的自动化与智能化艺术。",forgeSkill:"锻造新法术",searchScrolls:"搜索秘籍...",all:"全部",global:"全局",plugin:"插件",project:"项目",lvl:"等级",xp:"经验",runs:"次释放",syncSkills:"同步法典",genAi:"奥术生成",addSkill:"添加新法术",heroTitle:"英雄殿堂：先锋军",heroDesc:"招募并管理您的 AI 英雄精英小队。",summonHero:"召唤英雄",intel:"智力",strength:"力量",agility:"敏捷",inspectHero:"检阅英雄",importAgent:"引入佣兵",createAgent:"召唤英雄",test:"试炼",configure:"整备",model:"核心",status:"状态",active:"出征中",idle:"休整中",assocSkills:"已习得技能"}}};function Ln(){const{mode:e,lang:t}=mt();return{t:s=>Ma[t][e][s]||Ma.en.professional[s]||s}}const Pi=N.createContext({});function zi(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const $l=typeof window<"u",Ul=$l?N.useLayoutEffect:N.useEffect,hs=N.createContext(null),Fi=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Oa(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jp(...e){return t=>{let n=!1;const s=e.map(i=>{const o=Oa(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():Oa(e[i],null)}}}}function Cp(...e){return N.useCallback(jp(...e),e)}class Tp extends N.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,i=_a(s)&&s.offsetWidth||0,o=_a(s)&&s.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=o-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Ap({children:e,isPresent:t,anchorX:n,anchorY:s,root:i,pop:o}){var m;const a=N.useId(),l=N.useRef(null),c=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=N.useContext(Fi),d=((m=e.props)==null?void 0:m.ref)??(e==null?void 0:e.ref),p=Cp(l,d);return N.useInsertionEffect(()=>{const{width:h,height:f,top:y,left:b,right:g,bottom:x}=c.current;if(t||o===!1||!l.current||!h||!f)return;const v=n==="left"?`left: ${b}`:`right: ${g}`,j=s==="bottom"?`bottom: ${x}`:`top: ${y}`;l.current.dataset.motionPopId=a;const T=document.createElement("style");u&&(T.nonce=u);const _=i??document.head;return _.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${v}px !important;
            ${j}px !important;
          }
        `),()=>{_.contains(T)&&_.removeChild(T)}},[t]),r.jsx(Tp,{isPresent:t,childRef:l,sizeRef:c,pop:o,children:o===!1?e:N.cloneElement(e,{ref:p})})}const Ip=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:a,anchorX:l,anchorY:c,root:u})=>{const d=zi(Rp),p=N.useId();let m=!0,h=N.useMemo(()=>(m=!1,{id:p,initial:t,isPresent:n,custom:i,onExitComplete:f=>{d.set(f,!0);for(const y of d.values())if(!y)return;s&&s()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[n,d,s]);return o&&m&&(h={...h}),N.useMemo(()=>{d.forEach((f,y)=>d.set(y,!1))},[n]),N.useEffect(()=>{!n&&!d.size&&s&&s()},[n]),e=r.jsx(Ap,{pop:a==="popLayout",isPresent:n,anchorX:l,anchorY:c,root:u,children:e}),r.jsx(hs.Provider,{value:h,children:e})};function Rp(){return new Map}function Hl(e=!0){const t=N.useContext(hs);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,o=N.useId();N.useEffect(()=>{if(e)return i(o)},[e]);const a=N.useCallback(()=>e&&s&&s(o),[o,s,e]);return!n&&s?[!1,a]:[!0]}const jr=e=>e.key||"";function La(e){const t=[];return N.Children.forEach(e,n=>{N.isValidElement(n)&&t.push(n)}),t}const Ue=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:l="left",anchorY:c="top",root:u})=>{const[d,p]=Hl(a),m=N.useMemo(()=>La(e),[e]),h=a&&!d?[]:m.map(jr),f=N.useRef(!0),y=N.useRef(m),b=zi(()=>new Map),g=N.useRef(new Set),[x,v]=N.useState(m),[j,T]=N.useState(m);Ul(()=>{f.current=!1,y.current=m;for(let R=0;R<j.length;R++){const z=jr(j[R]);h.includes(z)?(b.delete(z),g.current.delete(z)):b.get(z)!==!0&&b.set(z,!1)}},[j,h.length,h.join("-")]);const _=[];if(m!==x){let R=[...m];for(let z=0;z<j.length;z++){const C=j[z],B=jr(C);h.includes(B)||(R.splice(z,0,C),_.push(C))}return o==="wait"&&_.length&&(R=_),T(La(R)),v(m),null}const{forceRender:F}=N.useContext(Pi);return r.jsx(r.Fragment,{children:j.map(R=>{const z=jr(R),C=a&&!d?!1:m===j||h.includes(z),B=()=>{if(g.current.has(z))return;if(g.current.add(z),b.has(z))b.set(z,!0);else return;let D=!0;b.forEach(Q=>{Q||(D=!1)}),D&&(F==null||F(),T(y.current),a&&(p==null||p()),s&&s())};return r.jsx(Ip,{isPresent:C,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:u,onExitComplete:C?void 0:B,anchorX:l,anchorY:c,children:R},z)})})},Gl=N.createContext({strict:!1}),Da={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Pa=!1;function Mp(){if(Pa)return;const e={};for(const t in Da)e[t]={isEnabled:n=>Da[t].some(s=>!!n[s])};Ml(e),Pa=!0}function Vl(){return Mp(),qd()}function Op(e){const t=Vl();for(const n in e)t[n]={...t[n],...e[n]};Ml(t)}const Lp=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Qr(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lp.has(e)}let Kl=e=>!Qr(e);function Dp(e){typeof e=="function"&&(Kl=t=>t.startsWith("on")?!Qr(t):e(t))}try{Dp(require("@emotion/is-prop-valid").default)}catch{}function Pp(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Kl(i)||n===!0&&Qr(i)||!t&&!Qr(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const fs=N.createContext({});function zp(e,t){if(Ol(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Sa(n)?n:void 0,animate:Sa(s)?s:void 0}}return e.inherit!==!1?t:{}}function Fp(e){const{initial:t,animate:n}=zp(e,N.useContext(fs));return N.useMemo(()=>({initial:t,animate:n}),[za(t),za(n)])}function za(e){return Array.isArray(e)?e.join(" "):e}const Bi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wl(e,t,n){for(const s in t)!Ll(t[s])&&!Yd(s,n)&&(e[s]=t[s])}function Bp({transformTemplate:e},t){return N.useMemo(()=>{const n=Bi();return Xd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function $p(e,t){const n=e.style||{},s={};return Wl(s,n,e),Object.assign(s,Bp(e,t)),s}function Up(e,t){const n={},s=$p(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const ql=()=>({...Bi(),attrs:{}});function Hp(e,t,n,s){const i=N.useMemo(()=>{const o=ql();return Zd(o,t,Qd(s),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Wl(o,e.style,e),i.style={...o,...i.style}}return i}const Gp=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $i(e){return typeof e!="string"||e.includes("-")?!1:!!(Gp.indexOf(e)>-1||/[A-Z]/u.test(e))}function Vp(e,t,n,{latestValues:s},i,o=!1,a){const c=(a??$i(e)?Hp:Up)(t,s,i,e),u=Pp(t,typeof e=="string",o),d=e!==N.Fragment?{...u,...c,ref:n}:{},{children:p}=t,m=N.useMemo(()=>Ll(p)?p.get():p,[p]);return N.createElement(e,{...d,children:m})}function Kp({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:Wp(n,s,i,e),renderState:t()}}function Wp(e,t,n,s){const i={},o=s(e,{});for(const m in o)i[m]=Jd(o[m]);let{initial:a,animate:l}=e;const c=Ol(e),u=ep(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?l:a;if(p&&typeof p!="boolean"&&!Dl(p)){const m=Array.isArray(p)?p:[p];for(let h=0;h<m.length;h++){const f=tp(e,m[h]);if(f){const{transitionEnd:y,transition:b,...g}=f;for(const x in g){let v=g[x];if(Array.isArray(v)){const j=d?v.length-1:0;v=v[j]}v!==null&&(i[x]=v)}for(const x in y)i[x]=y[x]}}}return i}const Yl=e=>(t,n)=>{const s=N.useContext(fs),i=N.useContext(hs),o=()=>Kp(e,t,s,i);return n?o():zi(o)},qp=Yl({scrapeMotionValuesFromProps:np,createRenderState:Bi}),Yp=Yl({scrapeMotionValuesFromProps:rp,createRenderState:ql}),Xp=Symbol.for("motionComponentSymbol");function Zp(e,t,n){const s=N.useRef(n);N.useInsertionEffect(()=>{s.current=n});const i=N.useRef(null);return N.useCallback(o=>{var l;o&&((l=e.onMount)==null||l.call(e,o)),t&&(o?t.mount(o):t.unmount());const a=s.current;if(typeof a=="function")if(o){const c=a(o);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):a(o);else a&&(a.current=o)},[t])}const Xl=N.createContext({});function kn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Qp(e,t,n,s,i,o){var v,j;const{visualElement:a}=N.useContext(fs),l=N.useContext(Gl),c=N.useContext(hs),u=N.useContext(Fi),d=u.reducedMotion,p=u.skipAnimations,m=N.useRef(null),h=N.useRef(!1);s=s||l.renderer,!m.current&&s&&(m.current=s(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d,skipAnimations:p,isSVG:o}),h.current&&m.current&&(m.current.manuallyAnimateOnMount=!0));const f=m.current,y=N.useContext(Xl);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Jp(m.current,n,i,y);const b=N.useRef(!1);N.useInsertionEffect(()=>{f&&b.current&&f.update(n,c)});const g=n[sp],x=N.useRef(!!g&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,g))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,g)));return Ul(()=>{h.current=!0,f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),N.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,g)}),x.current=!1),f.enteringChildren=void 0)}),f}function Jp(e,t,n,s){const{layoutId:i,layout:o,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Zl(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||l&&kn(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function Zl(e){if(e)return e.options.allowProjection!==!1?e.projection:Zl(e.parent)}function js(e,{forwardMotionProps:t=!1,type:n}={},s,i){s&&Op(s);const o=n?n==="svg":$i(e),a=o?Yp:qp;function l(u,d){let p;const m={...N.useContext(Fi),...u,layoutId:em(u)},{isStatic:h}=m,f=Fp(u),y=a(u,h);if(!h&&$l){tm();const b=nm(m);p=b.MeasureLayout,f.visualElement=Qp(e,y,m,i,b.ProjectionNode,o)}return r.jsxs(fs.Provider,{value:f,children:[p&&f.visualElement?r.jsx(p,{visualElement:f.visualElement,...m}):null,Vp(e,u,Zp(y,f.visualElement,d),y,h,t,o)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=N.forwardRef(l);return c[Xp]=e,c}function em({layoutId:e}){const t=N.useContext(Pi).id;return t&&e!==void 0?t+"-"+e:e}function tm(e,t){N.useContext(Gl).strict}function nm(e){const t=Vl(),{drag:n,layout:s}=t;if(!n&&!s)return{};const i={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function rm(e,t){if(typeof Proxy>"u")return js;const n=new Map,s=(o,a)=>js(o,a,e,t),i=(o,a)=>s(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?s:(n.has(a)||n.set(a,js(a,void 0,e,t)),n.get(a))})}const sm=(e,t)=>t.isSVG??$i(e)?new ip(t):new ap(t,{allowProjection:e!==N.Fragment});class im extends Qt{constructor(t){super(t),t.animationState||(t.animationState=op(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Dl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let am=0;class om extends Qt{constructor(){super(...arguments),this.id=am++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const lm={animation:{Feature:im},exit:{Feature:om}};function pr(e){return{point:{x:e.pageX,y:e.pageY}}}const cm=e=>t=>Pl(t)&&e(t,pr(t));function qn(e,t,n,s){return Xr(e,t,cm(n),s)}const Ql=({current:e})=>e?e.ownerDocument.defaultView:null,Fa=new Set(["auto","scroll"]);class Jl{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=h=>{this.handleScroll(h.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ts(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=lp(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!y)return;const{point:b}=h,{timestamp:g}=ja;this.history.push({...b,timestamp:g});const{onStart:x,onMove:v}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Cs(f,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ts(h.type==="pointercancel"?this.lastMoveEventInfo:Cs(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,x),b&&b(h,x)},!Pl(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=i||window;const c=pr(t),u=Cs(c,this.transformPagePoint),{point:d}=u,{timestamp:p}=ja;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=n;m&&m(t,Ts(u,this.history)),this.removeListeners=zl(qn(this.contextWindow,"pointermove",this.handlePointerMove),qn(this.contextWindow,"pointerup",this.handlePointerUp),qn(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(Fa.has(s.overflowX)||Fa.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,i=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:i.x-n.x,y:i.y-n.y};o.x===0&&o.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,i),Et.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),cp(this.updatePoint)}}function Cs(e,t){return t?{point:t(e.point)}:e}function Ba(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ts({point:e},t){return{point:e,delta:Ba(e,ec(t)),offset:Ba(e,um(t)),velocity:dm(t,.1)}}function um(e){return e[0]}function ec(e){return e[e.length-1]}function dm(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=ec(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>Ca(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&i.timestamp-s.timestamp>Ca(t)*2&&(s=e[1]);const o=up(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function pm(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Zr(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Zr(n,e,s.max):Math.min(e,n)),e}function $a(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function mm(e,{top:t,left:n,bottom:s,right:i}){return{x:$a(e.x,n,i),y:$a(e.y,t,s)}}function Ua(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function hm(e,t){return{x:Ua(e.x,t.x),y:Ua(e.y,t.y)}}function fm(e,t){let n=.5;const s=ai(e),i=ai(t);return i>s?n=Ta(t.min,t.max-s,e.min):s>i&&(n=Ta(e.min,e.max-i,t.min)),dp(0,1,n)}function gm(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const oi=.35;function xm(e=oi){return e===!1?e=0:e===!0&&(e=oi),{x:Ha(e,"left","right"),y:Ha(e,"top","bottom")}}function Ha(e,t,n){return{min:Ga(e,t),max:Ga(e,n)}}function Ga(e,t){return typeof e=="number"?e:e[t]||0}const bm=new WeakMap;class ym{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pp(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=p=>{n&&this.snapToCursor(pr(p).point),this.stopAnimation()},a=(p,m)=>{const{drag:h,dragPropagation:f,onDragStart:y}=this.getProps();if(h&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xp(h),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wt(g=>{let x=this.getAxisMotionValue(g).get()||0;if(bp.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const j=v.layout.layoutBox[g];j&&(x=ai(j)*(parseFloat(x)/100))}}this.originPoint[g]=x}),y&&Et.update(()=>y(p,m),!1,!0),Aa(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m;const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:y,onDrag:b}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=m;if(f&&this.currentDirection===null){this.currentDirection=vm(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,g),this.updateAxis("y",m.point,g),this.visualElement.render(),b&&Et.update(()=>b(p,m),!1,!0)},c=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m,this.stop(p,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:p}=this.getProps();(p||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:d}=this.getProps();this.panSession=new Jl(t,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:Ql(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!s)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Et.postRender(()=>l(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!Cr(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=pm(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&kn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=mm(s.layoutBox,t):this.constraints=!1,this.elastic=xm(n),i!==this.constraints&&!kn(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&Wt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=gm(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!kn(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=mp(s,i.root,this.visualElement.getTransformPagePoint());let a=hm(i.layout.layoutBox,o);if(n){const l=n(hp(a));this.hasMutatedConstraints=!!l,l&&(a=fp(l))}return a}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Wt(d=>{if(!Cr(d,n,this.currentDirection))return;let p=c&&c[d]||{};a&&(p={min:0,max:0});const m=i?200:1e6,h=i?40:1e7,f={type:"inertia",velocity:s?t[d]:0,bounceStiffness:m,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(d,f)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Aa(this.visualElement,t),s.start(gp(t,s,0,n,this.visualElement,!1))}stopAnimation(){Wt(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Wt(n=>{const{drag:s}=this.getProps();if(!Cr(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n],c=o.get()||0;o.set(t[n]-Zr(a,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!kn(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Wt(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=fm({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Wt(a=>{if(!Cr(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Zr(c,u,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;bm.set(this.visualElement,this);const t=this.visualElement.current,n=qn(t,"pointerdown",u=>{const{drag:d,dragListener:p=!0}=this.getProps(),m=u.target,h=m!==t&&yp(m);d&&p&&!h&&this.start(u)});let s;const i=()=>{const{dragConstraints:u}=this.getProps();kn(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),s||(s=wm(t,u.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Et.read(i);const l=Xr(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Wt(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=u[p].translate,m.set(m.get()+u[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=oi,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Va(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function wm(e,t,n){const s=Ia(e,Va(n)),i=Ia(t,Va(n));return()=>{s(),i()}}function Cr(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function vm(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Nm extends Qt{constructor(t){super(t),this.removeGroupControls=Ur,this.removeListeners=Ur,this.controls=new ym(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ur}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const As=e=>(t,n)=>{e&&Et.update(()=>e(t,n),!1,!0)};class Em extends Qt{constructor(){super(...arguments),this.removePointerDownListener=Ur}onPointerDown(t){this.session=new Jl(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ql(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:As(t),onStart:As(n),onMove:As(s),onEnd:(o,a)=>{delete this.session,i&&Et.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=qn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Is=!1;class km extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),Is&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),vp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,{projection:a}=s;return a&&(a.isPresent=o,t.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),Is=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||Et.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;Is=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tc(e){const[t,n]=Hl(),s=N.useContext(Pi);return r.jsx(km,{...e,layoutGroup:s,switchLayoutGroup:N.useContext(Xl),isPresent:t,safeToRemove:n})}const _m={pan:{Feature:Em},drag:{Feature:Nm,ProjectionNode:Fl,MeasureLayout:tc}};function Ka(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&Et.postRender(()=>o(t,pr(t)))}class Sm extends Qt{mount(){const{current:t}=this.node;t&&(this.unmount=Np(t,(n,s)=>(Ka(this.node,s,"Start"),i=>Ka(this.node,i,"End"))))}unmount(){}}class jm extends Qt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zl(Xr(this.node.current,"focus",()=>this.onFocus()),Xr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Wa(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&Et.postRender(()=>o(t,pr(t)))}class Cm extends Qt{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=Ep(t,(i,o)=>(Wa(this.node,o,"Start"),(a,{success:l})=>Wa(this.node,a,l?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const li=new WeakMap,Rs=new WeakMap,Tm=e=>{const t=li.get(e.target);t&&t(e)},Am=e=>{e.forEach(Tm)};function Im({root:e,...t}){const n=e||document;Rs.has(n)||Rs.set(n,{});const s=Rs.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(Am,{root:e,...t})),s[i]}function Rm(e,t,n){const s=Im(t);return li.set(e,n),s.observe(e),()=>{li.delete(e),s.unobserve(e)}}const Mm={some:0,all:1};class Om extends Qt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Mm[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),m=u?d:p;m&&m(c)};return Rm(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Lm(t,n))&&this.startObserver()}unmount(){}}function Lm({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Dm={inView:{Feature:Om},tap:{Feature:Cm},focus:{Feature:jm},hover:{Feature:Sm}},Pm={layout:{ProjectionNode:Fl,MeasureLayout:tc}},zm={...lm,...Dm,..._m,...Pm},Ee=rm(zm,sm),Fm=({collapsed:e=!1})=>{const{mode:t}=mt(),{t:n}=Ln(),s=[{name:n("dashboard"),path:"/",icon:t==="adventure"?ln:yl},{name:n("skills"),path:"/skills",icon:t==="adventure"?Jn:cr},{name:n("agents"),path:"/agents",icon:t==="adventure"?yt:er},{name:n("teams"),path:"/teams",icon:t==="adventure"?In:In},{name:n("workflows"),path:"/workflows",icon:t==="adventure"?wl:tr},{name:n("tasks"),path:"/tasks",icon:t==="adventure"?nr:vl}];return r.jsxs("nav",{className:`flex flex-col gap-2 ${e?"p-2":"p-4"}`,children:[s.map(i=>r.jsxs(ba,{to:i.path,title:e?i.name:void 0,className:({isActive:o})=>`
            flex items-center ${e?"justify-center":"gap-3"} ${e?"px-3":"px-4"} py-3 rounded-xl transition-all
            ${o?t==="adventure"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/50 shadow-[0_0_10px_rgba(234,179,8,0.2)]":"bg-blue-600/20 text-blue-400 border border-blue-500/30":"text-gray-400 hover:bg-white/5 hover:text-white"}
          `,children:[r.jsx(i.icon,{size:20}),!e&&r.jsx("span",{className:"font-medium whitespace-nowrap overflow-hidden text-ellipsis",children:i.name})]},i.path)),r.jsx("div",{className:`mt-auto pt-4 border-t border-white/10 ${e?"mx-1":""}`,children:r.jsxs(ba,{to:"/settings",title:e?n("settings"):void 0,className:({isActive:i})=>`
            flex items-center ${e?"justify-center":"gap-3"} ${e?"px-3":"px-4"} py-3 rounded-xl transition-all
            ${i?t==="adventure"?"bg-yellow-500/20 text-yellow-400":"bg-blue-600/20 text-blue-400":"text-gray-400 hover:bg-white/5 hover:text-white"}
          `,children:[r.jsx(un,{size:20}),!e&&r.jsx("span",{className:"font-medium",children:n("settings")})]})})]})},Bm=()=>{const{mode:e,toggleMode:t,lang:n}=mt(),{t:s}=Ln(),[i,o]=vt.useState(!0),[a,l]=vt.useState(!1),c=vt.useRef(null);return vt.useEffect(()=>{const u=d=>{var p;a&&c.current&&!((p=c.current.parentElement)!=null&&p.contains(d.target))&&l(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[a]),vt.useEffect(()=>{a&&c.current&&c.current.focus()},[a]),r.jsxs("div",{className:`min-h-screen flex text-white overflow-hidden transition-colors duration-500 ${e==="adventure"?"bg-[#0a0a14]":"bg-[#0f111a]"}`,children:[r.jsxs("aside",{className:`
        ${i?"w-72":"w-20"} 
        hidden md:flex flex-col border-r border-white/5 transition-all duration-300 relative z-50
        ${e==="adventure"?"bg-[#121225]":"bg-[#0a0b14]/80 backdrop-blur-2xl"}
      `,children:[r.jsxs("button",{onClick:t,className:`
            h-24 flex items-center px-6 gap-4 group transition-all duration-500 hover:bg-white/5
            ${e==="adventure"?"border-b border-yellow-500/20":"border-b border-blue-500/20"}
          `,children:[r.jsx("div",{className:`
              w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-500 group-hover:scale-110 shadow-lg relative overflow-hidden
              ${e==="adventure"?"bg-gradient-to-br from-yellow-400 to-orange-600 shadow-yellow-500/20":"bg-blue-500/10 backdrop-blur-xl border border-blue-400/30 shadow-blue-500/10"}
            `,children:e==="adventure"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-40",children:r.jsx(kt,{className:"w-10 h-10 scale-125 rotate-12"})}),r.jsxs("div",{className:"relative z-10 flex items-center justify-center",children:[r.jsx(ln,{size:24,className:"text-white drop-shadow-[0_0_8px_rgba(255,255,255,0.8)]"}),r.jsx(Ee.div,{animate:{scale:[1,1.5,1],opacity:[.3,.8,.3],rotate:[0,90,180]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1 text-yellow-200",children:r.jsx(kt,{size:12,fill:"currentColor"})})]})]}):r.jsxs("div",{className:"relative",children:[r.jsx(Xe,{size:24,fill:"currentColor",className:"text-blue-400 drop-shadow-[0_0_15px_rgba(96,165,250,0.6)] animate-pulse"}),r.jsx("div",{className:"absolute inset-0 bg-blue-400/20 blur-xl scale-150 rounded-full"})]})}),i&&r.jsx("div",{className:"flex flex-col items-start overflow-hidden",children:r.jsxs(Ee.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex flex-col",children:[r.jsx("span",{className:`
                  text-lg font-black tracking-tighter uppercase italic leading-[0.85]
                  ${e==="adventure"?"text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500":"text-white"}
                `,children:"Claude"}),r.jsx("span",{className:`
                  text-sm font-black tracking-[0.2em] uppercase leading-tight
                  ${e==="adventure"?"text-yellow-500/80 italic":"text-blue-500/80"}
                `,children:e==="adventure"?n==="zh"?"大冒险":"Adventure":n==="zh"?"管理器":"Manager"})]},`${e}-${n}`)})]}),r.jsx(Fm,{collapsed:!i})]}),r.jsxs("main",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[r.jsxs("header",{className:`
          h-20 flex items-center justify-between px-8 border-b border-white/5
          ${e==="adventure"?"bg-[#121225]":"bg-white/[0.02] backdrop-blur-xl"}
        `,children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("button",{onClick:()=>o(!i),className:`
                hidden md:flex p-2.5 rounded-xl transition-all duration-200
                ${i?"hover:bg-white/5 text-gray-400 hover:text-white":e==="adventure"?"bg-yellow-500/10 text-yellow-400 hover:bg-yellow-500/20":"bg-blue-500/10 text-blue-400 hover:bg-blue-500/20"}
              `,title:i?"收起侧边栏":"展开侧边栏",children:i?r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),r.jsx("path",{d:"M9 3v18"}),r.jsx("path",{d:"m14 9-3 3 3 3"})]}):r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),r.jsx("path",{d:"M9 3v18"}),r.jsx("path",{d:"m16 15-3-3 3-3"})]})}),r.jsx("button",{onClick:()=>o(!i),className:"md:hidden p-2 hover:bg-white/5 rounded-lg",children:r.jsx(hd,{size:24})}),r.jsxs("button",{onClick:t,className:"md:hidden flex items-center gap-2 px-3 py-1 bg-white/5 rounded-full border border-white/10",children:[r.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${e==="adventure"?"bg-yellow-500":"bg-blue-600"}`,children:e==="adventure"?r.jsx(ln,{size:10}):r.jsx(Xe,{size:10})}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:e==="adventure"?"RPG":"PRO"})]}),r.jsx("div",{className:"relative hidden sm:flex items-center",children:r.jsxs(Ee.div,{initial:!1,animate:{width:a?320:42},transition:{duration:.2,ease:"easeInOut"},className:`
                  relative flex items-center overflow-hidden rounded-xl
                  ${a?"bg-white/5 border border-white/10":"hover:bg-white/5"}
                `,children:[r.jsx("button",{onClick:()=>l(!a),className:`
                    flex-shrink-0 p-3 transition-colors
                    ${a?"text-gray-400":"text-gray-400 hover:text-white"}
                  `,children:r.jsx(cn,{size:18})}),r.jsx(Ue,{children:a&&r.jsx(Ee.input,{ref:c,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},type:"text",placeholder:s("search"),onKeyDown:u=>{u.key==="Escape"&&l(!1)},className:"flex-1 bg-transparent py-2 pr-4 focus:outline-none text-sm"})})]})})]}),r.jsx("div",{className:"flex items-center gap-6",children:r.jsxs("div",{className:"flex items-center gap-3 pl-6 border-l border-white/10",children:[r.jsxs("div",{className:"text-right hidden sm:block",children:[r.jsx("p",{className:"text-sm font-bold",children:"Local"}),e==="adventure"?r.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[r.jsx("span",{className:"text-[10px] text-yellow-500 font-bold uppercase",children:"LVL 42"}),r.jsx("div",{className:"w-16 h-1 bg-white/10 rounded-full overflow-hidden",children:r.jsx("div",{className:"w-3/4 h-full bg-yellow-500"})})]}):r.jsx("p",{className:"text-[10px] text-gray-400",children:s("userRole")})]}),r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 p-0.5",children:r.jsx("div",{className:"w-full h-full rounded-full bg-[#0a0a0a] flex items-center justify-center overflow-hidden",children:r.jsx(Qn,{size:20})})})]})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-8 relative",children:r.jsx(Ue,{mode:"wait",children:r.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:r.jsx(ud,{})},e)})})]})]})},Ui="-",$m=e=>{const t=Hm(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:a=>{const l=a.split(Ui);return l[0]===""&&l.length!==1&&l.shift(),nc(l,t)||Um(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&s[a]?[...c,...s[a]]:c}}},nc=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?nc(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Ui);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},qa=/^\[(.+)\]$/,Um=e=>{if(qa.test(e)){const t=qa.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Hm=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const i in n)ci(n[i],s,i,t);return s},ci=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:Ya(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(Gm(i)){ci(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{ci(a,Ya(t,o),n,s)})})},Ya=(e,t)=>{let n=e;return t.split(Ui).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Gm=e=>e.isThemeGetter,Vm=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=s.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},ui="!",di=":",Km=di.length,Wm=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=i=>{const o=[];let a=0,l=0,c=0,u;for(let f=0;f<i.length;f++){let y=i[f];if(a===0&&l===0){if(y===di){o.push(i.slice(c,f)),c=f+Km;continue}if(y==="/"){u=f;continue}}y==="["?a++:y==="]"?a--:y==="("?l++:y===")"&&l--}const d=o.length===0?i:i.substring(c),p=qm(d),m=p!==d,h=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:h}};if(t){const i=t+di,o=s;s=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=s;s=o=>n({className:o,parseClassName:i})}return s},qm=e=>e.endsWith(ui)?e.substring(0,e.length-1):e.startsWith(ui)?e.substring(1):e,Ym=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let o=[];return s.forEach(a=>{a[0]==="["||t[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},Xm=e=>({cache:Vm(e.cacheSize),parseClassName:Wm(e),sortModifiers:Ym(e),...$m(e)}),Zm=/\s+/,Qm=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],l=e.trim().split(Zm);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:p,modifiers:m,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:y}=n(d);if(p){c=d+(c.length>0?" "+c:c);continue}let b=!!y,g=s(b?f.substring(0,y):f);if(!g){if(!b){c=d+(c.length>0?" "+c:c);continue}if(g=s(f),!g){c=d+(c.length>0?" "+c:c);continue}b=!1}const x=o(m).join(":"),v=h?x+ui:x,j=v+g;if(a.includes(j))continue;a.push(j);const T=i(g,b);for(let _=0;_<T.length;++_){const F=T[_];a.push(v+F)}c=d+(c.length>0?" "+c:c)}return c};function Jm(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=rc(t))&&(s&&(s+=" "),s+=n);return s}const rc=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=rc(e[s]))&&(n&&(n+=" "),n+=t);return n};function eh(e,...t){let n,s,i,o=a;function a(c){const u=t.reduce((d,p)=>p(d),e());return n=Xm(u),s=n.cache.get,i=n.cache.set,o=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=Qm(c,n);return i(c,d),d}return function(){return o(Jm.apply(null,arguments))}}const Ge=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},sc=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ic=/^\((?:(\w[\w-]*):)?(.+)\)$/i,th=/^\d+\/\d+$/,nh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ih=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ah=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vn=e=>th.test(e),we=e=>!!e&&!Number.isNaN(Number(e)),qt=e=>!!e&&Number.isInteger(Number(e)),Ms=e=>e.endsWith("%")&&we(e.slice(0,-1)),$t=e=>nh.test(e),oh=()=>!0,lh=e=>rh.test(e)&&!sh.test(e),ac=()=>!1,ch=e=>ih.test(e),uh=e=>ah.test(e),dh=e=>!te(e)&&!ne(e),ph=e=>Dn(e,cc,ac),te=e=>sc.test(e),rn=e=>Dn(e,uc,lh),Os=e=>Dn(e,xh,we),Xa=e=>Dn(e,oc,ac),mh=e=>Dn(e,lc,uh),Tr=e=>Dn(e,dc,ch),ne=e=>ic.test(e),$n=e=>Pn(e,uc),hh=e=>Pn(e,bh),Za=e=>Pn(e,oc),fh=e=>Pn(e,cc),gh=e=>Pn(e,lc),Ar=e=>Pn(e,dc,!0),Dn=(e,t,n)=>{const s=sc.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},Pn=(e,t,n=!1)=>{const s=ic.exec(e);return s?s[1]?t(s[1]):n:!1},oc=e=>e==="position"||e==="percentage",lc=e=>e==="image"||e==="url",cc=e=>e==="length"||e==="size"||e==="bg-size",uc=e=>e==="length",xh=e=>e==="number",bh=e=>e==="family-name",dc=e=>e==="shadow",yh=()=>{const e=Ge("color"),t=Ge("font"),n=Ge("text"),s=Ge("font-weight"),i=Ge("tracking"),o=Ge("leading"),a=Ge("breakpoint"),l=Ge("container"),c=Ge("spacing"),u=Ge("radius"),d=Ge("shadow"),p=Ge("inset-shadow"),m=Ge("text-shadow"),h=Ge("drop-shadow"),f=Ge("blur"),y=Ge("perspective"),b=Ge("aspect"),g=Ge("ease"),x=Ge("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...j(),ne,te],_=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],R=()=>[ne,te,c],z=()=>[vn,"full","auto",...R()],C=()=>[qt,"none","subgrid",ne,te],B=()=>["auto",{span:["full",qt,ne,te]},qt,ne,te],D=()=>[qt,"auto",ne,te],Q=()=>["auto","min","max","fr",ne,te],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...R()],V=()=>[vn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],P=()=>[e,ne,te],se=()=>[...j(),Za,Xa,{position:[ne,te]}],E=()=>["no-repeat",{repeat:["","x","y","space","round"]}],de=()=>["auto","cover","contain",fh,ph,{size:[ne,te]}],$=()=>[Ms,$n,rn],w=()=>["","none","full",u,ne,te],I=()=>["",we,$n,rn],A=()=>["solid","dashed","dotted","double"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[we,Ms,Za,Xa],ae=()=>["","none",f,ne,te],G=()=>["none",we,ne,te],he=()=>["none",we,ne,te],Re=()=>[we,ne,te],be=()=>[vn,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$t],breakpoint:[$t],color:[oh],container:[$t],"drop-shadow":[$t],ease:["in","out","in-out"],font:[dh],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$t],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$t],shadow:[$t],spacing:["px",we],text:[$t],"text-shadow":[$t],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vn,te,ne,b]}],container:["container"],columns:[{columns:[we,te,ne,l]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[qt,"auto",ne,te]}],basis:[{basis:[vn,"full","auto",l,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[we,vn,"auto","initial","none",te]}],grow:[{grow:["",we,ne,te]}],shrink:[{shrink:["",we,ne,te]}],order:[{order:[qt,"first","last","none",ne,te]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[l,"screen",...V()]}],"min-w":[{"min-w":[l,"screen","none",...V()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...V()]}],h:[{h:["screen",...V()]}],"min-h":[{"min-h":["screen","none",...V()]}],"max-h":[{"max-h":["screen",...V()]}],"font-size":[{text:["base",n,$n,rn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ne,Os]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ms,te]}],"font-family":[{font:[hh,te,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ne,te]}],"line-clamp":[{"line-clamp":[we,"none",ne,Os]}],leading:[{leading:[o,...R()]}],"list-image":[{"list-image":["none",ne,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ne,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:[we,"from-font","auto",ne,rn]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[we,"auto",ne,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:E()}],"bg-size":[{bg:de()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qt,ne,te],radial:["",ne,te],conic:[qt,ne,te]},gh,mh]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:w()}],"rounded-s":[{"rounded-s":w()}],"rounded-e":[{"rounded-e":w()}],"rounded-t":[{"rounded-t":w()}],"rounded-r":[{"rounded-r":w()}],"rounded-b":[{"rounded-b":w()}],"rounded-l":[{"rounded-l":w()}],"rounded-ss":[{"rounded-ss":w()}],"rounded-se":[{"rounded-se":w()}],"rounded-ee":[{"rounded-ee":w()}],"rounded-es":[{"rounded-es":w()}],"rounded-tl":[{"rounded-tl":w()}],"rounded-tr":[{"rounded-tr":w()}],"rounded-br":[{"rounded-br":w()}],"rounded-bl":[{"rounded-bl":w()}],"border-w":[{border:I()}],"border-w-x":[{"border-x":I()}],"border-w-y":[{"border-y":I()}],"border-w-s":[{"border-s":I()}],"border-w-e":[{"border-e":I()}],"border-w-t":[{"border-t":I()}],"border-w-r":[{"border-r":I()}],"border-w-b":[{"border-b":I()}],"border-w-l":[{"border-l":I()}],"divide-x":[{"divide-x":I()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":I()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...A(),"hidden","none"]}],"divide-style":[{divide:[...A(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...A(),"none","hidden"]}],"outline-offset":[{"outline-offset":[we,ne,te]}],"outline-w":[{outline:["",we,$n,rn]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",d,Ar,Tr]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",p,Ar,Tr]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[we,rn]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":I()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",m,Ar,Tr]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[we,ne,te]}],"mix-blend":[{"mix-blend":[...ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[we]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[ne,te]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[we]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:E()}],"mask-size":[{mask:de()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ne,te]}],filter:[{filter:["","none",ne,te]}],blur:[{blur:ae()}],brightness:[{brightness:[we,ne,te]}],contrast:[{contrast:[we,ne,te]}],"drop-shadow":[{"drop-shadow":["","none",h,Ar,Tr]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",we,ne,te]}],"hue-rotate":[{"hue-rotate":[we,ne,te]}],invert:[{invert:["",we,ne,te]}],saturate:[{saturate:[we,ne,te]}],sepia:[{sepia:["",we,ne,te]}],"backdrop-filter":[{"backdrop-filter":["","none",ne,te]}],"backdrop-blur":[{"backdrop-blur":ae()}],"backdrop-brightness":[{"backdrop-brightness":[we,ne,te]}],"backdrop-contrast":[{"backdrop-contrast":[we,ne,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",we,ne,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[we,ne,te]}],"backdrop-invert":[{"backdrop-invert":["",we,ne,te]}],"backdrop-opacity":[{"backdrop-opacity":[we,ne,te]}],"backdrop-saturate":[{"backdrop-saturate":[we,ne,te]}],"backdrop-sepia":[{"backdrop-sepia":["",we,ne,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ne,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[we,"initial",ne,te]}],ease:[{ease:["linear","initial",g,ne,te]}],delay:[{delay:[we,ne,te]}],animate:[{animate:["none",x,ne,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ne,te]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[ne,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne,te]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[we,$n,rn,Os]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Hi=eh(yh);function Jr(...e){return Hi(ds(e))}const me=({children:e,className:t,onClick:n})=>r.jsxs(Ee.div,{whileHover:{y:-5,scale:1.01},onClick:n,className:Jr("bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 shadow-xl","hover:border-white/20 transition-all duration-300 cursor-pointer overflow-hidden relative group",t),children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),r.jsx("div",{className:"relative z-10",children:e})]}),Xt=({children:e,rarity:t="common",className:n,onClick:s})=>{const i={common:"border-gray-500 shadow-[0_0_10px_rgba(107,114,128,0.3)]",rare:"border-blue-400 shadow-[0_0_15px_rgba(59,130,246,0.4)]",epic:"border-purple-500 shadow-[0_0_20px_rgba(168,85,247,0.5)]",legendary:"border-yellow-500 shadow-[0_0_30px_rgba(234,179,8,0.6)]"};return r.jsxs(Ee.div,{whileHover:{scale:1.05,rotateY:5,rotateX:-5},whileTap:{scale:.95},onClick:s,className:Jr("relative bg-[#1a1a2e] border-2 rounded-xl p-4 cursor-pointer overflow-hidden transition-all duration-300",i[t],n),children:[r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_0%,rgba(255,255,255,0.1),transparent)]"}),e]})},Ce=({children:e,className:t,onClick:n,variant:s="primary"})=>{const{mode:i}=mt();return i==="adventure"?r.jsx(Ee.button,{whileHover:{scale:1.05,boxShadow:"0 0 15px rgba(255,215,0,0.5)"},whileTap:{scale:.95},onClick:n,className:Jr("px-6 py-2 rounded-lg font-bold uppercase tracking-wider border-2 transition-all",s==="primary"?"bg-yellow-600 border-yellow-400 text-white":"bg-gray-700 border-gray-500 text-gray-200",t),children:e}):r.jsx(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:Jr("px-6 py-2 rounded-xl font-medium transition-all shadow-lg",s==="primary"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white":"bg-white/10 text-white hover:bg-white/20",t),children:e})};class wh{constructor(t){_s(this,"baseURL");_s(this,"token",null);this.baseURL=t,this.token=localStorage.getItem("auth_token")}setToken(t){this.token=t,t?localStorage.setItem("auth_token",t):localStorage.removeItem("auth_token")}async request(t,n={}){const{params:s,...i}=n;let o=`${this.baseURL}${t}`;if(s){const l=new URLSearchParams;Object.entries(s).forEach(([u,d])=>{d!=null&&l.append(u,String(d))});const c=l.toString();c&&(o+=`?${c}`)}const a={"Content-Type":"application/json",...i.headers};this.token&&(a.Authorization=`Bearer ${this.token}`);try{const l=await fetch(o,{...i,headers:a});if(!l.ok){const u=await l.json().catch(()=>({}));throw new Error(u.detail||u.message||`HTTP ${l.status}: ${l.statusText}`)}return l.status===204?void 0:await l.json()}catch(l){throw console.error("API Request Error:",l),l}}async get(t,n){return this.request(t,{...n,method:"GET"})}async post(t,n,s){return this.request(t,{...s,method:"POST",body:n?JSON.stringify(n):void 0})}async put(t,n,s){return this.request(t,{...s,method:"PUT",body:n?JSON.stringify(n):void 0})}async delete(t,n){return this.request(t,{...n,method:"DELETE"})}async patch(t,n,s){return this.request(t,{...s,method:"PATCH",body:n?JSON.stringify(n):void 0})}}const vh="/api",le=new wh(vh),on={list:e=>le.get("/skills",{params:e}),search:e=>le.get("/skills/search",{params:e}),get:e=>le.get(`/skills/${e}`),getContent:e=>le.get(`/skills/${e}/content`),create:e=>le.post("/skills",e),update:(e,t)=>le.put(`/skills/${e}`,t),delete:e=>le.delete(`/skills/${e}`),generate:e=>le.post("/skills/generate",e),generateWithClaude:e=>le.post("/skills/generate-with-claude",e),saveToGlobal:e=>le.post("/skills/save-to-global",e),toggleEnabled:(e,t)=>le.put(`/skills/${e}`,{enabled:t})},Lt={sync:e=>le.post("/agents/sync",e||{}),list:e=>le.get("/agents",{params:e}),search:e=>le.get("/agents/search",{params:e}),getScopeStats:()=>le.get("/agents/scopes"),get:e=>le.get(`/agents/${e}`),getContent:e=>le.get(`/agents/${e}/content`),create:e=>le.post("/agents",e),update:(e,t)=>le.put(`/agents/${e}`,t),updateContent:(e,t)=>le.put(`/agents/${e}/content`,t),delete:(e,t=!0)=>le.delete(`/agents/${e}`,{params:{delete_file:t}}),test:(e,t)=>le.post(`/agents/${e}/test`,null,{params:{prompt:t}}),generate:e=>le.post("/agents/generate",e),saveGenerated:e=>le.post("/agents/generate/save",null,{params:{content:e.content,scope:e.scope||"user",project_path:e.project_path}})},Hr={list:e=>le.get("/agent-teams",{params:e}),get:e=>le.get(`/agent-teams/${e}`),create:e=>le.post("/agent-teams",e),update:(e,t)=>le.put(`/agent-teams/${e}`,t),delete:e=>le.delete(`/agent-teams/${e}`),generate:e=>le.post("/agent-teams/generate-with-claude",e)},Nh={list:e=>le.get("/workflows",{params:e}),get:e=>le.get(`/workflows/${e}`),create:e=>le.post("/workflows",e),update:(e,t)=>le.put(`/workflows/${e}`,t),delete:e=>le.delete(`/workflows/${e}`),execute:(e,t)=>le.post(`/workflows/${e}/execute`,{input_data:t})},Eh={list:e=>le.get("/tasks",{params:e}),get:e=>le.get(`/tasks/${e}`),create:e=>le.post("/tasks",e),update:(e,t)=>le.put(`/tasks/${e}`,t),delete:e=>le.delete(`/tasks/${e}`),cancel:e=>le.post(`/tasks/${e}/cancel`)},kh={list:e=>le.get("/executions/",{params:e}),get:e=>le.get(`/executions/${e}`),delete:e=>le.delete(`/executions/${e}`)},_h={getStats:()=>le.get("/dashboard/stats")},pi={sync:()=>le.post("/claude/sync"),syncSkills:()=>le.post("/claude/sync/skills"),syncAgents:()=>le.post("/claude/sync/agents"),syncAgentTeams:()=>le.post("/claude/sync/agent-teams"),health:()=>le.get("/claude/health")},Qa={async get(){return(await le.get("/settings")).data},async update(e){return(await le.put("/settings",e)).data}},Sh={global:"Global",plugin:"Plugin",project:"Project"},jh={analysis:On,search:cn,documentation:Cn,code:rr,data:Ii,web:Ai,api:Xe,tool:cr,monitor:Ut,agent:Rn},Ch={analysis:"chess",search:"swimming",documentation:"sportsBottle",code:"esports",data:"gymming",web:"swimming",api:"esports",tool:"gymming",monitor:"stopwatch",agent:"trophy"};function Th(e){return e>=5e3?"legendary":e>=1e3?"epic":e>=200?"rare":"common"}function Ah(e){const t=Math.floor((Date.now()-new Date(e).getTime())/864e5);return Math.min(Math.floor(t/7)+1,12)}function Ih(e){return e%100}function Rh(e){return jh[e.toLowerCase()]||Xe}function Mh(e){return Ch[e.toLowerCase()]||"trophy"}function Oh(e){var o;const t=((o=e.meta)==null?void 0:o.usage_count)||0,n=e.meta||{},s=n.plugin_namespace||n.plugin_name;let i=n.project_name;if(!i&&e.source==="project"&&n.path){const a=n.path.split("/"),l=a.indexOf(".claude");l>0&&(i=a[l-1])}return{id:e.id,name:{en:n.name_en||e.full_name,zh:n.name_zh||e.full_name},icon:Rh(e.type),advIcon:n.adv_icon||Mh(e.type),desc:{en:n.desc_en||e.description,zh:n.desc_zh||e.description},tags:{en:n.tags_en||e.tags||[],zh:n.tags_zh||e.tags||[]},source:Sh[e.source]||"Global",projectName:i,pluginNamespace:s,status:e.enabled?"enabled":"disabled",rarity:Th(t),level:Ah(e.created_at),xp:Ih(t),usage:t,isDuplicate:n.is_duplicate||!1,duplicateCount:n.duplicate_count||1,duplicateLocations:n.duplicate_locations||[],_raw:e}}function Lh(e){return e.map(Oh)}function Dh(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Array(12).fill(0);let mi=1;class Ph{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...i}=t,o=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:mi++,a=this.toasts.find(c=>c.id===o),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...t,id:o,title:s}),{...c,...t,id:o,dismissible:l,title:s}):c):this.addToast({title:s,...i,dismissible:l,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let o=s!==void 0,a;const l=i.then(async u=>{if(a=["resolve",u],vt.isValidElement(u))o=!1,this.create({id:s,type:"default",message:u});else if(Fh(u)&&!u.ok){o=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,f=typeof p=="object"&&!vt.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:m,...f})}else if(u instanceof Error){o=!1;const p=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,f=typeof p=="object"&&!vt.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:m,...f})}else if(n.success!==void 0){o=!1;const p=typeof n.success=="function"?await n.success(u):n.success,m=typeof n.description=="function"?await n.description(u):n.description,f=typeof p=="object"&&!vt.isValidElement(p)?p:{message:p};this.create({id:s,type:"success",description:m,...f})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){o=!1;const d=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description,h=typeof d=="object"&&!vt.isValidElement(d)?d:{message:d};this.create({id:s,type:"error",description:p,...h})}}).finally(()=>{o&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof s!="string"&&typeof s!="number"?{unwrap:c}:Object.assign(s,{unwrap:c})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||mi++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xt=new Ph,zh=(e,t)=>{const n=(t==null?void 0:t.id)||mi++;return xt.addToast({title:e,...t,id:n}),n},Fh=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Bh=zh,$h=()=>xt.toasts,Uh=()=>xt.getActiveToasts(),Ir=Object.assign(Bh,{success:xt.success,info:xt.info,warning:xt.warning,error:xt.error,custom:xt.custom,message:xt.message,promise:xt.promise,dismiss:xt.dismiss,loading:xt.loading},{getHistory:$h,getToasts:Uh});Dh("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Hh=()=>{var j,T,_,F,R,z,C,B;const[e,t]=N.useState(null),[n,s]=N.useState(!1),[i,o]=N.useState("basic"),[a,l]=N.useState({}),[c,u]=N.useState(!1),[d,p]=N.useState(!1),[m,h]=N.useState(!1),f=async()=>{try{u(!0);const D=await Qa.get();t(D),l(D)}catch(D){console.error("Failed to fetch settings:",D),Ir.error("获取配置失败")}finally{u(!1)}};N.useEffect(()=>{f()},[]);const y=()=>{l(e||{}),s(!0)},b=()=>{l(e||{}),s(!1),o("basic")},g=async()=>{var D,Q;try{p(!0);const H=await Qa.update(a);t(H),s(!1),o("basic");const O=[];a.language!==(e==null?void 0:e.language)&&O.push("语言"),a.model!==(e==null?void 0:e.model)&&O.push("模型"),a.effortLevel!==(e==null?void 0:e.effortLevel)&&O.push("努力程度"),((D=a.env)==null?void 0:D.CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS)!==((Q=e==null?void 0:e.env)==null?void 0:Q.CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS)&&O.push("Agent Teams");const M=O.length>0?`配置保存成功！已更新：${O.join("、")}`:"配置保存成功！";Ir.success(M)}catch(H){console.error("Failed to save settings:",H),Ir.error("配置保存失败，请重试")}finally{p(!1)}},x=()=>{l({language:"zh-CN",model:"claude-opus-4",effortLevel:"normal",env:{CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS:"0",CLAUDE_CODE_MAX_OUTPUT_TOKENS:"32000",CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC:"1"}}),Ir.info("已重置为默认值")};if(c)return r.jsx(me,{className:"flex items-center justify-center p-8",children:r.jsx(Zt,{className:"w-6 h-6 animate-spin text-orange-500"})});const v=((j=e==null?void 0:e.env)==null?void 0:j.CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS)==="1";return r.jsxs(me,{className:"flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex-1 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-500/20 border border-orange-500/30 flex items-center justify-center",children:r.jsx(un,{size:24,className:"text-orange-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold",children:"Claude Settings"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Manage system settings"})]})]}),n&&r.jsxs("div",{className:"flex gap-2 mb-4 border-b border-white/10",children:[r.jsx("button",{onClick:()=>o("basic"),className:`px-3 py-2 text-xs font-bold transition-colors ${i==="basic"?"text-orange-400 border-b-2 border-orange-500":"text-gray-400 hover:text-gray-300"}`,children:"基础配置"}),r.jsx("button",{onClick:()=>o("env"),className:`px-3 py-2 text-xs font-bold transition-colors ${i==="env"?"text-orange-400 border-b-2 border-orange-500":"text-gray-400 hover:text-gray-300"}`,children:"环境变量"})]}),n?r.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[i==="basic"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Language"}),r.jsxs("select",{value:a.language||"",onChange:D=>l({...a,language:D.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-sm focus:outline-none focus:border-orange-500/50",children:[r.jsx("option",{value:"zh-CN",children:"简体中文"}),r.jsx("option",{value:"en-US",children:"English"}),r.jsx("option",{value:"zh-TW",children:"繁體中文"}),r.jsx("option",{value:"ja-JP",children:"日本語"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Model"}),r.jsxs("select",{value:a.model||"",onChange:D=>l({...a,model:D.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-sm focus:outline-none focus:border-orange-500/50",children:[r.jsx("option",{value:"claude-opus-4",children:"Claude Opus 4"}),r.jsx("option",{value:"claude-sonnet-3.5",children:"Claude Sonnet 3.5"}),r.jsx("option",{value:"claude-haiku-3",children:"Claude Haiku 3"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Effort Level"}),r.jsxs("select",{value:a.effortLevel||"",onChange:D=>l({...a,effortLevel:D.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-sm focus:outline-none focus:border-orange-500/50",children:[r.jsx("option",{value:"low",children:"Low - 快速响应"}),r.jsx("option",{value:"normal",children:"Normal - 平衡模式"}),r.jsx("option",{value:"high",children:"High - 深度思考"})]})]})]}),i==="env"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-4 bg-cyan-500/10 border-2 border-cyan-500/30 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{size:20,className:"text-cyan-400"}),r.jsx("label",{className:"text-sm font-bold text-cyan-300",children:"Agent Teams 功能"})]}),r.jsx("button",{onClick:()=>{var D;return l({...a,env:{...a.env,CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS:((D=a.env)==null?void 0:D.CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS)==="1"?"0":"1"}})},className:`w-12 h-6 rounded-full transition-colors ${((T=a.env)==null?void 0:T.CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS)==="1"?"bg-cyan-500":"bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${((_=a.env)==null?void 0:_.CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS)==="1"?"translate-x-6":"translate-x-1"}`})})]}),r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"启用后可使用多智能体协作功能，让多个 AI 助手协同工作"}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-cyan-400",children:[r.jsx(fd,{size:12}),r.jsxs("span",{children:["当前状态：",((F=a.env)==null?void 0:F.CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS)==="1"?"已启用":"已禁用"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Max Output Tokens"}),r.jsx("input",{type:"number",value:((R=a.env)==null?void 0:R.CLAUDE_CODE_MAX_OUTPUT_TOKENS)||"32000",onChange:D=>l({...a,env:{...a.env,CLAUDE_CODE_MAX_OUTPUT_TOKENS:D.target.value}}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-sm focus:outline-none focus:border-orange-500/50"}),r.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"最大输出令牌数（建议：32000）"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-300 block",children:"Disable Nonessential Traffic"}),r.jsx("p",{className:"text-[10px] text-gray-500",children:"禁用非必要网络请求"})]}),r.jsx("button",{onClick:()=>{var D;return l({...a,env:{...a.env,CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC:((D=a.env)==null?void 0:D.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC)==="1"?"0":"1"}})},className:`w-12 h-6 rounded-full transition-colors ${((z=a.env)==null?void 0:z.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC)==="1"?"bg-orange-500":"bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${((C=a.env)==null?void 0:C.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC)==="1"?"translate-x-6":"translate-x-1"}`})})]}),((B=a.env)==null?void 0:B.ANTHROPIC_AUTH_TOKEN)&&r.jsxs("div",{children:[r.jsxs("label",{className:"text-xs text-gray-400 block mb-1 flex items-center gap-2",children:["ANTHROPIC_AUTH_TOKEN",r.jsx("span",{className:"text-[10px] text-orange-400",children:"(只读)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:m?"text":"password",value:a.env.ANTHROPIC_AUTH_TOKEN,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-800/50 border border-white/10 rounded-lg text-sm text-gray-400 cursor-not-allowed"}),r.jsx("button",{onClick:()=>h(!m),className:"px-3 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg transition-colors",title:m?"隐藏":"显示",children:m?r.jsx(Nl,{size:16}):r.jsx(Ri,{size:16})})]}),r.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"敏感信息，仅供查看"})]})]})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Language"}),r.jsx("span",{className:"text-sm font-bold text-white",children:(e==null?void 0:e.language)||"N/A"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Model"}),r.jsx("span",{className:"text-sm font-bold text-white",children:(e==null?void 0:e.model)||"N/A"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Effort Level"}),r.jsx("span",{className:"text-sm font-bold text-white",children:(e==null?void 0:e.effortLevel)||"N/A"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Agent Teams"}),r.jsx("span",{className:`text-sm font-bold ${v?"text-green-400":"text-gray-500"}`,children:v?"已启用":"已禁用"})]})]})]}),r.jsx("div",{className:"bg-white/5 border-t border-white/10 px-4 py-3",children:n?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:g,disabled:d,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white text-sm font-bold rounded-lg transition-colors disabled:opacity-50",children:d?r.jsxs(r.Fragment,{children:[r.jsx(Zt,{size:16,className:"animate-spin"}),"保存中..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ps,{size:16}),"保存配置"]})}),r.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm font-bold rounded-lg transition-colors disabled:opacity-50",title:"重置为默认值",children:r.jsx(El,{size:16})}),r.jsx("button",{onClick:b,disabled:d,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm font-bold rounded-lg transition-colors disabled:opacity-50",title:"取消",children:r.jsx(Nt,{size:16})})]}):r.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white text-sm font-bold rounded-lg transition-colors",children:[r.jsx(un,{size:16}),"编辑配置"]})})]})},Ja=[{id:"vanguard_1",name:"Elite Guardian",icon:yt,rarity:"rare"},{id:"vanguard_2",name:"Cyber Rogue",icon:Xe,rarity:"rare"},{id:"vanguard_3",name:"Neo Sage",icon:kt,rarity:"legendary"},{id:"vanguard_4",name:"Tech Weaver",icon:Mi,rarity:"epic"},{id:"vanguard_5",name:"Data Sentinel",icon:Ii,rarity:"epic"},{id:"vanguard_6",name:"Bit Paladin",icon:ln,rarity:"legendary"},{id:"vanguard_7",name:"Cloud Oracle",icon:gd,rarity:"legendary"},{id:"vanguard_8",name:"Script Assassin",icon:ur,rarity:"epic"},{id:"vanguard_9",name:"Flux Warden",icon:xd,rarity:"epic"},{id:"vanguard_10",name:"Kernel Knight",icon:bd,rarity:"legendary"},{id:"vanguard_11",name:"Macro Mage",icon:Oi,rarity:"epic"},{id:"vanguard_12",name:"Logic Lord",icon:On,rarity:"legendary"}],pc=e=>Ja.find(t=>t.id===e)||Ja[0],eo=[{name:"Mon",value:40},{name:"Tue",value:30},{name:"Wed",value:65},{name:"Thu",value:45},{name:"Fri",value:90},{name:"Sat",value:70},{name:"Sun",value:85}],Gh=[{id:1,name:"code_review",displayName:"Code Review"},{id:2,name:"debug_helper",displayName:"Debug Helper"},{id:3,name:"test_generator",displayName:"Test Generator"},{id:4,name:"refactor_assistant",displayName:"Refactor Assistant"}],Vh=[{id:1,name:"frontend-dev",displayName:"Frontend Dev"},{id:2,name:"backend-dev",displayName:"Backend Dev"},{id:3,name:"code-reviewer",displayName:"Code Reviewer"},{id:4,name:"test-engineer",displayName:"Test Engineer"}],Kh=()=>{const{mode:e}=mt(),{t}=Ln(),n=dd(),[s,i]=N.useState(null),[o,a]=N.useState([]),[l,c]=N.useState(null),[u,d]=N.useState(!0),[p,m]=N.useState(!1),[h,f]=N.useState(!1),[y,b]=N.useState(null),g=async()=>{const T=await _h.getStats();i(T);const _=await kh.list({limit:4});a(_.items||[])},x=async()=>{const T=await pi.health();c(T)},v=async()=>{m(!0);try{await Promise.all([g(),x()])}catch(T){console.error("Failed to refresh data:",T),b(T instanceof Error?T.message:"Failed to refresh data")}finally{m(!1)}},j=async()=>{f(!0);try{await pi.sync(),await v()}catch(T){console.error("Failed to sync:",T),b(T instanceof Error?T.message:"Failed to sync")}finally{f(!1)}};return N.useEffect(()=>{(async()=>{try{d(!0),b(null),await Promise.all([g(),x()])}catch(_){console.error("Failed to fetch dashboard data:",_),b(_ instanceof Error?_.message:"Failed to load data")}finally{d(!1)}})()},[]),u?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading dashboard..."})]})}):y?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-red-500 mb-4",children:["Error: ",y]}),r.jsx(Ce,{onClick:()=>window.location.reload(),children:"Retry"})]})}):e==="adventure"?r.jsxs("div",{className:"space-y-8",children:[r.jsxs("header",{className:"flex flex-col gap-2",children:[r.jsx("h1",{className:"text-4xl font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-orange-500 to-yellow-600 uppercase",children:t("baseTitle")}),r.jsx("p",{className:"text-gray-400 font-medium",children:t("baseDesc")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Xt,{rarity:"legendary",className:"flex items-center gap-6 py-6",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-yellow-500/20 border-2 border-yellow-500 flex items-center justify-center shadow-[0_0_20px_rgba(234,179,8,0.4)]",children:r.jsx("span",{className:"text-2xl font-black text-yellow-500",children:(s==null?void 0:s.total_workflows)||0})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-bold text-yellow-500/80 uppercase tracking-widest",children:"Architect Level"}),r.jsx("p",{className:"text-2xl font-black text-white",children:"Grand Master"}),r.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full mt-2 overflow-hidden",children:r.jsx("div",{className:"w-3/4 h-full bg-gradient-to-r from-yellow-600 to-yellow-400"})})]})]}),r.jsxs(Xt,{rarity:"epic",className:"flex items-center gap-6 py-6",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-500/20 border-2 border-purple-500 flex items-center justify-center",children:r.jsx(Wn,{className:"text-purple-500",size:32})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-bold text-purple-500/80 uppercase tracking-widest",children:"Skill Orbs"}),r.jsxs("p",{className:"text-2xl font-black text-white",children:[(s==null?void 0:s.total_skills)||0," XP"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Skills Collected"})]})]}),r.jsxs(Xt,{rarity:"rare",className:"flex items-center gap-6 py-6",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-500/20 border-2 border-blue-500 flex items-center justify-center",children:r.jsx(nr,{className:"text-blue-500",size:32})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-bold text-blue-500/80 uppercase tracking-widest",children:"Battles Won"}),r.jsx("p",{className:"text-2xl font-black text-white",children:(s==null?void 0:s.total_tasks)||0}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Tasks Completed"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{name:"Hero Hall",icon:yt,color:"from-blue-600 to-blue-400",desc:"Manage your Agents"},{name:"Spell Forge",icon:Jn,color:"from-purple-600 to-purple-400",desc:"Craft new Skills"},{name:"War Room",icon:wl,color:"from-red-600 to-red-400",desc:"Plan Workflows"},{name:"Training Grounds",icon:nr,color:"from-yellow-600 to-yellow-400",desc:"Review Tasks"}].map(T=>r.jsxs(Xt,{className:"group p-0 h-64 overflow-hidden relative",children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${T.color} opacity-20 group-hover:opacity-40 transition-opacity`}),r.jsxs("div",{className:"relative h-full flex flex-col items-center justify-center p-6 text-center",children:[r.jsx(T.icon,{size:64,className:"mb-4 text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]"}),r.jsx("h3",{className:"text-xl font-black uppercase italic text-white tracking-wider",children:T.name}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:T.desc}),r.jsx("div",{className:"mt-6",children:r.jsx(Ce,{variant:"secondary",className:"text-xs py-1 px-4",children:"Enter Building"})})]})]},T.name))})]}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("header",{className:"flex justify-between items-end",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("overview")}),r.jsx("p",{className:"text-gray-400",children:t("overviewDesc")})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Ce,{variant:"secondary",onClick:v,disabled:p,children:p?"Refreshing...":"Refresh"}),r.jsx(Ce,{onClick:j,disabled:h,children:h?"Syncing...":"Sync Environments"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsxs(me,{className:"lg:col-span-2 flex flex-col justify-between",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl ${l!=null&&l.cli_available?"bg-green-500/20 border border-green-500/50 text-green-500":"bg-red-500/20 border border-red-500/50 text-red-500"} flex items-center justify-center`,children:r.jsx(kl,{size:24})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold",children:"Claude CLI Status"}),r.jsx("p",{className:`text-xs font-medium ${l!=null&&l.cli_available?"text-green-500":"text-red-500"}`,children:l!=null&&l.cli_available?"System Online & Synchronized":"System Offline"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Version"}),r.jsx("p",{className:"text-sm font-mono",children:(l==null?void 0:l.version)||"N/A"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-auto",children:[r.jsxs("div",{className:"bg-white/5 rounded-xl p-3",children:[r.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Health Score"}),r.jsx("p",{className:"text-2xl font-bold text-blue-400",children:l?r.jsxs(r.Fragment,{children:[Math.round((l.config_dir_exists?33:0)+(l.skills_dir_exists?33:0)+(l.cli_available?34:0)),r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"/100"})]}):r.jsx("span",{className:"text-xs text-gray-500",children:"N/A"})})]}),r.jsxs("div",{className:"bg-white/5 rounded-xl p-3",children:[r.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Status"}),r.jsx("p",{className:"text-2xl font-bold text-purple-400",children:l?r.jsx(r.Fragment,{children:l.issues.length===0?"OK":`${l.issues.length} Issues`}):r.jsx("span",{className:"text-xs text-gray-500",children:"N/A"})})]})]}),(l==null?void 0:l.model_info)&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold tracking-widest",children:"Current Model"}),r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-500/20 text-blue-400 font-mono",children:l.model_info.current_model||"default"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest",children:"Available Models"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.model_info.available_models.map(T=>{var F;const _=(F=l.model_info.current_model)==null?void 0:F.includes(T.alias);return r.jsx("div",{className:`text-xs px-2 py-1 rounded border ${_?"bg-green-500/20 border-green-500/50 text-green-400":"bg-white/5 border-white/10 text-gray-400"}`,title:T.description,children:T.alias},T.alias)})})]})]})]}),r.jsxs(me,{className:"flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex-1 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/20 border border-blue-500/30 flex items-center justify-center",children:r.jsx(dr,{size:24,className:"text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400 uppercase font-bold tracking-wider",children:"Total Skills"}),r.jsx("p",{className:"text-3xl font-black",children:(s==null?void 0:s.total_skills)||0})]})]}),r.jsx("div",{className:"h-12 w-full mt-4",children:r.jsx(xa,{width:"100%",height:"100%",children:r.jsx(ad,{data:eo,children:r.jsx(od,{type:"monotone",dataKey:"value",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.2})})})})]}),r.jsxs("div",{className:"bg-white/5 border-t border-white/10 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-xs text-gray-400 uppercase font-bold",children:"Popular Skills"}),r.jsxs("button",{onClick:()=>n("/skills"),className:"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-1 transition-colors",children:["View All",r.jsx(Vr,{size:12})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:Gh.map(T=>r.jsxs("button",{onClick:()=>n(`/skills?id=${T.id}`),className:"flex items-center gap-2 p-2 rounded-lg bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/20 hover:border-blue-500/40 transition-all group",children:[r.jsx(Xe,{size:14,className:"text-blue-400 group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"text-xs text-gray-300 group-hover:text-blue-300 font-medium truncate",children:T.displayName})]},T.id))})]})]}),r.jsxs(me,{className:"flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex-1 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500/20 border border-purple-500/30 flex items-center justify-center",children:r.jsx(rr,{size:24,className:"text-purple-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400 uppercase font-bold tracking-wider",children:"Agents Running"}),r.jsx("p",{className:"text-3xl font-black",children:(s==null?void 0:s.total_agents)||0})]})]}),r.jsx("div",{className:"h-12 w-full mt-4",children:r.jsx(xa,{width:"100%",height:"100%",children:r.jsx(ld,{data:eo,children:r.jsx(cd,{dataKey:"value",fill:"#a855f7",radius:[2,2,0,0]})})})})]}),r.jsxs("div",{className:"bg-white/5 border-t border-white/10 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-xs text-gray-400 uppercase font-bold",children:"Popular Agents"}),r.jsxs("button",{onClick:()=>n("/agents"),className:"text-xs text-purple-400 hover:text-purple-300 flex items-center gap-1 transition-colors",children:["View All",r.jsx(Vr,{size:12})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:Vh.map(T=>r.jsxs("button",{onClick:()=>n(`/agents?id=${T.id}`),className:"flex items-center gap-2 p-2 rounded-lg bg-purple-500/10 hover:bg-purple-500/20 border border-purple-500/20 hover:border-purple-500/40 transition-all group",children:[r.jsx(Wn,{size:14,className:"text-purple-400 group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"text-xs text-gray-300 group-hover:text-purple-300 font-medium truncate",children:T.displayName})]},T.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(me,{className:"lg:col-span-2",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Execution History"}),r.jsx("button",{className:"text-sm text-blue-400 hover:underline",children:"View All"})]}),r.jsx("div",{className:"space-y-4",children:o.length>0?o.map((T,_)=>{const F=T.task,R=["vanguard_1","vanguard_2","vanguard_3","vanguard_4"],z=R[_%R.length],B=pc(z).icon,D=(F==null?void 0:F.status)==="completed"?"success":(F==null?void 0:F.status)==="running"?"running":(F==null?void 0:F.status)==="failed"?"failed":"success";return r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden border border-white/10 bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:r.jsx(B,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-[#1a1b26] ${D==="success"?"bg-green-500":D==="running"?"bg-blue-500 animate-pulse":"bg-red-500"}`})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-sm",children:["Execution #",T.id]}),r.jsxs("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:["Task #",(F==null?void 0:F.id)||"N/A"," • ",new Date(T.created_at).toLocaleTimeString()]})]})]}),r.jsx(Ce,{variant:"secondary",className:"py-1 px-3 text-xs",children:"Details"})]},T.id)}):r.jsx("div",{className:"text-center py-8 text-gray-500",children:r.jsx("p",{children:"No execution history yet"})})})]}),r.jsx(Hh,{}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs(me,{className:"flex flex-col p-0 overflow-hidden hover:border-blue-500/50 transition-colors",children:[r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-600/20 border border-blue-500/50 flex items-center justify-center shrink-0",children:r.jsx(dt,{size:24,className:"text-blue-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm font-bold",children:"Create New Skill"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Add capability to Claude"})]})]})}),r.jsx("div",{className:"bg-white/5 border-t border-white/10 px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-gray-400",children:["已有 ",r.jsx("span",{className:"text-blue-400 font-bold",children:(s==null?void 0:s.total_skills)||0})," 个 Skills"]}),r.jsx("button",{onClick:()=>n("/skills?action=create"),className:"px-4 py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold rounded-lg transition-colors",children:"立即创建"})]})})]}),r.jsxs(me,{className:"flex flex-col p-0 overflow-hidden hover:border-purple-500/50 transition-colors",children:[r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-600/20 border border-purple-500/50 flex items-center justify-center shrink-0",children:r.jsx(Wn,{size:24,className:"text-purple-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm font-bold",children:"Deploy Agent"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Initialize a new specialist"})]})]})}),r.jsx("div",{className:"bg-white/5 border-t border-white/10 px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-gray-400",children:[r.jsx("span",{className:"text-purple-400 font-bold",children:(s==null?void 0:s.total_agents)||0})," 个 Agents 运行中"]}),r.jsx("button",{onClick:()=>n("/agents?action=create"),className:"px-4 py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-xs font-bold rounded-lg transition-colors",children:"立即部署"})]})})]}),r.jsxs(me,{className:"flex flex-col p-0 overflow-hidden hover:border-gray-500/50 transition-colors",children:[r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-700/50 border border-gray-600/50 flex items-center justify-center shrink-0",children:r.jsx(ur,{size:24,className:"text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm font-bold",children:"Debug Shell"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Open CLI environment"})]})]})}),r.jsx("div",{className:"bg-white/5 border-t border-white/10 px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-gray-400",children:["终端状态：",r.jsx("span",{className:"text-green-400 font-bold",children:"就绪"})]}),r.jsx("button",{onClick:()=>n("/terminal"),className:"px-4 py-1.5 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold rounded-lg transition-colors",children:"打开终端"})]})})]})]})]})]})]})};function Be(...e){return Hi(ds(e))}const Wh=({onBack:e,initialMode:t="ai",editingSkillId:n})=>{var de;const{mode:s}=mt(),[i,o]=N.useState(n?"manual":t),[a,l]=N.useState(""),[c,u]=N.useState(!1),[d,p]=N.useState(0),[m,h]=N.useState("SKILL.md"),[f,y]=N.useState(null),[b,g]=N.useState({"SKILL.md":`# New Skill

Describe your skill here...`,scripts:[],references:[],assets:[]}),[x,v]=N.useState(null),[j,T]=N.useState(!1),[_,F]=N.useState(!1),[R,z]=N.useState(""),[C,B]=N.useState(null),[D,Q]=N.useState(!1),[H,O]=N.useState(!1);N.useEffect(()=>{n&&(O(!0),on.getContent(n).then($=>{console.log("[SkillEditor] Loaded skill content:",$),z($.name),B($.path),g({"SKILL.md":$.skill_md||`# New Skill

Describe your skill here...`,scripts:$.scripts.map(w=>({name:w.name,content:w.content,type:w.name.endsWith(".py")?"js":w.name.endsWith(".json")?"json":"js"})),references:$.references.map(w=>({name:w.name,content:w.content,type:w.name.endsWith(".json")?"json":"md"})),assets:$.assets.map(w=>({name:w.name,content:w.content,type:"asset"}))})}).catch($=>{console.error("[SkillEditor] Failed to load skill content:",$),v($.message||"加载技能内容失败")}).finally(()=>{O(!1)}))},[n]),N.useEffect(()=>{D&&!c&&(console.log("[SkillEditor] Generation complete, switching to manual mode"),console.log("[SkillEditor] Current skillData after generation:",b),o("manual"),Q(!1))},[D,c,b]);const M=["Analyzing intent...","Calling Claude AI...","Generating skill structure...","Processing scripts...","Finalizing artifact..."],V=$=>{let w="asset";return $.name.endsWith(".md")?w="md":$.name.endsWith(".js")||$.name.endsWith(".ts")||$.name.endsWith(".py")?w="js":($.name.endsWith(".json")||$.name.endsWith(".yaml")||$.name.endsWith(".yml"))&&(w="json"),{name:$.name,content:$.content,type:w}},P=async()=>{var w,I;if(!a.trim())return;u(!0),p(0),v(null);const $=setInterval(()=>{p(A=>A>=M.length-1?A:A+1)},2e3);try{console.log("[SkillEditor] Calling generateWithClaude API with prompt:",a);const A=await on.generateWithClaude({description:a,save_to_global:!1});if(console.log("[SkillEditor] API Response:",A),clearInterval($),A.success){z(A.name),console.log("[SkillEditor] Generated skill name:",A.name),console.log("[SkillEditor] SKILL.md content length:",((w=A.skill_md)==null?void 0:w.length)||0),console.log("[SkillEditor] SKILL.md content preview:",(I=A.skill_md)==null?void 0:I.substring(0,200));const ee={"SKILL.md":A.skill_md||"",scripts:(A.scripts||[]).map(V),references:(A.references||[]).map(V),assets:(A.assets||[]).map(V)};console.log("[SkillEditor] Setting skillData:",ee),g(ee),p(M.length-1),setTimeout(()=>{u(!1),Q(!0),console.log("[SkillEditor] Generation finished, triggering mode switch")},800)}else throw console.error("[SkillEditor] Generation failed:",A.message),new Error(A.message||"生成失败")}catch(A){clearInterval($),u(!1);const ee=A instanceof Error?A.message:"生成 Skill 失败，请稍后重试";v(ee),console.error("[SkillEditor] Failed to generate skill:",A)}},se=async()=>{console.log("[SkillEditor] handleSave called"),console.log("[SkillEditor] Current skillData:",b),T(!0),v(null);try{const $=b["SKILL.md"];console.log("[SkillEditor] SKILL.md content length:",($==null?void 0:$.length)||0),console.log("[SkillEditor] SKILL.md content preview:",$==null?void 0:$.substring(0,200));let w=R;console.log("[SkillEditor] Initial skill name from state:",w);const I=$.match(/^---[\s\S]*?name:\s*(.+?)[\s\n]/m);if(I&&(w=I[1].trim(),console.log("[SkillEditor] Extracted skill name from frontmatter:",w)),!w){const ae=$.match(/^#\s+(.+?)$/m);ae&&(w=ae[1].toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),console.log("[SkillEditor] Extracted skill name from title:",w))}if(w||(w="new-skill",console.log("[SkillEditor] Using default skill name:",w)),!$||$.trim()===`# New Skill

Describe your skill here...`.trim())throw console.error("[SkillEditor] SKILL.md content is empty or default template"),new Error("请先生成或编辑 Skill 内容后再保存");const ee={name:w,skill_md:$,scripts:b.scripts.map(ae=>({name:ae.name,content:ae.content,type:ae.type})),references:b.references.map(ae=>({name:ae.name,content:ae.content,type:ae.type})),assets:b.assets.map(ae=>({name:ae.name,content:ae.content,type:ae.type}))};console.log("[SkillEditor] Calling saveToGlobal API with:",ee);const Y=await on.saveToGlobal(ee);if(console.log("[SkillEditor] saveToGlobal response:",Y),Y.success)console.log("[SkillEditor] Skill saved successfully to:",Y.saved_path),F(!0),setTimeout(()=>{e()},1500);else throw new Error(Y.message||"保存失败")}catch($){const w=$ instanceof Error?$.message:"保存 Skill 失败";v(w),console.error("[SkillEditor] Failed to save skill:",$)}finally{T(!1)}},E=({type:$,className:w})=>{switch($){case"md":return r.jsx(Cn,{size:16,className:Be("text-blue-400",w)});case"js":return r.jsx(Nd,{size:16,className:Be("text-yellow-400",w)});case"json":return r.jsx(vd,{size:16,className:Be("text-purple-400",w)});case"asset":return r.jsx(wd,{size:16,className:Be("text-green-400",w)});default:return r.jsx(Cn,{size:16,className:w})}};return H?r.jsxs("div",{className:"h-full flex flex-col items-center justify-center gap-4",children:[r.jsx(Zt,{className:"w-8 h-8 animate-spin text-blue-500"}),r.jsx("p",{className:"text-gray-400",children:"加载技能内容..."})]}):r.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[r.jsxs("div",{className:Be("h-16 flex items-center justify-between px-6 border-b shrink-0",s==="adventure"?"bg-[#121225] border-yellow-500/20":"bg-white/[0.02] border-white/5 backdrop-blur-md"),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:e,className:"p-2 hover:bg-white/5 rounded-lg transition-colors text-gray-400 hover:text-white",children:r.jsx(ms,{size:20})}),r.jsxs("div",{children:[r.jsx("h2",{className:Be("font-bold",s==="adventure"?"text-yellow-500 uppercase tracking-widest text-sm":"text-lg"),children:n?`Edit: ${R||"Skill"}`:i==="ai"?"Forge Skill with AI":"Skill Editor"}),r.jsx("p",{className:"text-[10px] text-gray-500 font-mono",children:n?C||`~/.claude/skills/${R}`:"~/.claude/skills/new_skill"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex bg-black/20 rounded-lg p-1 border border-white/5",children:[r.jsxs("button",{onClick:()=>o("ai"),className:Be("px-3 py-1.5 rounded-md text-xs font-bold transition-all flex items-center gap-2",i==="ai"?s==="adventure"?"bg-yellow-600 text-white":"bg-blue-600 text-white":"text-gray-500 hover:text-gray-300"),children:[r.jsx(kt,{size:14}),"AI Generate"]}),r.jsxs("button",{onClick:()=>o("manual"),className:Be("px-3 py-1.5 rounded-md text-xs font-bold transition-all flex items-center gap-2",i==="manual"?s==="adventure"?"bg-yellow-600 text-white":"bg-blue-600 text-white":"text-gray-500 hover:text-gray-300"),children:[r.jsx(rr,{size:14}),"Direct Edit"]})]}),r.jsx("div",{className:"h-8 w-[1px] bg-white/10 mx-2"}),r.jsx(Ce,{className:"h-9 px-4 py-0 text-xs",onClick:se,disabled:j||_,children:j?r.jsxs(r.Fragment,{children:[r.jsx(Zt,{size:14,className:"mr-2 animate-spin"}),"Saving..."]}):_?r.jsxs(r.Fragment,{children:[r.jsx(Dt,{size:14,className:"mr-2"}),"Saved!"]}):r.jsxs(r.Fragment,{children:[r.jsx(ps,{size:14,className:"mr-2"}),"Deploy Skill"]})})]})]}),r.jsx("div",{className:"flex-1 relative overflow-hidden",children:r.jsx(Ue,{mode:"wait",children:i==="ai"?r.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"h-full flex flex-col items-center justify-center p-8 max-w-4xl mx-auto",children:c?r.jsxs("div",{className:"flex flex-col items-center gap-8",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:Be("w-32 h-32 rounded-full border-4 border-t-transparent animate-spin",s==="adventure"?"border-yellow-500 shadow-[0_0_50px_rgba(234,179,8,0.2)]":"border-blue-600 shadow-xl")}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(Xe,{size:40,className:Be("animate-pulse",s==="adventure"?"text-yellow-500":"text-blue-500")})})]}),r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("h3",{className:Be("text-xl font-black italic tracking-widest uppercase",s==="adventure"?"text-yellow-500":"text-white"),children:M[d]}),r.jsx("div",{className:"flex gap-2 justify-center",children:M.map(($,w)=>r.jsx("div",{className:Be("w-8 h-1 rounded-full transition-all duration-500",w<=d?s==="adventure"?"bg-yellow-500":"bg-blue-600":"bg-white/10")},w))})]})]}):r.jsxs("div",{className:"w-full space-y-8",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("div",{className:Be("w-16 h-16 rounded-2xl mx-auto flex items-center justify-center mb-6",s==="adventure"?"bg-yellow-500 shadow-[0_0_30px_rgba(234,179,8,0.4)]":"bg-blue-600 shadow-xl"),children:r.jsx(kt,{size:32,className:"text-white"})}),r.jsx("h1",{className:Be("text-3xl font-black italic tracking-tighter uppercase",s==="adventure"?"text-yellow-500":"text-white"),children:"Describe your creation"}),r.jsx("p",{className:"text-gray-400",children:"The AI will generate the documentation, code, and resources needed for your skill."})]}),x&&r.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400",children:[r.jsx(dn,{size:20}),r.jsx("span",{className:"text-sm flex-1",children:x}),r.jsx("button",{onClick:()=>v(null),className:"text-red-400 hover:text-red-300",children:r.jsx(Nt,{size:16})})]}),r.jsxs("div",{className:Be("relative p-1 rounded-2xl border transition-all duration-500",s==="adventure"?"bg-black/60 border-yellow-500/30":"bg-white/5 border-white/10"),children:[r.jsx("textarea",{value:a,onChange:$=>l($.target.value),onKeyDown:$=>{$.ctrlKey&&$.key==="Enter"&&a.trim()&&P()},placeholder:"e.g., A skill that summarizes daily news from tech blogs and formats them into a weekly digest PDF...",className:"w-full h-40 bg-transparent p-6 text-white placeholder:text-gray-600 focus:outline-none resize-none"}),r.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-[10px] text-gray-600 font-mono",children:"CTRL + ENTER to forge"}),r.jsxs("button",{onClick:P,disabled:!a.trim(),className:Be("flex items-center gap-2 px-6 py-2 rounded-xl font-black uppercase tracking-widest transition-all",a.trim()?s==="adventure"?"bg-yellow-500 text-black hover:scale-105 active:scale-95":"bg-blue-600 text-white hover:bg-blue-500":"bg-white/5 text-gray-600 cursor-not-allowed"),children:["Forge Artifact",r.jsx(Xe,{size:16})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{title:"Smart Summarizer",desc:"A skill that processes long documents and extracts key points into concise bullet summaries."},{title:"Code Auditor",desc:"A skill that reviews code for security vulnerabilities, code smells, and best practice violations."},{title:"API Doc Generator",desc:"A skill that generates API documentation from code comments and function signatures."}].map(($,w)=>r.jsxs("button",{onClick:()=>l($.desc),className:"p-4 rounded-xl border border-white/5 bg-white/[0.02] hover:bg-white/5 transition-all text-left group",children:[r.jsx("p",{className:"text-xs font-bold text-gray-400 group-hover:text-blue-400 mb-1",children:$.title}),r.jsx("p",{className:"text-[10px] text-gray-500 line-clamp-2",children:$.desc})]},w))})]})},"ai-mode"):r.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full flex",children:[r.jsxs("div",{className:Be("w-64 border-r shrink-0 flex flex-col",s==="adventure"?"bg-[#0c0c1a] border-yellow-500/10":"bg-black/20 border-white/5"),children:[r.jsxs("div",{className:"p-4 flex items-center justify-between",children:[r.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Explorer"}),r.jsx(dt,{size:14,className:"text-gray-500 hover:text-white cursor-pointer"})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto px-2 space-y-1",children:[r.jsxs("button",{onClick:()=>{h("SKILL.md"),y(null)},className:Be("w-full flex items-center gap-2 px-3 py-2 rounded-lg text-xs transition-all",m==="SKILL.md"?"bg-white/10 text-white":"text-gray-500 hover:bg-white/5 hover:text-gray-300"),children:[r.jsx(Cn,{size:14,className:"text-blue-400"}),"SKILL.md"]}),["scripts","references","assets"].map($=>r.jsxs("div",{className:"space-y-1",children:[r.jsxs("button",{onClick:()=>y(f===$?null:$),className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-xs text-gray-500 hover:bg-white/5 hover:text-gray-300 transition-all",children:[r.jsx(Kr,{size:14,className:f===$?"text-yellow-500":"text-gray-600"}),r.jsx("span",{className:"capitalize",children:$}),r.jsx(yd,{size:12,className:Be("ml-auto transition-transform",f===$&&"rotate-90")})]}),f===$&&r.jsxs("div",{className:"pl-6 space-y-1",children:[b[$].map(w=>r.jsxs("button",{onClick:()=>h(`${$}/${w.name}`),className:Be("w-full flex items-center gap-2 px-3 py-1.5 rounded-lg text-[11px] transition-all",m===`${$}/${w.name}`?"bg-white/10 text-white":"text-gray-500 hover:bg-white/5 hover:text-gray-300"),children:[r.jsx(E,{type:w.type}),w.name]},w.name)),r.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-1.5 rounded-lg text-[10px] text-gray-600 hover:text-gray-400 italic",children:[r.jsx(dt,{size:12}),"Add item..."]})]})]},$))]}),r.jsx("div",{className:"p-4 border-t border-white/5",children:r.jsxs("div",{className:"flex items-center gap-3 bg-white/5 p-3 rounded-xl border border-white/5",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600/20 flex items-center justify-center text-blue-400",children:r.jsx(un,{size:16})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-[10px] font-bold text-white truncate",children:"Skill Settings"}),r.jsx("p",{className:"text-[9px] text-gray-500 truncate",children:"Metadata & Env"})]})]})})]}),r.jsxs("div",{className:"flex-1 flex flex-col relative border-r border-white/5",children:[r.jsx("div",{className:"h-10 flex items-center bg-black/40 border-b border-white/5 px-2",children:r.jsx("div",{className:"flex items-center gap-1 h-full",children:r.jsxs("div",{className:"bg-white/5 border-t-2 border-blue-500 px-4 h-full flex items-center gap-2 text-xs font-medium text-white",children:[m.split("/").pop(),r.jsx(Nt,{size:12,className:"text-gray-500 hover:text-white cursor-pointer"})]})})}),r.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[r.jsx("textarea",{value:m==="SKILL.md"?b["SKILL.md"]:((de=b[m.split("/")[0]].find($=>$.name===m.split("/")[1]))==null?void 0:de.content)||"",onChange:$=>{const w=$.target.value;if(m==="SKILL.md")g(I=>({...I,"SKILL.md":w}));else{const[I,A]=m.split("/");g(ee=>({...ee,[I]:ee[I].map(Y=>Y.name===A?{...Y,content:w}:Y)}))}},className:"w-full h-full bg-transparent p-8 pl-16 text-sm font-mono text-gray-300 focus:outline-none resize-none leading-relaxed",spellCheck:!1}),r.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 bg-black/20 border-r border-white/5 flex flex-col items-center pt-8 text-[10px] text-gray-600 font-mono select-none",children:Array.from({length:50}).map(($,w)=>r.jsx("div",{className:"h-[1.625rem] flex items-center",children:w+1},w))})]}),r.jsxs("div",{className:"h-6 flex items-center justify-between px-4 bg-black/60 border-t border-white/5 text-[10px] text-gray-500 font-mono shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Dt,{size:10,className:"text-green-500"})," Ready"]}),r.jsx("span",{children:"UTF-8"}),r.jsx("span",{children:m.endsWith(".js")?"JavaScript (Node.js)":m.endsWith(".md")?"Markdown":"JSON"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{children:"Line 12, Column 45"}),r.jsx("span",{children:"2 Spaces"})]})]})]})]}),r.jsxs("div",{className:Be("w-80 shrink-0 flex flex-col",s==="adventure"?"bg-[#0c0c1a]":"bg-black/20"),children:[r.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center gap-2",children:[r.jsx("div",{className:Be("w-6 h-6 rounded-lg flex items-center justify-center",s==="adventure"?"bg-yellow-500 text-black":"bg-blue-600 text-white"),children:r.jsx(kt,{size:12})}),r.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-white",children:"Artifact Assistant"})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.jsxs("div",{className:Be("p-4 rounded-xl border leading-relaxed",s==="adventure"?"bg-[#121225] border-yellow-500/20":"bg-white/5 border-white/10"),children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Rn,{size:14,className:"text-blue-400"}),r.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter",children:"AI Suggestion"})]}),r.jsx("p",{className:"text-xs text-gray-300",children:"I can help you modify the current file. Try asking me to add error handling, optimize the logic, or add more documentation."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-[10px] font-black uppercase text-gray-500 tracking-widest",children:"Quick Commands"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:["Add Try/Catch Block","Optimize Performance","Generate README","Add Type Definitions"].map($=>r.jsx("button",{className:"text-left px-3 py-2 rounded-lg bg-white/5 border border-white/5 hover:bg-white/10 hover:border-white/10 text-[11px] text-gray-400 transition-all",children:$},$))})]})]}),r.jsxs("div",{className:"p-4 border-t border-white/5 bg-black/20",children:[r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{placeholder:"Ask AI to edit this artifact...",className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-3 pr-10 text-xs text-white focus:outline-none focus:border-blue-500/50 resize-none h-24"}),r.jsx("button",{className:"absolute right-2 bottom-3 text-blue-400 hover:text-blue-300",children:r.jsx(_l,{size:16})})]}),r.jsx("p",{className:"text-[9px] text-gray-600 mt-2 text-center uppercase font-bold tracking-tighter",children:"Powered by Claude 3.5 Sonnet"})]})]})]},"manual-mode")})})]})},qh={sportsperson2:Qn,sportsperson1:Qn,trophy:nr,tableTennis:Id,sportsBottle:Ad,hockey:Td,rugby:_r,gymming:Cd,esports:jd,boxing:Li,chess:On,cricket:jl,baseball:_r,whistle:Sd,stopwatch:Sl,swimming:_d,tennis:kd,badminton:Ed,basketball:_r,football:_r},Yh=e=>qh[e]||nr;function Jt(...e){return Hi(ds(e))}const to=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,no=ds,Xh=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return no(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],p=o==null?void 0:o[u];if(d===null)return null;const m=to(d)||to(p);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[p,m]=d;return m===void 0||(u[p]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:p,className:m,...h}=d;return Object.entries(h).every(f=>{let[y,b]=f;return Array.isArray(b)?b.includes({...o,...l}[y]):{...o,...l}[y]===b})?[...u,p,m]:u},[]);return no(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},mc=Xh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function hi({...e}){return r.jsx(sd,{"data-slot":"alert-dialog",...e})}function Zh({...e}){return r.jsx(rd,{"data-slot":"alert-dialog-portal",...e})}const hc=N.forwardRef(({className:e,...t},n)=>r.jsx(pl,{ref:n,"data-slot":"alert-dialog-overlay",className:Jt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));hc.displayName=pl.displayName;const es=N.forwardRef(({className:e,...t},n)=>r.jsxs(Zh,{children:[r.jsx(hc,{}),r.jsx(ml,{ref:n,"data-slot":"alert-dialog-content",className:Jt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]}));es.displayName=ml.displayName;function fi({className:e,...t}){return r.jsx("div",{"data-slot":"alert-dialog-header",className:Jt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function gi({className:e,...t}){return r.jsx("div",{"data-slot":"alert-dialog-footer",className:Jt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}const ts=N.forwardRef(({className:e,...t},n)=>r.jsx(hl,{ref:n,"data-slot":"alert-dialog-title",className:Jt("text-lg font-semibold",e),...t}));ts.displayName=hl.displayName;const ns=N.forwardRef(({className:e,...t},n)=>r.jsx(fl,{ref:n,"data-slot":"alert-dialog-description",className:Jt("text-muted-foreground text-sm",e),...t}));ns.displayName=fl.displayName;const rs=N.forwardRef(({className:e,...t},n)=>r.jsx(gl,{ref:n,className:Jt(mc(),e),...t}));rs.displayName=gl.displayName;const ss=N.forwardRef(({className:e,...t},n)=>r.jsx(xl,{ref:n,className:Jt(mc({variant:"outline"}),e),...t}));ss.displayName=xl.displayName;const Qh=()=>{const{mode:e,lang:t}=mt(),{t:n}=Ln(),[s,i]=bl(),[o,a]=N.useState([]),[l,c]=N.useState(!0),[u,d]=N.useState(null),[p,m]=N.useState(!1),[h,f]=N.useState(""),[y,b]=N.useState("All"),[g,x]=N.useState(!1),[v,j]=N.useState("ai"),[T,_]=N.useState(void 0),[F,R]=N.useState(!1),[z,C]=N.useState(null),[B,D]=N.useState(!1),[Q,H]=N.useState(null),O=N.useCallback(async()=>{c(!0),d(null);try{const I=await on.list({limit:100}),A=Lh(I.items);a(A)}catch(I){const A=I instanceof Error?I.message:"获取技能列表失败";d(A),console.error("Failed to fetch skills:",I)}finally{c(!1)}},[]);N.useEffect(()=>{O()},[O]),N.useEffect(()=>{s.get("action")==="create"&&(x(!0),j("ai"),i({}))},[s,i]);const M=async()=>{m(!0),d(null);try{await pi.syncSkills(),await O()}catch(I){const A=I instanceof Error?I.message:"同步失败";d(A),console.error("Failed to sync skills:",I)}finally{m(!1)}},V=(I,A)=>{I.stopPropagation(),I.preventDefault(),console.log("[Skills] Opening delete dialog for skill:",A.id,A.name),H(null),C({id:A.id,name:A.name[t]||A.name.en}),R(!0)},P=async()=>{if(z){console.log("[Skills] Proceeding to delete skill:",z.id),D(!0);try{await on.delete(z.id),console.log("[Skills] Skill deleted successfully"),a(I=>I.filter(A=>A.id!==z.id)),R(!1),C(null)}catch(I){const A=I instanceof Error?I.message:"删除失败";d(A),console.error("[Skills] Failed to delete skill:",I)}finally{D(!1)}}},se=async(I,A)=>{try{const ee=A!=="enabled";await on.toggleEnabled(I,ee),a(Y=>Y.map(ae=>ae.id===I?{...ae,status:ee?"enabled":"disabled"}:ae))}catch(ee){const Y=ee instanceof Error?ee.message:"更新状态失败";d(Y),console.error("Failed to toggle skill status:",ee)}},E=async()=>{x(!1),_(void 0),await O()},de=I=>{_(I),x(!0),j("manual"),H(null)},$=(I,A)=>{I.stopPropagation(),H(Q===A?null:A)};N.useEffect(()=>{if(Q===null)return;const I=ee=>{const Y=ee.target,ae=document.querySelector("[data-skill-menu]");ae&&ae.contains(Y)||H(null)},A=setTimeout(()=>{document.addEventListener("click",I)},0);return()=>{clearTimeout(A),document.removeEventListener("click",I)}},[Q]);const w=o.filter(I=>{const ee=(I.name[t]||I.name.en).toLowerCase().includes(h.toLowerCase()),Y=y==="All"||I.source===y;return ee&&Y});return l&&o.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] gap-4",children:[r.jsx(Zt,{className:"w-8 h-8 animate-spin text-blue-500"}),r.jsx("p",{className:"text-gray-400",children:n("loading")||"加载中..."})]}):u&&o.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] gap-4",children:[r.jsx(dn,{className:"w-12 h-12 text-red-500"}),r.jsx("p",{className:"text-red-400",children:u}),r.jsx(Ce,{onClick:O,children:n("retry")||"重试"})]}):g?r.jsx(Wh,{onBack:E,initialMode:v,editingSkillId:T}):e==="adventure"?r.jsxs("div",{className:"space-y-8 pb-20",children:[r.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-yellow-600 uppercase",children:n("skillsTitle")}),r.jsx("p",{className:"text-gray-400 font-medium",children:n("skillsDesc")})]}),r.jsx(Ce,{onClick:()=>{x(!0),j("ai")},children:n("forgeSkill")})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 bg-[#121225] p-4 rounded-xl border border-yellow-500/20 shadow-[0_0_20px_rgba(0,0,0,0.3)]",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-yellow-500/50",size:18}),r.jsx("input",{type:"text",placeholder:n("searchScrolls"),value:h,onChange:I=>f(I.target.value),className:"w-full bg-black/40 border border-yellow-500/30 rounded-lg py-2 pl-10 pr-4 text-yellow-100 placeholder:text-yellow-500/30 focus:outline-none focus:border-yellow-500 transition-all"})]}),r.jsx("div",{className:"flex gap-2",children:["All","Global","Plugin","Project"].map(I=>r.jsx("button",{onClick:()=>b(I),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-widest transition-all ${y===I?"bg-yellow-500 text-black":"bg-black/40 text-yellow-500/60 hover:bg-black/60"}`,children:n(I.toLowerCase())},I))})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:r.jsx(Ue,{children:w.map((I,A)=>{var ee;return r.jsx(Ee.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{delay:A*.05},children:r.jsxs(Xt,{rarity:I.rarity,className:"group h-full flex flex-col p-0 overflow-visible cursor-pointer relative",onClick:()=>de(I.id),children:[I.isDuplicate&&r.jsxs("div",{className:"absolute top-2 left-2 z-20 flex items-center gap-1 bg-orange-500/90 text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-lg",title:`重复 ${I.duplicateCount} 处: ${I.duplicateLocations.join(", ")}`,children:[r.jsx(Tn,{size:10}),r.jsxs("span",{children:["×",I.duplicateCount]})]}),r.jsxs("div",{className:"p-6 flex-1 flex flex-col items-center text-center",children:[r.jsxs("div",{className:"w-24 h-24 relative mb-6 group-hover:scale-110 transition-transform duration-500",children:[r.jsx("div",{className:`absolute inset-0 rounded-2xl bg-gradient-to-br ${I.rarity==="legendary"?"from-yellow-400/20 to-yellow-600/20 shadow-[0_0_20px_rgba(234,179,8,0.3)]":I.rarity==="epic"?"from-purple-500/20 to-purple-700/20":I.rarity==="rare"?"from-blue-500/20 to-blue-700/20":"from-gray-500/20 to-gray-700/20"} blur-xl`}),r.jsx("img",{src:Yh(I.advIcon||"trophy"),alt:I.name[t],className:"w-full h-full object-contain relative z-10 drop-shadow-[0_10px_10px_rgba(0,0,0,0.5)]"})]}),r.jsx("h3",{className:"text-xl font-black uppercase italic text-white tracking-widest mb-1",children:I.name[t]}),r.jsx("div",{className:"flex gap-1 mb-3",children:[...Array(5)].map((Y,ae)=>r.jsx(Cl,{size:12,className:ae<I.level/3?"fill-yellow-500 text-yellow-500":"text-gray-600"},ae))}),r.jsxs("p",{className:"text-xs text-gray-400 line-clamp-3 mb-2 leading-relaxed italic",children:['"',I.desc[t]||((ee=I._raw)==null?void 0:ee.description)||"无描述",'"']}),I.projectName&&r.jsxs("div",{className:"text-[10px] text-green-500/80 font-bold uppercase mb-4 flex items-center gap-1",children:[r.jsx(Jn,{size:10})," ",I.projectName]}),I.pluginNamespace&&r.jsxs("div",{className:"text-[10px] text-orange-500/80 font-bold uppercase mb-4 flex items-center gap-1",children:[r.jsx(Xe,{size:10})," ",I.pluginNamespace]}),r.jsxs("div",{className:"w-full mt-auto space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase tracking-tighter",children:[r.jsxs("span",{className:"text-yellow-500",children:[n("lvl")," ",I.level]}),r.jsxs("span",{className:"text-gray-500",children:[I.xp,"/100 ",n("xp")]})]}),r.jsx("div",{className:"w-full h-1.5 bg-black/40 rounded-full overflow-hidden",children:r.jsx(Ee.div,{initial:{width:0},animate:{width:`${I.xp}%`},transition:{duration:1,delay:.5},className:`h-full bg-gradient-to-r ${I.rarity==="legendary"?"from-yellow-600 to-yellow-300":I.rarity==="epic"?"from-purple-600 to-purple-300":"from-blue-600 to-blue-300"}`})})]})]}),r.jsxs("div",{className:"bg-black/40 p-4 border-t border-white/5 flex justify-between items-center rounded-b-xl",children:[r.jsx("div",{className:"flex gap-2",children:I.tags[t].map(Y=>r.jsx("span",{className:"text-[9px] font-bold text-gray-500 bg-white/5 px-2 py-0.5 rounded border border-white/5 uppercase",children:Y},Y))}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{className:"text-yellow-500 hover:text-yellow-400 transition-colors p-1 rounded hover:bg-yellow-500/10",onClick:Y=>$(Y,I.id),children:r.jsx(sr,{size:16})}),r.jsx(Ue,{children:Q===I.id&&r.jsxs(Ee.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15},className:"absolute right-0 bottom-full mb-1 w-40 bg-[#1a1a2e]/95 backdrop-blur-xl border border-yellow-500/20 rounded-xl shadow-xl z-50 overflow-hidden","data-skill-menu":"true",onClick:Y=>Y.stopPropagation(),children:[r.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-yellow-500/80 hover:bg-yellow-500/20 hover:text-yellow-400 transition-colors",onClick:Y=>{Y.stopPropagation(),de(I.id)},children:[r.jsx(ti,{size:14}),"编辑"]}),r.jsxs("button",{className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-colors ${I.status==="enabled"?"text-yellow-500/80 hover:bg-orange-500/20 hover:text-orange-400":"text-yellow-500/80 hover:bg-green-500/20 hover:text-green-400"}`,onClick:Y=>{Y.stopPropagation(),se(I.id,I.status),H(null)},children:[I.status==="enabled"?r.jsx(ya,{size:14}):r.jsx(wa,{size:14}),I.status==="enabled"?"禁用":"启用"]}),r.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-yellow-500/80 hover:bg-purple-500/20 hover:text-purple-400 transition-colors",onClick:async Y=>{Y.stopPropagation(),H(null),await M()},children:[r.jsx(ni,{size:14}),"同步部署"]}),r.jsx("div",{className:"border-t border-yellow-500/20 my-1"}),r.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-400 hover:bg-red-500/20 transition-colors",onClick:Y=>V(Y,I),children:[r.jsx(ir,{size:14}),"删除"]})]})})]})]})]})},I.id)})})}),r.jsx(hi,{open:F,onOpenChange:R,children:r.jsxs(es,{className:"bg-[#1a1a2e] border-yellow-500/20",children:[r.jsxs(fi,{children:[r.jsx(ts,{className:"text-yellow-400",children:"确认删除"}),r.jsxs(ns,{className:"text-gray-400",children:["确定要删除技能 ",r.jsxs("span",{className:"text-yellow-300 font-semibold",children:['"',z==null?void 0:z.name,'"']})," 吗？",r.jsx("br",{}),"此操作不可恢复。"]})]}),r.jsxs(gi,{children:[r.jsx(ss,{className:"bg-gray-800 border-yellow-500/20 text-white hover:bg-gray-700",disabled:B,children:"取消"}),r.jsx(rs,{className:"bg-red-600 text-white hover:bg-red-700",onClick:P,disabled:B,children:B?r.jsxs(r.Fragment,{children:[r.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),"删除中..."]}):"确认删除"})]})]})})]}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n("skillsTitle")}),r.jsx("p",{className:"text-gray-400",children:n("skillsDesc")})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Ce,{variant:"secondary",onClick:M,disabled:p,children:p?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"w-4 h-4 animate-spin"}),n("syncing")||"同步中..."]}):n("syncSkills")}),r.jsx(Ce,{onClick:()=>{x(!0),j("ai")},children:n("genAi")})]}),u&&r.jsxs("div",{className:"text-red-400 text-sm flex items-center gap-2 mt-2",children:[r.jsx(dn,{className:"w-4 h-4"}),u]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:n("searchScrolls"),value:h,onChange:I=>f(I.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl py-2 pl-10 pr-4 focus:outline-none focus:border-blue-500/50 transition-all"})]}),r.jsx("div",{className:"flex bg-white/5 rounded-xl p-1 border border-white/10",children:["All","Global","Plugin","Project"].map(I=>r.jsx("button",{onClick:()=>b(I),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${y===I?"bg-blue-600 text-white shadow-md":"text-gray-400 hover:text-white"}`,children:n(I.toLowerCase())},I))})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[r.jsx(Ue,{children:w.map((I,A)=>{var ee;return r.jsx(Ee.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:r.jsxs(me,{className:"h-full flex flex-col group cursor-pointer hover:border-blue-500/50 transition-colors",onClick:()=>de(I.id),children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${I.status==="enabled"?"bg-blue-600/20 text-blue-400":"bg-gray-700/20 text-gray-500"}`,children:r.jsx(I.icon,{size:20})}),r.jsxs("div",{className:"flex gap-2",children:[I.isDuplicate&&r.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[10px] font-bold bg-orange-500/20 text-orange-400 border border-orange-500/30",title:`重复 ${I.duplicateCount} 处: ${I.duplicateLocations.join(", ")}`,children:[r.jsx(Tn,{size:10}),r.jsxs("span",{children:["×",I.duplicateCount]})]}),r.jsx("div",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${I.source==="Global"?"bg-purple-500/20 text-purple-400 border border-purple-500/30":I.source==="Plugin"?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"bg-green-500/20 text-green-400 border border-green-500/30"}`,children:n(I.source.toLowerCase())}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{className:"text-gray-500 hover:text-white transition-colors p-1 rounded hover:bg-white/10",onClick:Y=>$(Y,I.id),children:r.jsx(sr,{size:16})}),r.jsx(Ue,{children:Q===I.id&&r.jsxs(Ee.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15},className:"absolute right-0 top-full mt-1 w-40 bg-gray-900/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-xl z-50 overflow-hidden","data-skill-menu":"true",onClick:Y=>Y.stopPropagation(),children:[r.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-300 hover:bg-blue-500/20 hover:text-blue-400 transition-colors",onClick:Y=>{Y.stopPropagation(),de(I.id)},children:[r.jsx(ti,{size:14}),"编辑"]}),r.jsxs("button",{className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-colors ${I.status==="enabled"?"text-gray-300 hover:bg-orange-500/20 hover:text-orange-400":"text-gray-300 hover:bg-green-500/20 hover:text-green-400"}`,onClick:Y=>{Y.stopPropagation(),se(I.id,I.status),H(null)},children:[I.status==="enabled"?r.jsx(ya,{size:14}):r.jsx(wa,{size:14}),I.status==="enabled"?"禁用":"启用"]}),r.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-300 hover:bg-purple-500/20 hover:text-purple-400 transition-colors",onClick:async Y=>{Y.stopPropagation(),H(null),await M()},children:[r.jsx(ni,{size:14}),"同步部署"]}),r.jsx("div",{className:"border-t border-white/10 my-1"}),r.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-400 hover:bg-red-500/20 transition-colors",onClick:Y=>V(Y,I),children:[r.jsx(ir,{size:14}),"删除"]})]})})]})]})]}),r.jsx("h3",{className:"text-lg font-bold mb-1",children:I.name[t]}),I.projectName&&r.jsxs("p",{className:"text-[10px] text-green-500 font-bold uppercase mb-2 flex items-center gap-1 opacity-70",children:[r.jsx(Jn,{size:10})," ",I.projectName]}),I.pluginNamespace&&r.jsxs("p",{className:"text-[10px] text-orange-500 font-bold uppercase mb-2 flex items-center gap-1 opacity-70",children:[r.jsx(Xe,{size:10})," ",I.pluginNamespace]}),r.jsx("p",{className:"text-xs text-gray-400 line-clamp-3 mb-4",children:I.desc[t]||((ee=I._raw)==null?void 0:ee.description)||"无描述"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-6 mt-auto",children:I.tags[t].map(Y=>r.jsx("span",{className:"text-[10px] text-gray-400 bg-white/5 px-2 py-0.5 rounded border border-white/5",children:Y},Y))}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/5",children:[r.jsxs("div",{className:"items-center gap-2 flex",children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${I.status==="enabled"?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:n(I.status)})]}),r.jsxs("span",{className:"text-[10px] text-gray-500 font-mono",children:[I.usage.toLocaleString()," ",n("runs")]})]})]})},I.id)})}),r.jsxs("button",{onClick:()=>{x(!0),j("manual")},className:"group border-2 border-dashed border-white/10 rounded-2xl p-6 flex flex-col items-center justify-center gap-3 hover:border-blue-500/50 hover:bg-blue-500/5 transition-all cursor-pointer",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center text-gray-400 group-hover:bg-blue-500 group-hover:text-white transition-all",children:r.jsx(dt,{size:24})}),r.jsx("p",{className:"font-bold text-gray-400 group-hover:text-blue-400",children:n("addSkill")})]})]}),r.jsx(hi,{open:F,onOpenChange:R,children:r.jsxs(es,{className:"bg-gray-900 border-white/10",children:[r.jsxs(fi,{children:[r.jsx(ts,{className:"text-white",children:"确认删除"}),r.jsxs(ns,{className:"text-gray-400",children:["确定要删除技能 ",r.jsxs("span",{className:"text-white font-semibold",children:['"',z==null?void 0:z.name,'"']})," 吗？",r.jsx("br",{}),"此操作不可恢复。"]})]}),r.jsxs(gi,{children:[r.jsx(ss,{className:"bg-gray-800 border-white/10 text-white hover:bg-gray-700",disabled:B,children:"取消"}),r.jsx(rs,{className:"bg-red-600 text-white hover:bg-red-700",onClick:P,disabled:B,children:B?r.jsxs(r.Fragment,{children:[r.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),"删除中..."]}):"确认删除"})]})]})})]})},ro=["Read","Write","Edit","Bash","Grep","Glob","Task","AskUser","WebSearch","WebFetch","MultiEdit","TodoRead","TodoWrite","NotebookEdit","NotebookRead"],Jh=[{value:"default",label:"Default",desc:"标准权限检查"},{value:"acceptEdits",label:"Accept Edits",desc:"自动接受文件编辑"},{value:"dontAsk",label:"Don't Ask",desc:"自动拒绝权限提示"},{value:"plan",label:"Plan",desc:"只读模式"},{value:"bypassPermissions",label:"Bypass",desc:"跳过所有权限检查（危险）"}],ef=[{value:"inherit",label:"Inherit",desc:"继承主会话模型",color:"gray"},{value:"sonnet",label:"Sonnet",desc:"平衡能力和速度",color:"blue"},{value:"opus",label:"Opus",desc:"最强能力",color:"purple"},{value:"haiku",label:"Haiku",desc:"最快速度",color:"green"}],so=[{value:"user",label:"用户级",desc:"~/.claude/agents/ - 所有项目可用"},{value:"project",label:"项目级",desc:".claude/agents/ - 仅当前项目"}],tf=[{value:"blue",label:"蓝色",class:"bg-blue-500"},{value:"purple",label:"紫色",class:"bg-purple-500"},{value:"green",label:"绿色",class:"bg-green-500"},{value:"orange",label:"橙色",class:"bg-orange-500"},{value:"red",label:"红色",class:"bg-red-500"},{value:"pink",label:"粉色",class:"bg-pink-500"},{value:"cyan",label:"青色",class:"bg-cyan-500"},{value:"yellow",label:"黄色",class:"bg-yellow-500"},{value:"indigo",label:"靛蓝",class:"bg-indigo-500"},{value:"teal",label:"蓝绿",class:"bg-teal-500"}],io=[{value:"bot",label:"Bot",icon:Rn},{value:"cpu",label:"CPU",icon:dr},{value:"code",label:"Code",icon:Mi},{value:"terminal",label:"Terminal",icon:ur},{value:"search",label:"Search",icon:cn},{value:"file-text",label:"File",icon:Cn},{value:"globe",label:"Globe",icon:Ai},{value:"settings",label:"Settings",icon:un},{value:"bug",label:"Bug",icon:Rd},{value:"rocket",label:"Rocket",icon:ni},{value:"star",label:"Star",icon:Cl},{value:"heart",label:"Heart",icon:Md},{value:"shield",label:"Shield",icon:yt},{value:"lightbulb",label:"Idea",icon:Tl},{value:"target",label:"Target",icon:jl},{value:"hammer",label:"Hammer",icon:Od},{value:"brain",label:"Brain",icon:On},{value:"layers",label:"Layers",icon:Di},{value:"zap",label:"Zap",icon:Xe},{value:"wrench",label:"Wrench",icon:cr}],nf=[{value:"",label:"禁用",desc:"不使用持久化内存"},{value:"user",label:"用户级",desc:"~/.claude/agent-memory/"},{value:"project",label:"项目级",desc:".claude/agent-memory/"},{value:"local",label:"本地级",desc:".claude/agent-memory-local/"}],ao=({agent:e,onBack:t,onSave:n})=>{var Z,pe,ze,Fe,re;const s=e===null,[i,o]=N.useState("visual"),[a,l]=N.useState((e==null?void 0:e.name)||""),[c,u]=N.useState((e==null?void 0:e.description)||""),[d,p]=N.useState((e==null?void 0:e.system_prompt)||""),[m,h]=N.useState((e==null?void 0:e.model)||"inherit"),[f,y]=N.useState((e==null?void 0:e.tools)||[]),[b,g]=N.useState((e==null?void 0:e.skills)||[]),[x,v]=N.useState((e==null?void 0:e.scope)||"user"),[j,T]=N.useState(((Z=e==null?void 0:e.meta)==null?void 0:Z.color)||"blue"),[_,F]=N.useState(((pe=e==null?void 0:e.meta)==null?void 0:pe.icon)||"bot"),[R,z]=N.useState((e==null?void 0:e.disallowed_tools)||[]),[C,B]=N.useState((e==null?void 0:e.permission_mode)||"default"),[D,Q]=N.useState((e==null?void 0:e.max_turns)||null),[H,O]=N.useState((e==null?void 0:e.memory)||null),[M,V]=N.useState((e==null?void 0:e.background)||!1),[P,se]=N.useState((e==null?void 0:e.isolation)||null),[E,de]=N.useState(((ze=e==null?void 0:e.mcp_servers)==null?void 0:ze.map(k=>typeof k=="string"?k:Object.keys(k)[0]))||[]),[$,w]=N.useState(""),[I,A]=N.useState(!1),[ee,Y]=N.useState(!0),[ae,G]=N.useState(""),[he,Re]=N.useState(!1),[be,it]=N.useState(!1),[St,We]=N.useState(null),[Se,ht]=N.useState(!1),[at,zt]=N.useState(""),[Ft,gn]=N.useState(""),[xn,bn]=N.useState([]),[Qe,yn]=N.useState(""),[L,W]=N.useState(!1),ue=N.useCallback(()=>{const k={name:a||"my-agent",description:c||"Description here"};return m!=="inherit"&&(k.model=m),f.length>0&&(k.tools=f),R.length>0&&(k.disallowedTools=R),C!=="default"&&(k.permissionMode=C),D&&(k.maxTurns=D),b.length>0&&(k.skills=b),E.length>0&&(k.mcpServers=E),H&&(k.memory=H),M&&(k.background=!0),P&&(k.isolation=P),`---
${Object.entries(k).map(([Te,ve])=>Array.isArray(ve)?`${Te}:
${ve.map(lt=>`  - ${lt}`).join(`
`)}`:typeof ve=="string"&&ve.includes(`
`)?`${Te}: |
${ve.split(`
`).map(lt=>`  ${lt}`).join(`
`)}`:`${Te}: ${JSON.stringify(ve)}`).join(`
`)}
---

${d||"You are a specialized agent. Write your system prompt here."}
`},[a,c,m,f,R,C,D,b,E,H,M,P,d]),xe=N.useCallback(k=>{try{const X=k.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);if(!X)return;const[,Te,ve]=X,lt=Te.split(`
`);let gt="",At=[];const Ae={};for(const tn of lt){const Bn=tn.match(/^(\w+):\s*(.*)$/);if(Bn){gt&&At.length>0&&(Ae[gt]=At,At=[]),gt=Bn[1];const wn=Bn[2].trim();if(wn&&!wn.startsWith("|")){try{Ae[gt]=JSON.parse(wn)}catch{Ae[gt]=wn}gt=""}}else tn.trim().startsWith("- ")&&At.push(tn.trim().substring(2))}gt&&At.length>0&&(Ae[gt]=At),Ae.name&&l(Ae.name),Ae.description&&u(Ae.description),Ae.model&&h(Ae.model),Ae.tools&&y(Ae.tools),Ae.disallowedTools&&z(Ae.disallowedTools),Ae.permissionMode&&B(Ae.permissionMode),Ae.maxTurns&&Q(Ae.maxTurns),Ae.skills&&g(Ae.skills),Ae.mcpServers&&de(Ae.mcpServers),Ae.memory&&O(Ae.memory),Ae.background!==void 0&&V(Ae.background),Ae.isolation&&se(Ae.isolation),ve.trim()&&p(ve.trim())}catch(X){console.error("Failed to parse source:",X)}},[]);N.useEffect(()=>{je()},[]);const je=async()=>{try{const k=await on.list({limit:100});bn(k.items)}catch(k){console.error("Failed to load skills:",k)}};N.useEffect(()=>{i==="source"&&(s?G(ue()):ae||Je())},[i,s,ue]),N.useEffect(()=>{i==="visual"&&ae&&s&&xe(ae)},[i]);const Je=async()=>{if(e)try{Re(!0);const k=await Lt.getContent(e.id);G(k.content)}catch(k){console.error("Failed to load source:",k),We("加载源码失败")}finally{Re(!1)}},ft=async()=>{var k;if(Qe.trim())try{W(!0),We(null);const X=await Lt.generate({prompt:Qe.trim(),scope:x,model:m,tools_preset:"all"});l(X.name),u(X.description),p(((k=X.preview_content.split("---")[2])==null?void 0:k.trim())||""),y(X.tools),i==="source"&&G(X.preview_content)}catch(X){console.error("Failed to generate:",X),We(X instanceof Error?X.message:"AI 生成失败")}finally{W(!1)}},ot=()=>{G(ue())},jt=async()=>{var Te;const k=i==="source"?Ct():a,X=i==="source"?Ve():c;if(!(k!=null&&k.trim())){We("请输入名称");return}if(!(X!=null&&X.trim())){We("请输入描述");return}if(s&&!/^[a-z][a-z0-9-]*$/.test(k)){We("名称必须是小写字母开头，只能包含小写字母、数字和连字符");return}try{it(!0),We(null),i==="source"&&s&&xe(ae);const ve={color:j,icon:_};if(s)await Lt.create({name:(i==="source"?Ct():a).trim(),description:(i==="source"?Ve():c).trim(),system_prompt:(i==="source"?Tt():d).trim()||void 0,model:m,scope:x,tools:f.length>0?f:void 0,disallowed_tools:R.length>0?R:void 0,skills:b.length>0?b:void 0,permission_mode:C!=="default"?C:void 0,max_turns:D||void 0,memory:H||void 0,background:M||void 0,isolation:P||void 0,mcp_servers:E.length>0?E:void 0,meta:ve});else if(i==="source")await Lt.updateContent(e.id,{path:((Te=e.meta)==null?void 0:Te.path)||"",content:ae,frontmatter:{},body:""});else{const lt={name:a,description:c,system_prompt:d,model:m,tools:f,disallowed_tools:R,permission_mode:C,max_turns:D,skills:b,memory:H,background:M,isolation:P,mcp_servers:E,meta:ve};await Lt.update(e.id,lt)}ht(!0),setTimeout(()=>{ht(!1),n()},1500)}catch(ve){console.error("Failed to save:",ve),We(ve instanceof Error?ve.message:"保存失败")}finally{it(!1)}},Ct=()=>{const k=ae.match(/name:\s*"?([^"\n]+)"?/);return k?k[1].trim():a},Ve=()=>{const k=ae.match(/description:\s*"?([^"\n]+)"?/);return k?k[1].trim():c},Tt=()=>{const k=ae.match(/^---\n[\s\S]*?\n---\n([\s\S]*)$/);return k?k[1].trim():d},et=k=>{k&&!f.includes(k)&&y([...f,k]),zt("")},xr=k=>{y(f.filter(X=>X!==k))},br=k=>{k&&!R.includes(k)&&z([...R,k]),gn("")},vs=k=>{z(R.filter(X=>X!==k))},yr=()=>{$&&!E.includes($)&&de([...E,$]),w("")},Gt=k=>{de(E.filter(X=>X!==k))},S=k=>{b.includes(k)?g(b.filter(X=>X!==k)):g([...b,k])},U=((Fe=io.find(k=>k.value===_))==null?void 0:Fe.icon)||Rn;return r.jsxs("div",{className:"max-w-6xl mx-auto pb-20",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[r.jsx("button",{onClick:t,className:"p-3 hover:bg-white/10 rounded-xl transition-colors",children:r.jsx(ms,{size:24})}),r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center bg-${j}-500/20 border border-${j}-500/30`,style:{backgroundColor:`color-mix(in srgb, var(--${j}-500, #3b82f6) 20%, transparent)`},children:r.jsx(U,{size:28,className:`text-${j}-400`})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s?"创建新子代理":"编辑子代理"}),r.jsx("p",{className:"text-gray-400 mt-1",children:s?"配置你的 AI 子代理":((re=e==null?void 0:e.meta)==null?void 0:re.path)||(e==null?void 0:e.name)})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex bg-white/5 rounded-xl p-1",children:[r.jsxs("button",{onClick:()=>o("visual"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${i==="visual"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[r.jsx(Ri,{size:16}),"可视化"]}),r.jsxs("button",{onClick:()=>o("source"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${i==="source"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[r.jsx(rr,{size:16}),"源码"]})]}),r.jsx("button",{onClick:jt,disabled:be,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 disabled:from-gray-600 disabled:to-gray-600 disabled:cursor-not-allowed rounded-xl font-bold transition-all shadow-lg",children:be?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white/30 border-t-white"}),"保存中..."]}):Se?r.jsxs(r.Fragment,{children:[r.jsx(Dt,{size:20}),"已保存"]}):r.jsxs(r.Fragment,{children:[r.jsx(ps,{size:20}),s?"创建":"保存"]})})]})]}),St&&r.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dn,{size:20,className:"text-red-400"}),r.jsx("span",{className:"text-red-400",children:St}),r.jsx("button",{onClick:()=>We(null),className:"ml-auto text-gray-400 hover:text-white",children:"×"})]})}),r.jsxs(me,{className:"p-6 border-2 border-purple-500/30 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:r.jsx(kt,{className:"text-purple-400",size:20})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold",children:"AI 助手"}),r.jsxs("p",{className:"text-xs text-gray-400",children:["描述你的子代理，让 AI 帮你生成配置",i==="source"&&" (将直接生成 Markdown 源码)"]})]}),i==="source"&&r.jsxs("button",{onClick:ot,className:"flex items-center gap-2 px-3 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-sm transition-all",title:"从可视化表单重新生成源码",children:[r.jsx(Wr,{size:14}),"重新生成"]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"text",placeholder:"例如：'一个专门审查代码安全性的后端专家'",value:Qe,onChange:k=>yn(k.target.value),onKeyPress:k=>k.key==="Enter"&&Qe.trim()&&ft(),className:"flex-1 px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-500/50 transition-all",disabled:L}),r.jsxs("button",{onClick:ft,disabled:L||!Qe.trim(),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-500 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-xl font-bold transition-all",children:[L?r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white/30 border-t-white"}):r.jsx(Oi,{size:20}),"生成"]})]})]}),i==="visual"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(dr,{size:18,className:"text-blue-400"}),r.jsx("h3",{className:"font-bold",children:"基本信息"}),r.jsx("span",{className:"text-xs text-red-400",children:"* 必填"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"名称 *"}),r.jsx("input",{type:"text",value:a,onChange:k=>l(s?k.target.value.toLowerCase():k.target.value),placeholder:"my-agent",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50 transition-all",disabled:!s&&(e==null?void 0:e.is_builtin)}),s&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"小写字母、数字和连字符"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"描述 *"}),r.jsx("textarea",{value:c,onChange:k=>u(k.target.value),placeholder:"Claude 何时委托给此子代理...",rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50 resize-none transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"模型"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:ef.map(k=>{const X=m===k.value;return r.jsxs("button",{onClick:()=>h(k.value),className:`p-3 rounded-xl text-left transition-all border ${X?`bg-${k.color}-500/20 border-${k.color}-500/50`:"bg-white/5 border-white/10 hover:border-white/20"}`,children:[r.jsx("p",{className:`font-bold text-sm ${X?`text-${k.color}-400`:""}`,children:k.label}),r.jsx("p",{className:"text-xs text-gray-500",children:k.desc})]},k.value)})})]})]})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("button",{onClick:()=>Y(!ee),className:"flex items-center justify-between w-full mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ri,{size:18,className:"text-pink-400"}),r.jsx("h3",{className:"font-bold",children:"外观设置"})]}),ee?r.jsx(si,{size:18}):r.jsx(ii,{size:18})]}),r.jsx(Ue,{children:ee&&r.jsxs(Ee.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-4 overflow-hidden",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"颜色"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:tf.map(k=>r.jsx("button",{onClick:()=>T(k.value),className:`w-8 h-8 rounded-lg ${k.class} transition-all ${j===k.value?"ring-2 ring-white ring-offset-2 ring-offset-gray-900 scale-110":"hover:scale-105"}`,title:k.label},k.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"图标"}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:io.map(k=>{const X=k.icon,Te=_===k.value;return r.jsx("button",{onClick:()=>F(k.value),className:`p-3 rounded-xl transition-all border flex items-center justify-center ${Te?`bg-${j}-500/20 border-${j}-500/50`:"bg-white/5 border-white/10 hover:border-white/20"}`,title:k.label,children:r.jsx(X,{size:20,className:Te?`text-${j}-400`:"text-gray-400"})},k.value)})})]})]})})]}),s&&r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(Kr,{size:18,className:"text-green-400"}),r.jsx("h3",{className:"font-bold",children:"保存位置"})]}),r.jsx("div",{className:"space-y-3",children:so.map(k=>r.jsxs("button",{onClick:()=>v(k.value),className:`w-full p-4 rounded-xl text-left transition-all border flex justify-between items-center ${x===k.value?"bg-green-500/20 border-green-500/50":"bg-white/5 border-white/10 hover:border-white/20"}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:`font-bold ${x===k.value?"text-green-400":""}`,children:k.label}),r.jsx("p",{className:"text-xs text-gray-500 font-mono",children:k.desc})]}),x===k.value&&r.jsx(Dt,{size:18,className:"text-green-400"})]},k.value))})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(cr,{size:18,className:"text-orange-400"}),r.jsx("h3",{className:"font-bold",children:"工具配置"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"允许的工具（为空则继承全部）"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:f.map(k=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-500/20 text-green-400 rounded-lg text-sm border border-green-500/30",children:[k,r.jsx("button",{onClick:()=>xr(k),className:"hover:text-white",children:r.jsx(Nt,{size:14})})]},k))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:at,onChange:k=>zt(k.target.value),className:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50",children:[r.jsx("option",{value:"",children:"选择工具..."}),ro.filter(k=>!f.includes(k)).map(k=>r.jsx("option",{value:k,children:k},k))]}),r.jsx("button",{onClick:()=>et(at),disabled:!at,className:"px-4 py-2 bg-green-600 hover:bg-green-500 disabled:bg-gray-600 rounded-xl text-sm font-bold transition-all",children:r.jsx(dt,{size:16})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"禁止的工具"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[R.map(k=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-500/20 text-red-400 rounded-lg text-sm border border-red-500/30",children:[r.jsx(Ld,{size:12}),k,r.jsx("button",{onClick:()=>vs(k),className:"hover:text-white",children:r.jsx(Nt,{size:14})})]},k)),R.length===0&&r.jsx("span",{className:"text-gray-500 text-sm",children:"无"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:Ft,onChange:k=>gn(k.target.value),className:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50",children:[r.jsx("option",{value:"",children:"选择要禁止的工具..."}),ro.filter(k=>!R.includes(k)).map(k=>r.jsx("option",{value:k,children:k},k))]}),r.jsx("button",{onClick:()=>br(Ft),disabled:!Ft,className:"px-4 py-2 bg-red-600 hover:bg-red-500 disabled:bg-gray-600 rounded-xl text-sm font-bold transition-all",children:r.jsx(dt,{size:16})})]})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(Xe,{size:18,className:"text-cyan-400"}),r.jsx("h3",{className:"font-bold",children:"预加载技能"}),r.jsx("span",{className:"px-2 py-0.5 bg-cyan-500/20 rounded-full text-xs font-black text-cyan-400",children:b.length})]}),xn.length===0?r.jsx("p",{className:"text-sm text-gray-500",children:"暂无可用技能"}):r.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:xn.map(k=>{const X=b.includes(k.name);return r.jsxs("button",{onClick:()=>S(k.name),className:`p-3 rounded-xl text-left transition-all border text-sm ${X?"bg-cyan-500/20 border-cyan-500/50":"bg-white/5 border-white/10 hover:border-white/20"}`,children:[r.jsx("p",{className:`font-bold truncate ${X?"text-cyan-400":""}`,children:k.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:k.scope})]},k.id)})}),b.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"已选择的技能："}),r.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(k=>r.jsxs("span",{className:"px-3 py-1 bg-cyan-500/20 border border-cyan-500/30 rounded-lg text-sm font-bold text-cyan-400 flex items-center gap-2",children:[k,r.jsx("button",{onClick:()=>S(k),className:"hover:text-cyan-300",children:r.jsx(Nt,{size:14})})]},k))})]})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(qr,{size:18,className:"text-purple-400"}),r.jsx("h3",{className:"font-bold",children:"系统提示"})]}),r.jsx("textarea",{value:d,onChange:k=>p(k.target.value),placeholder:"You are a specialized agent...",rows:8,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-purple-500/50 resize-none font-mono text-sm transition-all"})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("button",{onClick:()=>A(!I),className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yt,{size:18,className:"text-red-400"}),r.jsx("h3",{className:"font-bold",children:"高级配置"}),r.jsx("span",{className:"text-xs text-gray-500 px-2 py-0.5 bg-white/5 rounded-full",children:"可选"})]}),I?r.jsx(si,{size:18}):r.jsx(ii,{size:18})]}),r.jsx(Ue,{children:I&&r.jsx(Ee.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsxs("div",{className:"space-y-4 mt-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"权限模式"}),r.jsx("div",{className:"space-y-2",children:Jh.map(k=>r.jsxs("button",{onClick:()=>B(k.value),className:`w-full p-3 rounded-xl text-left transition-all border flex justify-between items-center ${C===k.value?k.value==="bypassPermissions"?"bg-red-500/20 border-red-500/50 text-red-400":"bg-blue-500/20 border-blue-500/50 text-blue-400":"bg-white/5 border-white/10 hover:border-white/20"}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-sm",children:k.label}),r.jsx("p",{className:"text-xs text-gray-500",children:k.desc})]}),C===k.value&&r.jsx(Dt,{size:16})]},k.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-400 mb-2 flex items-center gap-2",children:[r.jsx(Ut,{size:14}),"最大轮次"]}),r.jsx("input",{type:"number",value:D||"",onChange:k=>Q(k.target.value?parseInt(k.target.value):null),placeholder:"不限制",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-400 mb-2 flex items-center gap-2",children:[r.jsx(On,{size:14}),"持久内存"]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:nf.map(k=>r.jsxs("button",{onClick:()=>O(k.value||null),className:`p-3 rounded-xl text-left transition-all border ${(H||"")===k.value?"bg-purple-500/20 border-purple-500/50":"bg-white/5 border-white/10 hover:border-white/20"}`,children:[r.jsx("p",{className:`font-bold text-sm ${(H||"")===k.value?"text-purple-400":""}`,children:k.label}),r.jsx("p",{className:"text-xs text-gray-500",children:k.desc})]},k.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-400 mb-2 flex items-center gap-2",children:[r.jsx(Dd,{size:14}),"MCP Servers"]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[E.map(k=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-indigo-500/20 text-indigo-400 rounded-lg text-sm border border-indigo-500/30",children:[k,r.jsx("button",{onClick:()=>Gt(k),className:"hover:text-white",children:r.jsx(Nt,{size:14})})]},k)),E.length===0&&r.jsx("span",{className:"text-gray-500 text-sm",children:"无"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:$,onChange:k=>w(k.target.value),placeholder:"服务器名称，如 slack",className:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50"}),r.jsx("button",{onClick:yr,disabled:!$,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-600 rounded-xl text-sm font-bold transition-all",children:r.jsx(dt,{size:16})})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 pt-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-white/5 px-4 py-3 rounded-xl border border-white/10 hover:border-white/20 transition-all",children:[r.jsx("input",{type:"checkbox",checked:M,onChange:k=>V(k.target.checked),className:"w-4 h-4 rounded accent-blue-500"}),r.jsx("span",{className:"text-sm font-bold",children:"后台运行"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-white/5 px-4 py-3 rounded-xl border border-white/10 hover:border-white/20 transition-all",children:[r.jsx("input",{type:"checkbox",checked:P==="worktree",onChange:k=>se(k.target.checked?"worktree":null),className:"w-4 h-4 rounded accent-blue-500"}),r.jsx(tr,{size:14,className:"text-gray-400"}),r.jsx("span",{className:"text-sm font-bold",children:"工作树隔离"})]})]})]})})})]})]})]}),i==="source"&&r.jsxs("div",{className:"space-y-6",children:[s&&r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Kr,{size:18,className:"text-green-400"}),r.jsx("h3",{className:"font-bold",children:"保存位置"})]}),r.jsx("div",{className:"flex gap-3",children:so.map(k=>r.jsxs("button",{onClick:()=>v(k.value),className:`flex-1 p-4 rounded-xl text-left transition-all border ${x===k.value?"bg-green-500/20 border-green-500/50":"bg-white/5 border-white/10 hover:border-white/20"}`,children:[r.jsx("p",{className:`font-bold ${x===k.value?"text-green-400":""}`,children:k.label}),r.jsx("p",{className:"text-xs text-gray-500 font-mono",children:k.desc})]},k.value))})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rr,{size:18,className:"text-yellow-400"}),r.jsx("h3",{className:"font-bold",children:"Markdown 源文件"})]}),r.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:r.jsx("span",{children:"YAML frontmatter + 系统提示"})})]}),he?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500/30 border-t-blue-500"})}):r.jsx("textarea",{value:ae,onChange:k=>G(k.target.value),rows:25,className:"w-full px-4 py-3 bg-black/30 border border-white/10 rounded-xl focus:outline-none focus:border-yellow-500/50 resize-none font-mono text-sm",spellCheck:!1,placeholder:`---
name: "my-agent"
description: "Claude 何时委托给此子代理"
model: "sonnet"
tools:
  - Read
  - Write
  - Bash
---

You are a specialized agent...`}),r.jsxs("div",{className:"mt-4 p-4 bg-white/5 rounded-xl border border-white/10",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"支持的字段："}),r.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[r.jsx("span",{className:"px-2 py-1 bg-red-500/20 text-red-400 rounded",children:"name *"}),r.jsx("span",{className:"px-2 py-1 bg-red-500/20 text-red-400 rounded",children:"description *"}),r.jsx("span",{className:"px-2 py-1 bg-white/10 text-gray-400 rounded",children:"model"}),r.jsx("span",{className:"px-2 py-1 bg-white/10 text-gray-400 rounded",children:"tools"}),r.jsx("span",{className:"px-2 py-1 bg-white/10 text-gray-400 rounded",children:"disallowedTools"}),r.jsx("span",{className:"px-2 py-1 bg-white/10 text-gray-400 rounded",children:"permissionMode"}),r.jsx("span",{className:"px-2 py-1 bg-white/10 text-gray-400 rounded",children:"maxTurns"}),r.jsx("span",{className:"px-2 py-1 bg-white/10 text-gray-400 rounded",children:"skills"}),r.jsx("span",{className:"px-2 py-1 bg-white/10 text-gray-400 rounded",children:"mcpServers"}),r.jsx("span",{className:"px-2 py-1 bg-white/10 text-gray-400 rounded",children:"memory"}),r.jsx("span",{className:"px-2 py-1 bg-white/10 text-gray-400 rounded",children:"background"}),r.jsx("span",{className:"px-2 py-1 bg-white/10 text-gray-400 rounded",children:"isolation"})]})]})]})]})]})};function rf(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const sf=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,af=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,of={};function oo(e,t){return(of.jsx?af:sf).test(e)}const lf=/[ \t\n\f\r]/g;function cf(e){return typeof e=="object"?e.type==="text"?lo(e.value):!1:lo(e)}function lo(e){return e.replace(lf,"")===""}class mr{constructor(t,n,s){this.normal=n,this.property=t,s&&(this.space=s)}}mr.prototype.normal={};mr.prototype.property={};mr.prototype.space=void 0;function fc(e,t){const n={},s={};for(const i of e)Object.assign(n,i.property),Object.assign(s,i.normal);return new mr(n,s,t)}function xi(e){return e.toLowerCase()}class st{constructor(t,n){this.attribute=n,this.property=t}}st.prototype.attribute="";st.prototype.booleanish=!1;st.prototype.boolean=!1;st.prototype.commaOrSpaceSeparated=!1;st.prototype.commaSeparated=!1;st.prototype.defined=!1;st.prototype.mustUseProperty=!1;st.prototype.number=!1;st.prototype.overloadedBoolean=!1;st.prototype.property="";st.prototype.spaceSeparated=!1;st.prototype.space=void 0;let uf=0;const ge=hn(),$e=hn(),bi=hn(),K=hn(),Pe=hn(),An=hn(),ut=hn();function hn(){return 2**++uf}const yi=Object.freeze(Object.defineProperty({__proto__:null,boolean:ge,booleanish:$e,commaOrSpaceSeparated:ut,commaSeparated:An,number:K,overloadedBoolean:bi,spaceSeparated:Pe},Symbol.toStringTag,{value:"Module"})),Ls=Object.keys(yi);class Gi extends st{constructor(t,n,s,i){let o=-1;if(super(t,n),co(this,"space",i),typeof s=="number")for(;++o<Ls.length;){const a=Ls[o];co(this,Ls[o],(s&yi[a])===yi[a])}}}Gi.prototype.defined=!0;function co(e,t,n){n&&(e[t]=n)}function zn(e){const t={},n={};for(const[s,i]of Object.entries(e.properties)){const o=new Gi(s,e.transform(e.attributes||{},s),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),t[s]=o,n[xi(s)]=s,n[xi(o.attribute)]=s}return new mr(t,n,e.space)}const gc=zn({properties:{ariaActiveDescendant:null,ariaAtomic:$e,ariaAutoComplete:null,ariaBusy:$e,ariaChecked:$e,ariaColCount:K,ariaColIndex:K,ariaColSpan:K,ariaControls:Pe,ariaCurrent:null,ariaDescribedBy:Pe,ariaDetails:null,ariaDisabled:$e,ariaDropEffect:Pe,ariaErrorMessage:null,ariaExpanded:$e,ariaFlowTo:Pe,ariaGrabbed:$e,ariaHasPopup:null,ariaHidden:$e,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Pe,ariaLevel:K,ariaLive:null,ariaModal:$e,ariaMultiLine:$e,ariaMultiSelectable:$e,ariaOrientation:null,ariaOwns:Pe,ariaPlaceholder:null,ariaPosInSet:K,ariaPressed:$e,ariaReadOnly:$e,ariaRelevant:null,ariaRequired:$e,ariaRoleDescription:Pe,ariaRowCount:K,ariaRowIndex:K,ariaRowSpan:K,ariaSelected:$e,ariaSetSize:K,ariaSort:null,ariaValueMax:K,ariaValueMin:K,ariaValueNow:K,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function xc(e,t){return t in e?e[t]:t}function bc(e,t){return xc(e,t.toLowerCase())}const df=zn({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:An,acceptCharset:Pe,accessKey:Pe,action:null,allow:null,allowFullScreen:ge,allowPaymentRequest:ge,allowUserMedia:ge,alt:null,as:null,async:ge,autoCapitalize:null,autoComplete:Pe,autoFocus:ge,autoPlay:ge,blocking:Pe,capture:null,charSet:null,checked:ge,cite:null,className:Pe,cols:K,colSpan:null,content:null,contentEditable:$e,controls:ge,controlsList:Pe,coords:K|An,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ge,defer:ge,dir:null,dirName:null,disabled:ge,download:bi,draggable:$e,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ge,formTarget:null,headers:Pe,height:K,hidden:bi,high:K,href:null,hrefLang:null,htmlFor:Pe,httpEquiv:Pe,id:null,imageSizes:null,imageSrcSet:null,inert:ge,inputMode:null,integrity:null,is:null,isMap:ge,itemId:null,itemProp:Pe,itemRef:Pe,itemScope:ge,itemType:Pe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ge,low:K,manifest:null,max:null,maxLength:K,media:null,method:null,min:null,minLength:K,multiple:ge,muted:ge,name:null,nonce:null,noModule:ge,noValidate:ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ge,optimum:K,pattern:null,ping:Pe,placeholder:null,playsInline:ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ge,referrerPolicy:null,rel:Pe,required:ge,reversed:ge,rows:K,rowSpan:K,sandbox:Pe,scope:null,scoped:ge,seamless:ge,selected:ge,shadowRootClonable:ge,shadowRootDelegatesFocus:ge,shadowRootMode:null,shape:null,size:K,sizes:null,slot:null,span:K,spellCheck:$e,src:null,srcDoc:null,srcLang:null,srcSet:null,start:K,step:null,style:null,tabIndex:K,target:null,title:null,translate:null,type:null,typeMustMatch:ge,useMap:null,value:$e,width:K,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Pe,axis:null,background:null,bgColor:null,border:K,borderColor:null,bottomMargin:K,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ge,declare:ge,event:null,face:null,frame:null,frameBorder:null,hSpace:K,leftMargin:K,link:null,longDesc:null,lowSrc:null,marginHeight:K,marginWidth:K,noResize:ge,noHref:ge,noShade:ge,noWrap:ge,object:null,profile:null,prompt:null,rev:null,rightMargin:K,rules:null,scheme:null,scrolling:$e,standby:null,summary:null,text:null,topMargin:K,valueType:null,version:null,vAlign:null,vLink:null,vSpace:K,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ge,disableRemotePlayback:ge,prefix:null,property:null,results:K,security:null,unselectable:null},space:"html",transform:bc}),pf=zn({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ut,accentHeight:K,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:K,amplitude:K,arabicForm:null,ascent:K,attributeName:null,attributeType:null,azimuth:K,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:K,by:null,calcMode:null,capHeight:K,className:Pe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:K,diffuseConstant:K,direction:null,display:null,dur:null,divisor:K,dominantBaseline:null,download:ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:K,enableBackground:null,end:null,event:null,exponent:K,externalResourcesRequired:null,fill:null,fillOpacity:K,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:An,g2:An,glyphName:An,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:K,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:K,horizOriginX:K,horizOriginY:K,id:null,ideographic:K,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:K,k:K,k1:K,k2:K,k3:K,k4:K,kernelMatrix:ut,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:K,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:K,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:K,overlineThickness:K,paintOrder:null,panose1:null,path:null,pathLength:K,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Pe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:K,pointsAtY:K,pointsAtZ:K,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ut,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ut,rev:ut,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ut,requiredFeatures:ut,requiredFonts:ut,requiredFormats:ut,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:K,specularExponent:K,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:K,strikethroughThickness:K,string:null,stroke:null,strokeDashArray:ut,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:K,strokeOpacity:K,strokeWidth:null,style:null,surfaceScale:K,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ut,tabIndex:K,tableValues:null,target:null,targetX:K,targetY:K,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ut,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:K,underlineThickness:K,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:K,values:null,vAlphabetic:K,vMathematical:K,vectorEffect:null,vHanging:K,vIdeographic:K,version:null,vertAdvY:K,vertOriginX:K,vertOriginY:K,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:K,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:xc}),yc=zn({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),wc=zn({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:bc}),vc=zn({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),mf={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hf=/[A-Z]/g,uo=/-[a-z]/g,ff=/^data[-\w.:]+$/i;function gf(e,t){const n=xi(t);let s=t,i=st;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ff.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(uo,bf);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!uo.test(o)){let a=o.replace(hf,xf);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Gi}return new i(s,t)}function xf(e){return"-"+e.toLowerCase()}function bf(e){return e.charAt(1).toUpperCase()}const yf=fc([gc,df,yc,wc,vc],"html"),Vi=fc([gc,pf,yc,wc,vc],"svg");function wf(e){return e.join(" ").trim()}var Nn={},Ds,po;function vf(){if(po)return Ds;po=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,u="/",d="*",p="",m="comment",h="declaration";function f(b,g){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];g=g||{};var x=1,v=1;function j(H){var O=H.match(t);O&&(x+=O.length);var M=H.lastIndexOf(c);v=~M?H.length-M:v+H.length}function T(){var H={line:x,column:v};return function(O){return O.position=new _(H),z(),O}}function _(H){this.start=H,this.end={line:x,column:v},this.source=g.source}_.prototype.content=b;function F(H){var O=new Error(g.source+":"+x+":"+v+": "+H);if(O.reason=H,O.filename=g.source,O.line=x,O.column=v,O.source=b,!g.silent)throw O}function R(H){var O=H.exec(b);if(O){var M=O[0];return j(M),b=b.slice(M.length),O}}function z(){R(n)}function C(H){var O;for(H=H||[];O=B();)O!==!1&&H.push(O);return H}function B(){var H=T();if(!(u!=b.charAt(0)||d!=b.charAt(1))){for(var O=2;p!=b.charAt(O)&&(d!=b.charAt(O)||u!=b.charAt(O+1));)++O;if(O+=2,p===b.charAt(O-1))return F("End of comment missing");var M=b.slice(2,O-2);return v+=2,j(M),b=b.slice(O),v+=2,H({type:m,comment:M})}}function D(){var H=T(),O=R(s);if(O){if(B(),!R(i))return F("property missing ':'");var M=R(o),V=H({type:h,property:y(O[0].replace(e,p)),value:M?y(M[0].replace(e,p)):p});return R(a),V}}function Q(){var H=[];C(H);for(var O;O=D();)O!==!1&&(H.push(O),C(H));return H}return z(),Q()}function y(b){return b?b.replace(l,p):p}return Ds=f,Ds}var mo;function Nf(){if(mo)return Nn;mo=1;var e=Nn&&Nn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.default=n;const t=e(vf());function n(s,i){let o=null;if(!s||typeof s!="string")return o;const a=(0,t.default)(s),l=typeof i=="function";return a.forEach(c=>{if(c.type!=="declaration")return;const{property:u,value:d}=c;l?i(u,d,c):d&&(o=o||{},o[u]=d)}),o}return Nn}var Un={},ho;function Ef(){if(ho)return Un;ho=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||n.test(u)||e.test(u)},a=function(u,d){return d.toUpperCase()},l=function(u,d){return"".concat(d,"-")},c=function(u,d){return d===void 0&&(d={}),o(u)?u:(u=u.toLowerCase(),d.reactCompat?u=u.replace(i,l):u=u.replace(s,l),u.replace(t,a))};return Un.camelCase=c,Un}var Hn,fo;function kf(){if(fo)return Hn;fo=1;var e=Hn&&Hn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(Nf()),n=Ef();function s(i,o){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(l,c){l&&c&&(a[(0,n.camelCase)(l,o)]=c)}),a}return s.default=s,Hn=s,Hn}var _f=kf();const Sf=Ti(_f),Nc=Ec("end"),Ki=Ec("start");function Ec(e){return t;function t(n){const s=n&&n.position&&n.position[e]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function jf(e){const t=Ki(e),n=Nc(e);if(t&&n)return{start:t,end:n}}function Yn(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?go(e.position):"start"in e||"end"in e?go(e):"line"in e||"column"in e?wi(e):""}function wi(e){return xo(e&&e.line)+":"+xo(e&&e.column)}function go(e){return wi(e&&e.start)+"-"+wi(e&&e.end)}function xo(e){return e&&typeof e=="number"?e:1}class Ze extends Error{constructor(t,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof s=="string"){const c=s.indexOf(":");c===-1?o.ruleId=s:(o.source=s.slice(0,c),o.ruleId=s.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Yn(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ze.prototype.file="";Ze.prototype.name="";Ze.prototype.reason="";Ze.prototype.message="";Ze.prototype.stack="";Ze.prototype.column=void 0;Ze.prototype.line=void 0;Ze.prototype.ancestors=void 0;Ze.prototype.cause=void 0;Ze.prototype.fatal=void 0;Ze.prototype.place=void 0;Ze.prototype.ruleId=void 0;Ze.prototype.source=void 0;const Wi={}.hasOwnProperty,Cf=new Map,Tf=/[A-Z]/g,Af=new Set(["table","tbody","thead","tfoot","tr"]),If=new Set(["td","th"]),kc="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Rf(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let s;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=Bf(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=Ff(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Vi:yf,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=_c(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function _c(e,t,n){if(t.type==="element")return Mf(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Of(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Df(e,t,n);if(t.type==="mdxjsEsm")return Lf(e,t);if(t.type==="root")return Pf(e,t,n);if(t.type==="text")return zf(e,t)}function Mf(e,t,n){const s=e.schema;let i=s;t.tagName.toLowerCase()==="svg"&&s.space==="html"&&(i=Vi,e.schema=i),e.ancestors.push(t);const o=jc(e,t.tagName,!1),a=$f(e,t);let l=Yi(e,t);return Af.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!cf(c):!0})),Sc(e,a,o,t),qi(a,l),e.ancestors.pop(),e.schema=s,e.create(t,o,a,n)}function Of(e,t){if(t.data&&t.data.estree&&e.evaluater){const s=t.data.estree.body[0];return s.type,e.evaluater.evaluateExpression(s.expression)}ar(e,t.position)}function Lf(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ar(e,t.position)}function Df(e,t,n){const s=e.schema;let i=s;t.name==="svg"&&s.space==="html"&&(i=Vi,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:jc(e,t.name,!0),a=Uf(e,t),l=Yi(e,t);return Sc(e,a,o,t),qi(a,l),e.ancestors.pop(),e.schema=s,e.create(t,o,a,n)}function Pf(e,t,n){const s={};return qi(s,Yi(e,t)),e.create(t,e.Fragment,s,n)}function zf(e,t){return t.value}function Sc(e,t,n,s){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=s)}function qi(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Ff(e,t,n){return s;function s(i,o,a,l){const u=Array.isArray(a.children)?n:t;return l?u(o,a,l):u(o,a)}}function Bf(e,t){return n;function n(s,i,o,a){const l=Array.isArray(o.children),c=Ki(s);return t(i,o,a,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function $f(e,t){const n={};let s,i;for(i in t.properties)if(i!=="children"&&Wi.call(t.properties,i)){const o=Hf(e,i,t.properties[i]);if(o){const[a,l]=o;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&If.has(t.tagName)?s=l:n[a]=l}}if(s){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function Uf(e,t){const n={};for(const s of t.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&e.evaluater){const o=s.data.estree.body[0];o.type;const a=o.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else ar(e,t.position);else{const i=s.name;let o;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&e.evaluater){const l=s.value.data.estree.body[0];l.type,o=e.evaluater.evaluateExpression(l.expression)}else ar(e,t.position);else o=s.value===null?!0:s.value;n[i]=o}return n}function Yi(e,t){const n=[];let s=-1;const i=e.passKeys?new Map:Cf;for(;++s<t.children.length;){const o=t.children[s];let a;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const l=_c(e,o,a);l!==void 0&&n.push(l)}return n}function Hf(e,t,n){const s=gf(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?rf(n):wf(n)),s.property==="style"){let i=typeof n=="object"?n:Gf(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Vf(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&s.space?mf[s.property]||s.property:s.attribute,n]}}function Gf(e,t){try{return Sf(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const s=n,i=new Ze("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=kc+"#cannot-parse-style-attribute",i}}function jc(e,t,n){let s;if(!n)s={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,a;for(;++o<i.length;){const l=oo(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}s=a}else s=oo(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(s.type==="Literal"){const i=s.value;return Wi.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(s);ar(e)}function ar(e,t){const n=new Ze("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=kc+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Vf(e){const t={};let n;for(n in e)Wi.call(e,n)&&(t[Kf(n)]=e[n]);return t}function Kf(e){let t=e.replace(Tf,Wf);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Wf(e){return"-"+e.toLowerCase()}const Ps={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qf={};function Xi(e,t){const n=qf,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Cc(e,s,i)}function Cc(e,t,n){if(Yf(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return bo(e.children,t,n)}return Array.isArray(e)?bo(e,t,n):""}function bo(e,t,n){const s=[];let i=-1;for(;++i<e.length;)s[i]=Cc(e[i],t,n);return s.join("")}function Yf(e){return!!(e&&typeof e=="object")}const yo=document.createElement("i");function Zi(e){const t="&"+e+";";yo.innerHTML=t;const n=yo.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function pt(e,t,n,s){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,s.length<1e4)a=Array.from(s),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<s.length;)a=s.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function bt(e,t){return e.length>0?(pt(e,e.length,0,t),e):t}const wo={}.hasOwnProperty;function Tc(e){const t={};let n=-1;for(;++n<e.length;)Xf(t,e[n]);return t}function Xf(e,t){let n;for(n in t){const i=(wo.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){wo.call(i,a)||(i[a]=[]);const l=o[a];Zf(i[a],Array.isArray(l)?l:l?[l]:[])}}}function Zf(e,t){let n=-1;const s=[];for(;++n<t.length;)(t[n].add==="after"?e:s).push(t[n]);pt(e,0,0,s)}function Ac(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function _t(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const nt=en(/[A-Za-z]/),Ye=en(/[\dA-Za-z]/),Qf=en(/[#-'*+\--9=?A-Z^-~]/);function is(e){return e!==null&&(e<32||e===127)}const vi=en(/\d/),Jf=en(/[\dA-Fa-f]/),eg=en(/[!-/:-@[-`{-~]/);function ce(e){return e!==null&&e<-2}function Oe(e){return e!==null&&(e<0||e===32)}function Ne(e){return e===-2||e===-1||e===32}const gs=en(new RegExp("\\p{P}|\\p{S}","u")),mn=en(/\s/);function en(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Fn(e){const t=[];let n=-1,s=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Ye(e.charCodeAt(n+1))&&Ye(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const l=e.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(a=String.fromCharCode(o,l),i=1):a="�"}else a=String.fromCharCode(o);a&&(t.push(e.slice(s,n),encodeURIComponent(a)),s=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(s)}function _e(e,t,n,s){const i=s?s-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(c){return Ne(c)?(e.enter(n),l(c)):t(c)}function l(c){return Ne(c)&&o++<i?(e.consume(c),l):(e.exit(n),t(c))}}const tg={tokenize:ng};function ng(e){const t=e.attempt(this.parser.constructs.contentInitial,s,i);let n;return t;function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),_e(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),o(l)}function o(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return ce(l)?(e.consume(l),e.exit("chunkText"),o):(e.consume(l),a)}}const rg={tokenize:sg},vo={tokenize:ig};function sg(e){const t=this,n=[];let s=0,i,o,a;return l;function l(v){if(s<n.length){const j=n[s];return t.containerState=j[1],e.attempt(j[0].continuation,c,u)(v)}return u(v)}function c(v){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const j=t.events.length;let T=j,_;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){_=t.events[T][1].end;break}g(s);let F=j;for(;F<t.events.length;)t.events[F][1].end={..._},F++;return pt(t.events,T+1,0,t.events.slice(j)),t.events.length=F,u(v)}return l(v)}function u(v){if(s===n.length){if(!i)return m(v);if(i.currentConstruct&&i.currentConstruct.concrete)return f(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(vo,d,p)(v)}function d(v){return i&&x(),g(s),m(v)}function p(v){return t.parser.lazy[t.now().line]=s!==n.length,a=t.now().offset,f(v)}function m(v){return t.containerState={},e.attempt(vo,h,f)(v)}function h(v){return s++,n.push([t.currentConstruct,t.containerState]),m(v)}function f(v){if(v===null){i&&x(),g(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),y(v)}function y(v){if(v===null){b(e.exit("chunkFlow"),!0),g(0),e.consume(v);return}return ce(v)?(e.consume(v),b(e.exit("chunkFlow")),s=0,t.interrupt=void 0,l):(e.consume(v),y)}function b(v,j){const T=t.sliceStream(v);if(j&&T.push(null),v.previous=o,o&&(o.next=v),o=v,i.defineSkip(v.start),i.write(T),t.parser.lazy[v.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<a&&(!i.events[_][1].end||i.events[_][1].end.offset>a))return;const F=t.events.length;let R=F,z,C;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(z){C=t.events[R][1].end;break}z=!0}for(g(s),_=F;_<t.events.length;)t.events[_][1].end={...C},_++;pt(t.events,R+1,0,t.events.slice(F)),t.events.length=_}}function g(v){let j=n.length;for(;j-- >v;){const T=n[j];t.containerState=T[1],T[0].exit.call(t,e)}n.length=v}function x(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function ig(e,t,n){return _e(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Mn(e){if(e===null||Oe(e)||mn(e))return 1;if(gs(e))return 2}function xs(e,t,n){const s=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!s.includes(o)&&(t=o(t,n),s.push(o))}return t}const Ni={name:"attention",resolveAll:ag,tokenize:og};function ag(e,t){let n=-1,s,i,o,a,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(s=n;s--;)if(e[s][0]==="exit"&&e[s][1].type==="attentionSequence"&&e[s][1]._open&&t.sliceSerialize(e[s][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[s][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[s][1].end.offset-e[s][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[s][1].end.offset-e[s][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[s][1].end},m={...e[n][1].start};No(p,-c),No(m,c),a={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[s][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},o={type:c>1?"strongText":"emphasisText",start:{...e[s][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[s][1].end={...a.start},e[n][1].start={...l.end},u=[],e[s][1].end.offset-e[s][1].start.offset&&(u=bt(u,[["enter",e[s][1],t],["exit",e[s][1],t]])),u=bt(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),u=bt(u,xs(t.parser.constructs.insideSpan.null,e.slice(s+1,n),t)),u=bt(u,[["exit",o,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=bt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,pt(e,s-1,n-s+3,u),n=s+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function og(e,t){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,i=Mn(s);let o;return a;function a(c){return o=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===o)return e.consume(c),l;const u=e.exit("attentionSequence"),d=Mn(c),p=!d||d===2&&i||n.includes(c),m=!i||i===2&&d||n.includes(s);return u._open=!!(o===42?p:p&&(i||!m)),u._close=!!(o===42?m:m&&(d||!p)),t(c)}}function No(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const lg={name:"autolink",tokenize:cg};function cg(e,t,n){let s=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return nt(h)?(e.consume(h),a):h===64?n(h):u(h)}function a(h){return h===43||h===45||h===46||Ye(h)?(s=1,l(h)):u(h)}function l(h){return h===58?(e.consume(h),s=0,c):(h===43||h===45||h===46||Ye(h))&&s++<32?(e.consume(h),l):(s=0,u(h))}function c(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||is(h)?n(h):(e.consume(h),c)}function u(h){return h===64?(e.consume(h),d):Qf(h)?(e.consume(h),u):n(h)}function d(h){return Ye(h)?p(h):n(h)}function p(h){return h===46?(e.consume(h),s=0,d):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):m(h)}function m(h){if((h===45||Ye(h))&&s++<63){const f=h===45?m:p;return e.consume(h),f}return n(h)}}const hr={partial:!0,tokenize:ug};function ug(e,t,n){return s;function s(o){return Ne(o)?_e(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||ce(o)?t(o):n(o)}}const Ic={continuation:{tokenize:pg},exit:mg,name:"blockQuote",tokenize:dg};function dg(e,t,n){const s=this;return i;function i(a){if(a===62){const l=s.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Ne(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function pg(e,t,n){const s=this;return i;function i(a){return Ne(a)?_e(e,o,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(Ic,t,n)(a)}}function mg(e){e.exit("blockQuote")}const Rc={name:"characterEscape",tokenize:hg};function hg(e,t,n){return s;function s(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return eg(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Mc={name:"characterReference",tokenize:fg};function fg(e,t,n){const s=this;let i=0,o,a;return l;function l(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,a=Ye,d(p))}function u(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=Jf,d):(e.enter("characterReferenceValue"),o=7,a=vi,d(p))}function d(p){if(p===59&&i){const m=e.exit("characterReferenceValue");return a===Ye&&!Zi(s.sliceSerialize(m))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&i++<o?(e.consume(p),d):n(p)}}const Eo={partial:!0,tokenize:xg},ko={concrete:!0,name:"codeFenced",tokenize:gg};function gg(e,t,n){const s=this,i={partial:!0,tokenize:T};let o=0,a=0,l;return c;function c(_){return u(_)}function u(_){const F=s.events[s.events.length-1];return o=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,l=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===l?(a++,e.consume(_),d):a<3?n(_):(e.exit("codeFencedFenceSequence"),Ne(_)?_e(e,p,"whitespace")(_):p(_))}function p(_){return _===null||ce(_)?(e.exit("codeFencedFence"),s.interrupt?t(_):e.check(Eo,y,j)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||ce(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(_)):Ne(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_e(e,h,"whitespace")(_)):_===96&&_===l?n(_):(e.consume(_),m)}function h(_){return _===null||ce(_)?p(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),f(_))}function f(_){return _===null||ce(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(_)):_===96&&_===l?n(_):(e.consume(_),f)}function y(_){return e.attempt(i,j,b)(_)}function b(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),g}function g(_){return o>0&&Ne(_)?_e(e,x,"linePrefix",o+1)(_):x(_)}function x(_){return _===null||ce(_)?e.check(Eo,y,j)(_):(e.enter("codeFlowValue"),v(_))}function v(_){return _===null||ce(_)?(e.exit("codeFlowValue"),x(_)):(e.consume(_),v)}function j(_){return e.exit("codeFenced"),t(_)}function T(_,F,R){let z=0;return C;function C(O){return _.enter("lineEnding"),_.consume(O),_.exit("lineEnding"),B}function B(O){return _.enter("codeFencedFence"),Ne(O)?_e(_,D,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):D(O)}function D(O){return O===l?(_.enter("codeFencedFenceSequence"),Q(O)):R(O)}function Q(O){return O===l?(z++,_.consume(O),Q):z>=a?(_.exit("codeFencedFenceSequence"),Ne(O)?_e(_,H,"whitespace")(O):H(O)):R(O)}function H(O){return O===null||ce(O)?(_.exit("codeFencedFence"),F(O)):R(O)}}}function xg(e,t,n){const s=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return s.parser.lazy[s.now().line]?n(a):t(a)}}const zs={name:"codeIndented",tokenize:yg},bg={partial:!0,tokenize:wg};function yg(e,t,n){const s=this;return i;function i(u){return e.enter("codeIndented"),_e(e,o,"linePrefix",5)(u)}function o(u){const d=s.events[s.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):ce(u)?e.attempt(bg,a,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||ce(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function wg(e,t,n){const s=this;return i;function i(a){return s.parser.lazy[s.now().line]?n(a):ce(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):_e(e,o,"linePrefix",5)(a)}function o(a){const l=s.events[s.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):ce(a)?i(a):n(a)}}const vg={name:"codeText",previous:Eg,resolve:Ng,tokenize:kg};function Ng(e){let t=e.length-4,n=3,s,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(s=n;++s<t;)if(e[s][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(s=n-1,t++;++s<=t;)i===void 0?s!==t&&e[s][1].type!=="lineEnding"&&(i=s):(s===t||e[s][1].type==="lineEnding")&&(e[i][1].type="codeTextData",s!==i+2&&(e[i][1].end=e[s-1][1].end,e.splice(i+2,s-i-2),t-=s-i-2,s=i+2),i=void 0);return e}function Eg(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kg(e,t,n){let s=0,i,o;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),l(p)}function l(p){return p===96?(e.consume(p),s++,l):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(o=e.enter("codeTextSequence"),i=0,d(p)):ce(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(p))}function u(p){return p===null||p===32||p===96||ce(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),u)}function d(p){return p===96?(e.consume(p),i++,d):i===s?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",u(p))}}class _g{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(t,s):t>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(t,n,s){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return s&&Gn(this.left,s),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Gn(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Gn(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Gn(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Gn(this.left,n.reverse())}}}function Gn(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Oc(e){const t={};let n=-1,s,i,o,a,l,c,u;const d=new _g(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(s=d.get(n),n&&s[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=s[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(s[0]==="enter")s[1].contentType&&(Object.assign(t,Sg(d,n)),n=t[n],u=!0);else if(s[1]._container){for(o=n,i=void 0;o--;)if(a=d.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(s[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(s),d.splice(i,n-i+1,l))}}return pt(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Sg(e,t){const n=e.get(t)[1],s=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,c=[],u={};let d,p,m=-1,h=n,f=0,y=0;const b=[y];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(d=s.sliceStream(h),h.next||d.push(null),p&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=h,h=h.next}for(h=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(y=m+1,b.push(y),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),m=b.length;m--;){const g=l.slice(b[m],b[m+1]),x=o.pop();c.push([x,x+g.length-1]),e.splice(x,2,g)}for(c.reverse(),m=-1;++m<c.length;)u[f+c[m][0]]=f+c[m][1],f+=c[m][1]-c[m][0]-1;return u}const jg={resolve:Tg,tokenize:Ag},Cg={partial:!0,tokenize:Ig};function Tg(e){return Oc(e),e}function Ag(e,t){let n;return s;function s(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):ce(l)?e.check(Cg,a,o)(l):(e.consume(l),i)}function o(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Ig(e,t,n){const s=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),_e(e,o,"linePrefix")}function o(a){if(a===null||ce(a))return n(a);const l=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(s.parser.constructs.flow,n,t)(a)}}function Lc(e,t,n,s,i,o,a,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return p;function p(g){return g===60?(e.enter(s),e.enter(i),e.enter(o),e.consume(g),e.exit(o),m):g===null||g===32||g===41||is(g)?n(g):(e.enter(s),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(g))}function m(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(i),e.exit(s),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(l),m(g)):g===null||g===60||ce(g)?n(g):(e.consume(g),g===92?f:h)}function f(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function y(g){return!d&&(g===null||g===41||Oe(g))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(s),t(g)):d<u&&g===40?(e.consume(g),d++,y):g===41?(e.consume(g),d--,y):g===null||g===32||g===40||is(g)?n(g):(e.consume(g),g===92?b:y)}function b(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function Dc(e,t,n,s,i,o){const a=this;let l=0,c;return u;function u(h){return e.enter(s),e.enter(i),e.consume(h),e.exit(i),e.enter(o),d}function d(h){return l>999||h===null||h===91||h===93&&!c||h===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(s),t):ce(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(h))}function p(h){return h===null||h===91||h===93||ce(h)||l++>999?(e.exit("chunkString"),d(h)):(e.consume(h),c||(c=!Ne(h)),h===92?m:p)}function m(h){return h===91||h===92||h===93?(e.consume(h),l++,p):p(h)}}function Pc(e,t,n,s,i,o){let a;return l;function l(m){return m===34||m===39||m===40?(e.enter(s),e.enter(i),e.consume(m),e.exit(i),a=m===40?41:m,c):n(m)}function c(m){return m===a?(e.enter(i),e.consume(m),e.exit(i),e.exit(s),t):(e.enter(o),u(m))}function u(m){return m===a?(e.exit(o),c(a)):m===null?n(m):ce(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),_e(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===a||m===null||ce(m)?(e.exit("chunkString"),u(m)):(e.consume(m),m===92?p:d)}function p(m){return m===a||m===92?(e.consume(m),d):d(m)}}function Xn(e,t){let n;return s;function s(i){return ce(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,s):Ne(i)?_e(e,s,n?"linePrefix":"lineSuffix")(i):t(i)}}const Rg={name:"definition",tokenize:Og},Mg={partial:!0,tokenize:Lg};function Og(e,t,n){const s=this;let i;return o;function o(h){return e.enter("definition"),a(h)}function a(h){return Dc.call(s,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return i=_t(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),c):n(h)}function c(h){return Oe(h)?Xn(e,u)(h):u(h)}function u(h){return Lc(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function d(h){return e.attempt(Mg,p,p)(h)}function p(h){return Ne(h)?_e(e,m,"whitespace")(h):m(h)}function m(h){return h===null||ce(h)?(e.exit("definition"),s.parser.defined.push(i),t(h)):n(h)}}function Lg(e,t,n){return s;function s(l){return Oe(l)?Xn(e,i)(l):n(l)}function i(l){return Pc(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return Ne(l)?_e(e,a,"whitespace")(l):a(l)}function a(l){return l===null||ce(l)?t(l):n(l)}}const Dg={name:"hardBreakEscape",tokenize:Pg};function Pg(e,t,n){return s;function s(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return ce(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const zg={name:"headingAtx",resolve:Fg,tokenize:Bg};function Fg(e,t){let n=e.length-2,s=3,i,o;return e[s][1].type==="whitespace"&&(s+=2),n-2>s&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&e[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(i={type:"atxHeadingText",start:e[s][1].start,end:e[n][1].end},o={type:"chunkText",start:e[s][1].start,end:e[n][1].end,contentType:"text"},pt(e,s,n-s+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function Bg(e,t,n){let s=0;return i;function i(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&s++<6?(e.consume(d),a):d===null||Oe(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||ce(d)?(e.exit("atxHeading"),t(d)):Ne(d)?_e(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Oe(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const $g=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],_o=["pre","script","style","textarea"],Ug={concrete:!0,name:"htmlFlow",resolveTo:Vg,tokenize:Kg},Hg={partial:!0,tokenize:qg},Gg={partial:!0,tokenize:Wg};function Vg(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Kg(e,t,n){const s=this;let i,o,a,l,c;return u;function u(w){return d(w)}function d(w){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(w),p}function p(w){return w===33?(e.consume(w),m):w===47?(e.consume(w),o=!0,y):w===63?(e.consume(w),i=3,s.interrupt?t:E):nt(w)?(e.consume(w),a=String.fromCharCode(w),b):n(w)}function m(w){return w===45?(e.consume(w),i=2,h):w===91?(e.consume(w),i=5,l=0,f):nt(w)?(e.consume(w),i=4,s.interrupt?t:E):n(w)}function h(w){return w===45?(e.consume(w),s.interrupt?t:E):n(w)}function f(w){const I="CDATA[";return w===I.charCodeAt(l++)?(e.consume(w),l===I.length?s.interrupt?t:D:f):n(w)}function y(w){return nt(w)?(e.consume(w),a=String.fromCharCode(w),b):n(w)}function b(w){if(w===null||w===47||w===62||Oe(w)){const I=w===47,A=a.toLowerCase();return!I&&!o&&_o.includes(A)?(i=1,s.interrupt?t(w):D(w)):$g.includes(a.toLowerCase())?(i=6,I?(e.consume(w),g):s.interrupt?t(w):D(w)):(i=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(w):o?x(w):v(w))}return w===45||Ye(w)?(e.consume(w),a+=String.fromCharCode(w),b):n(w)}function g(w){return w===62?(e.consume(w),s.interrupt?t:D):n(w)}function x(w){return Ne(w)?(e.consume(w),x):C(w)}function v(w){return w===47?(e.consume(w),C):w===58||w===95||nt(w)?(e.consume(w),j):Ne(w)?(e.consume(w),v):C(w)}function j(w){return w===45||w===46||w===58||w===95||Ye(w)?(e.consume(w),j):T(w)}function T(w){return w===61?(e.consume(w),_):Ne(w)?(e.consume(w),T):v(w)}function _(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),c=w,F):Ne(w)?(e.consume(w),_):R(w)}function F(w){return w===c?(e.consume(w),c=null,z):w===null||ce(w)?n(w):(e.consume(w),F)}function R(w){return w===null||w===34||w===39||w===47||w===60||w===61||w===62||w===96||Oe(w)?T(w):(e.consume(w),R)}function z(w){return w===47||w===62||Ne(w)?v(w):n(w)}function C(w){return w===62?(e.consume(w),B):n(w)}function B(w){return w===null||ce(w)?D(w):Ne(w)?(e.consume(w),B):n(w)}function D(w){return w===45&&i===2?(e.consume(w),M):w===60&&i===1?(e.consume(w),V):w===62&&i===4?(e.consume(w),de):w===63&&i===3?(e.consume(w),E):w===93&&i===5?(e.consume(w),se):ce(w)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Hg,$,Q)(w)):w===null||ce(w)?(e.exit("htmlFlowData"),Q(w)):(e.consume(w),D)}function Q(w){return e.check(Gg,H,$)(w)}function H(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),O}function O(w){return w===null||ce(w)?Q(w):(e.enter("htmlFlowData"),D(w))}function M(w){return w===45?(e.consume(w),E):D(w)}function V(w){return w===47?(e.consume(w),a="",P):D(w)}function P(w){if(w===62){const I=a.toLowerCase();return _o.includes(I)?(e.consume(w),de):D(w)}return nt(w)&&a.length<8?(e.consume(w),a+=String.fromCharCode(w),P):D(w)}function se(w){return w===93?(e.consume(w),E):D(w)}function E(w){return w===62?(e.consume(w),de):w===45&&i===2?(e.consume(w),E):D(w)}function de(w){return w===null||ce(w)?(e.exit("htmlFlowData"),$(w)):(e.consume(w),de)}function $(w){return e.exit("htmlFlow"),t(w)}}function Wg(e,t,n){const s=this;return i;function i(a){return ce(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return s.parser.lazy[s.now().line]?n(a):t(a)}}function qg(e,t,n){return s;function s(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(hr,t,n)}}const Yg={name:"htmlText",tokenize:Xg};function Xg(e,t,n){const s=this;let i,o,a;return l;function l(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),c}function c(E){return E===33?(e.consume(E),u):E===47?(e.consume(E),T):E===63?(e.consume(E),v):nt(E)?(e.consume(E),R):n(E)}function u(E){return E===45?(e.consume(E),d):E===91?(e.consume(E),o=0,f):nt(E)?(e.consume(E),x):n(E)}function d(E){return E===45?(e.consume(E),h):n(E)}function p(E){return E===null?n(E):E===45?(e.consume(E),m):ce(E)?(a=p,V(E)):(e.consume(E),p)}function m(E){return E===45?(e.consume(E),h):p(E)}function h(E){return E===62?M(E):E===45?m(E):p(E)}function f(E){const de="CDATA[";return E===de.charCodeAt(o++)?(e.consume(E),o===de.length?y:f):n(E)}function y(E){return E===null?n(E):E===93?(e.consume(E),b):ce(E)?(a=y,V(E)):(e.consume(E),y)}function b(E){return E===93?(e.consume(E),g):y(E)}function g(E){return E===62?M(E):E===93?(e.consume(E),g):y(E)}function x(E){return E===null||E===62?M(E):ce(E)?(a=x,V(E)):(e.consume(E),x)}function v(E){return E===null?n(E):E===63?(e.consume(E),j):ce(E)?(a=v,V(E)):(e.consume(E),v)}function j(E){return E===62?M(E):v(E)}function T(E){return nt(E)?(e.consume(E),_):n(E)}function _(E){return E===45||Ye(E)?(e.consume(E),_):F(E)}function F(E){return ce(E)?(a=F,V(E)):Ne(E)?(e.consume(E),F):M(E)}function R(E){return E===45||Ye(E)?(e.consume(E),R):E===47||E===62||Oe(E)?z(E):n(E)}function z(E){return E===47?(e.consume(E),M):E===58||E===95||nt(E)?(e.consume(E),C):ce(E)?(a=z,V(E)):Ne(E)?(e.consume(E),z):M(E)}function C(E){return E===45||E===46||E===58||E===95||Ye(E)?(e.consume(E),C):B(E)}function B(E){return E===61?(e.consume(E),D):ce(E)?(a=B,V(E)):Ne(E)?(e.consume(E),B):z(E)}function D(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),i=E,Q):ce(E)?(a=D,V(E)):Ne(E)?(e.consume(E),D):(e.consume(E),H)}function Q(E){return E===i?(e.consume(E),i=void 0,O):E===null?n(E):ce(E)?(a=Q,V(E)):(e.consume(E),Q)}function H(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Oe(E)?z(E):(e.consume(E),H)}function O(E){return E===47||E===62||Oe(E)?z(E):n(E)}function M(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function V(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),P}function P(E){return Ne(E)?_e(e,se,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):se(E)}function se(E){return e.enter("htmlTextData"),a(E)}}const Qi={name:"labelEnd",resolveAll:ex,resolveTo:tx,tokenize:nx},Zg={tokenize:rx},Qg={tokenize:sx},Jg={tokenize:ix};function ex(e){let t=-1;const n=[];for(;++t<e.length;){const s=e[t][1];if(n.push(e[t]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const i=s.type==="labelImage"?4:2;s.type="data",t+=i}}return e.length!==n.length&&pt(e,0,e.length,n),e}function tx(e,t){let n=e.length,s=0,i,o,a,l;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){s=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[o+s+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=bt(l,e.slice(o+1,o+s+3)),l=bt(l,[["enter",d,t]]),l=bt(l,xs(t.parser.constructs.insideSpan.null,e.slice(o+s+4,a-3),t)),l=bt(l,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),l=bt(l,e.slice(a+1)),l=bt(l,[["exit",c,t]]),pt(e,o,e.length,l),e}function nx(e,t,n){const s=this;let i=s.events.length,o,a;for(;i--;)if((s.events[i][1].type==="labelImage"||s.events[i][1].type==="labelLink")&&!s.events[i][1]._balanced){o=s.events[i][1];break}return l;function l(m){return o?o._inactive?p(m):(a=s.parser.defined.includes(_t(s.sliceSerialize({start:o.end,end:s.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),c):n(m)}function c(m){return m===40?e.attempt(Zg,d,a?d:p)(m):m===91?e.attempt(Qg,d,a?u:p)(m):a?d(m):p(m)}function u(m){return e.attempt(Jg,d,p)(m)}function d(m){return t(m)}function p(m){return o._balanced=!0,n(m)}}function rx(e,t,n){return s;function s(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return Oe(p)?Xn(e,o)(p):o(p)}function o(p){return p===41?d(p):Lc(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return Oe(p)?Xn(e,c)(p):d(p)}function l(p){return n(p)}function c(p){return p===34||p===39||p===40?Pc(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function u(p){return Oe(p)?Xn(e,d)(p):d(p)}function d(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function sx(e,t,n){const s=this;return i;function i(l){return Dc.call(s,e,o,a,"reference","referenceMarker","referenceString")(l)}function o(l){return s.parser.defined.includes(_t(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}function ix(e,t,n){return s;function s(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const ax={name:"labelStartImage",resolveAll:Qi.resolveAll,tokenize:ox};function ox(e,t,n){const s=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),o}function o(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(l):t(l)}}const lx={name:"labelStartLink",resolveAll:Qi.resolveAll,tokenize:cx};function cx(e,t,n){const s=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(a):t(a)}}const Fs={name:"lineEnding",tokenize:ux};function ux(e,t){return n;function n(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),_e(e,t,"linePrefix")}}const Gr={name:"thematicBreak",tokenize:dx};function dx(e,t,n){let s=0,i;return o;function o(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):s>=3&&(u===null||ce(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),s++,c):(e.exit("thematicBreakSequence"),Ne(u)?_e(e,l,"whitespace")(u):l(u))}}const rt={continuation:{tokenize:fx},exit:xx,name:"list",tokenize:hx},px={partial:!0,tokenize:bx},mx={partial:!0,tokenize:gx};function hx(e,t,n){const s=this,i=s.events[s.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(h){const f=s.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(f==="listUnordered"?!s.containerState.marker||h===s.containerState.marker:vi(h)){if(s.containerState.type||(s.containerState.type=f,e.enter(f,{_container:!0})),f==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Gr,n,u)(h):u(h);if(!s.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(h)}return n(h)}function c(h){return vi(h)&&++a<10?(e.consume(h),c):(!s.interrupt||a<2)&&(s.containerState.marker?h===s.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||h,e.check(hr,s.interrupt?n:d,e.attempt(px,m,p))}function d(h){return s.containerState.initialBlankLine=!0,o++,m(h)}function p(h){return Ne(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),m):n(h)}function m(h){return s.containerState.size=o+s.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function fx(e,t,n){const s=this;return s.containerState._closeFlow=void 0,e.check(hr,i,o);function i(l){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,_e(e,t,"listItemIndent",s.containerState.size+1)(l)}function o(l){return s.containerState.furtherBlankLines||!Ne(l)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,a(l)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,e.attempt(mx,t,a)(l))}function a(l){return s.containerState._closeFlow=!0,s.interrupt=void 0,_e(e,e.attempt(rt,t,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function gx(e,t,n){const s=this;return _e(e,i,"listItemIndent",s.containerState.size+1);function i(o){const a=s.events[s.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===s.containerState.size?t(o):n(o)}}function xx(e){e.exit(this.containerState.type)}function bx(e,t,n){const s=this;return _e(e,i,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=s.events[s.events.length-1];return!Ne(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const So={name:"setextUnderline",resolveTo:yx,tokenize:wx};function yx(e,t){let n=e.length,s,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){s=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[s][1],t]),e[s][1].end={...e[o][1].end}):e[s][1]=a,e.push(["exit",a,t]),e}function wx(e,t,n){const s=this;let i;return o;function o(u){let d=s.events.length,p;for(;d--;)if(s.events[d][1].type!=="lineEnding"&&s.events[d][1].type!=="linePrefix"&&s.events[d][1].type!=="content"){p=s.events[d][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||p)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),Ne(u)?_e(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||ce(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const vx={tokenize:Nx};function Nx(e){const t=this,n=e.attempt(hr,s,e.attempt(this.parser.constructs.flowInitial,i,_e(e,e.attempt(this.parser.constructs.flow,i,e.attempt(jg,i)),"linePrefix")));return n;function s(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Ex={resolveAll:Fc()},kx=zc("string"),_x=zc("text");function zc(e){return{resolveAll:Fc(e==="text"?Sx:void 0),tokenize:t};function t(n){const s=this,i=this.parser.constructs[e],o=n.attempt(i,a,l);return a;function a(d){return u(d)?o(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const p=i[d];let m=-1;if(p)for(;++m<p.length;){const h=p[m];if(!h.previous||h.previous.call(s,s.previous))return!0}return!1}}}function Fc(e){return t;function t(n,s){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,s):n}}function Sx(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const s=e[n-1][1],i=t.sliceStream(s);let o=i.length,a=-1,l=0,c;for(;o--;){const u=i[o];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(u===-2)c=!0,l++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:s.start._bufferIndex+a,_index:s.start._index+o,line:s.end.line,column:s.end.column-l,offset:s.end.offset-l},end:{...s.end}};s.end={...u.start},s.start.offset===s.end.offset?Object.assign(s,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const jx={42:rt,43:rt,45:rt,48:rt,49:rt,50:rt,51:rt,52:rt,53:rt,54:rt,55:rt,56:rt,57:rt,62:Ic},Cx={91:Rg},Tx={[-2]:zs,[-1]:zs,32:zs},Ax={35:zg,42:Gr,45:[So,Gr],60:Ug,61:So,95:Gr,96:ko,126:ko},Ix={38:Mc,92:Rc},Rx={[-5]:Fs,[-4]:Fs,[-3]:Fs,33:ax,38:Mc,42:Ni,60:[lg,Yg],91:lx,92:[Dg,Rc],93:Qi,95:Ni,96:vg},Mx={null:[Ni,Ex]},Ox={null:[42,95]},Lx={null:[]},Dx=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ox,contentInitial:Cx,disable:Lx,document:jx,flow:Ax,flowInitial:Tx,insideSpan:Mx,string:Ix,text:Rx},Symbol.toStringTag,{value:"Module"}));function Px(e,t,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],l=[];const c={attempt:F(T),check:F(_),consume:x,enter:v,exit:j,interrupt:F(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:f,parser:e,previous:null,sliceSerialize:m,sliceStream:h,write:p};let d=t.tokenize.call(u,c);return t.resolveAll&&o.push(t),u;function p(B){return a=bt(a,B),b(),a[a.length-1]!==null?[]:(R(t,0),u.events=xs(o,u.events,u),u.events)}function m(B,D){return Fx(h(B),D)}function h(B){return zx(a,B)}function f(){const{_bufferIndex:B,_index:D,line:Q,column:H,offset:O}=s;return{_bufferIndex:B,_index:D,line:Q,column:H,offset:O}}function y(B){i[B.line]=B.column,C()}function b(){let B;for(;s._index<a.length;){const D=a[s._index];if(typeof D=="string")for(B=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===B&&s._bufferIndex<D.length;)g(D.charCodeAt(s._bufferIndex));else g(D)}}function g(B){d=d(B)}function x(B){ce(B)?(s.line++,s.column=1,s.offset+=B===-3?2:1,C()):B!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===a[s._index].length&&(s._bufferIndex=-1,s._index++)),u.previous=B}function v(B,D){const Q=D||{};return Q.type=B,Q.start=f(),u.events.push(["enter",Q,u]),l.push(Q),Q}function j(B){const D=l.pop();return D.end=f(),u.events.push(["exit",D,u]),D}function T(B,D){R(B,D.from)}function _(B,D){D.restore()}function F(B,D){return Q;function Q(H,O,M){let V,P,se,E;return Array.isArray(H)?$(H):"tokenize"in H?$([H]):de(H);function de(ee){return Y;function Y(ae){const G=ae!==null&&ee[ae],he=ae!==null&&ee.null,Re=[...Array.isArray(G)?G:G?[G]:[],...Array.isArray(he)?he:he?[he]:[]];return $(Re)(ae)}}function $(ee){return V=ee,P=0,ee.length===0?M:w(ee[P])}function w(ee){return Y;function Y(ae){return E=z(),se=ee,ee.partial||(u.currentConstruct=ee),ee.name&&u.parser.constructs.disable.null.includes(ee.name)?A():ee.tokenize.call(D?Object.assign(Object.create(u),D):u,c,I,A)(ae)}}function I(ee){return B(se,E),O}function A(ee){return E.restore(),++P<V.length?w(V[P]):M}}}function R(B,D){B.resolveAll&&!o.includes(B)&&o.push(B),B.resolve&&pt(u.events,D,u.events.length-D,B.resolve(u.events.slice(D),u)),B.resolveTo&&(u.events=B.resolveTo(u.events,u))}function z(){const B=f(),D=u.previous,Q=u.currentConstruct,H=u.events.length,O=Array.from(l);return{from:H,restore:M};function M(){s=B,u.previous=D,u.currentConstruct=Q,u.events.length=H,l=O,C()}}function C(){s.line in i&&s.column<2&&(s.column=i[s.line],s.offset+=i[s.line]-1)}}function zx(e,t){const n=t.start._index,s=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(s,o)];else{if(a=e.slice(n,i),s>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(s):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function Fx(e,t){let n=-1;const s=[];let i;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,s.push(a)}return s.join("")}function Bx(e){const s={constructs:Tc([Dx,...(e||{}).extensions||[]]),content:i(tg),defined:[],document:i(rg),flow:i(vx),lazy:{},string:i(kx),text:i(_x)};return s;function i(o){return a;function a(l){return Px(s,o,l)}}}function $x(e){for(;!Oc(e););return e}const jo=/[\0\t\n\r]/g;function Ux(){let e=1,t="",n=!0,s;return i;function i(o,a,l){const c=[];let u,d,p,m,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(jo.lastIndex=p,u=jo.exec(o),m=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(m),!u){t=o.slice(p);break}if(h===10&&p===m&&s)c.push(-3),s=void 0;else switch(s&&(c.push(-5),s=void 0),p<m&&(c.push(o.slice(p,m)),e+=m-p),h){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:s=!0,e=1}p=m+1}return l&&(s&&c.push(-5),t&&c.push(t),c.push(null)),c}}const Hx=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Gx(e){return e.replace(Hx,Vx)}function Vx(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Ac(n.slice(o?2:1),o?16:10)}return Zi(n)||e}const Bc={}.hasOwnProperty;function Kx(e,t,n){return t&&typeof t=="object"&&(n=t,t=void 0),Wx(n)($x(Bx(n).document().write(Ux()(e,t,!0))))}function Wx(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(zt),autolinkProtocol:z,autolinkEmail:z,atxHeading:o(We),blockQuote:o(he),characterEscape:z,characterReference:z,codeFenced:o(Re),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(Re,a),codeText:o(be,a),codeTextData:z,data:z,codeFlowValue:z,definition:o(it),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(St),hardBreakEscape:o(Se),hardBreakTrailing:o(Se),htmlFlow:o(ht,a),htmlFlowData:z,htmlText:o(ht,a),htmlTextData:z,image:o(at),label:a,link:o(zt),listItem:o(gn),listItemValue:m,listOrdered:o(Ft,p),listUnordered:o(Ft),paragraph:o(xn),reference:w,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(We),strong:o(bn),thematicBreak:o(yn)},exit:{atxHeading:c(),atxHeadingSequence:T,autolink:c(),autolinkEmail:G,autolinkProtocol:ae,blockQuote:c(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:A,characterReferenceMarkerNumeric:A,characterReferenceValue:ee,characterReference:Y,codeFenced:c(b),codeFencedFence:y,codeFencedFenceInfo:h,codeFencedFenceMeta:f,codeFlowValue:C,codeIndented:c(g),codeText:c(O),codeTextData:C,data:C,definition:c(),definitionDestinationString:j,definitionLabelString:x,definitionTitleString:v,emphasis:c(),hardBreakEscape:c(D),hardBreakTrailing:c(D),htmlFlow:c(Q),htmlFlowData:C,htmlText:c(H),htmlTextData:C,image:c(V),label:se,labelText:P,lineEnding:B,link:c(M),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:I,resourceDestinationString:E,resourceTitleString:de,resource:$,setextHeading:c(R),setextHeadingLineSequence:F,setextHeadingText:_,strong:c(),thematicBreak:c()}};$c(t,(e||{}).mdastExtensions||[]);const n={};return s;function s(L){let W={type:"root",children:[]};const ue={stack:[W],tokenStack:[],config:t,enter:l,exit:u,buffer:a,resume:d,data:n},xe=[];let je=-1;for(;++je<L.length;)if(L[je][1].type==="listOrdered"||L[je][1].type==="listUnordered")if(L[je][0]==="enter")xe.push(je);else{const Je=xe.pop();je=i(L,Je,je)}for(je=-1;++je<L.length;){const Je=t[L[je][0]];Bc.call(Je,L[je][1].type)&&Je[L[je][1].type].call(Object.assign({sliceSerialize:L[je][2].sliceSerialize},ue),L[je][1])}if(ue.tokenStack.length>0){const Je=ue.tokenStack[ue.tokenStack.length-1];(Je[1]||Co).call(ue,void 0,Je[0])}for(W.position={start:Yt(L.length>0?L[0][1].start:{line:1,column:1,offset:0}),end:Yt(L.length>0?L[L.length-2][1].end:{line:1,column:1,offset:0})},je=-1;++je<t.transforms.length;)W=t.transforms[je](W)||W;return W}function i(L,W,ue){let xe=W-1,je=-1,Je=!1,ft,ot,jt,Ct;for(;++xe<=ue;){const Ve=L[xe];switch(Ve[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ve[0]==="enter"?je++:je--,Ct=void 0;break}case"lineEndingBlank":{Ve[0]==="enter"&&(ft&&!Ct&&!je&&!jt&&(jt=xe),Ct=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ct=void 0}if(!je&&Ve[0]==="enter"&&Ve[1].type==="listItemPrefix"||je===-1&&Ve[0]==="exit"&&(Ve[1].type==="listUnordered"||Ve[1].type==="listOrdered")){if(ft){let Tt=xe;for(ot=void 0;Tt--;){const et=L[Tt];if(et[1].type==="lineEnding"||et[1].type==="lineEndingBlank"){if(et[0]==="exit")continue;ot&&(L[ot][1].type="lineEndingBlank",Je=!0),et[1].type="lineEnding",ot=Tt}else if(!(et[1].type==="linePrefix"||et[1].type==="blockQuotePrefix"||et[1].type==="blockQuotePrefixWhitespace"||et[1].type==="blockQuoteMarker"||et[1].type==="listItemIndent"))break}jt&&(!ot||jt<ot)&&(ft._spread=!0),ft.end=Object.assign({},ot?L[ot][1].start:Ve[1].end),L.splice(ot||xe,0,["exit",ft,Ve[2]]),xe++,ue++}if(Ve[1].type==="listItemPrefix"){const Tt={type:"listItem",_spread:!1,start:Object.assign({},Ve[1].start),end:void 0};ft=Tt,L.splice(xe,0,["enter",Tt,Ve[2]]),xe++,ue++,jt=void 0,Ct=!0}}}return L[W][1]._spread=Je,ue}function o(L,W){return ue;function ue(xe){l.call(this,L(xe),xe),W&&W.call(this,xe)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(L,W,ue){this.stack[this.stack.length-1].children.push(L),this.stack.push(L),this.tokenStack.push([W,ue||void 0]),L.position={start:Yt(W.start),end:void 0}}function c(L){return W;function W(ue){L&&L.call(this,ue),u.call(this,ue)}}function u(L,W){const ue=this.stack.pop(),xe=this.tokenStack.pop();if(xe)xe[0].type!==L.type&&(W?W.call(this,L,xe[0]):(xe[1]||Co).call(this,L,xe[0]));else throw new Error("Cannot close `"+L.type+"` ("+Yn({start:L.start,end:L.end})+"): it’s not open");ue.position.end=Yt(L.end)}function d(){return Xi(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function m(L){if(this.data.expectingFirstListItemValue){const W=this.stack[this.stack.length-2];W.start=Number.parseInt(this.sliceSerialize(L),10),this.data.expectingFirstListItemValue=void 0}}function h(){const L=this.resume(),W=this.stack[this.stack.length-1];W.lang=L}function f(){const L=this.resume(),W=this.stack[this.stack.length-1];W.meta=L}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const L=this.resume(),W=this.stack[this.stack.length-1];W.value=L.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const L=this.resume(),W=this.stack[this.stack.length-1];W.value=L.replace(/(\r?\n|\r)$/g,"")}function x(L){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.label=W,ue.identifier=_t(this.sliceSerialize(L)).toLowerCase()}function v(){const L=this.resume(),W=this.stack[this.stack.length-1];W.title=L}function j(){const L=this.resume(),W=this.stack[this.stack.length-1];W.url=L}function T(L){const W=this.stack[this.stack.length-1];if(!W.depth){const ue=this.sliceSerialize(L).length;W.depth=ue}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function F(L){const W=this.stack[this.stack.length-1];W.depth=this.sliceSerialize(L).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function z(L){const ue=this.stack[this.stack.length-1].children;let xe=ue[ue.length-1];(!xe||xe.type!=="text")&&(xe=Qe(),xe.position={start:Yt(L.start),end:void 0},ue.push(xe)),this.stack.push(xe)}function C(L){const W=this.stack.pop();W.value+=this.sliceSerialize(L),W.position.end=Yt(L.end)}function B(L){const W=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ue=W.children[W.children.length-1];ue.position.end=Yt(L.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(W.type)&&(z.call(this,L),C.call(this,L))}function D(){this.data.atHardBreak=!0}function Q(){const L=this.resume(),W=this.stack[this.stack.length-1];W.value=L}function H(){const L=this.resume(),W=this.stack[this.stack.length-1];W.value=L}function O(){const L=this.resume(),W=this.stack[this.stack.length-1];W.value=L}function M(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=W,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function V(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=W,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function P(L){const W=this.sliceSerialize(L),ue=this.stack[this.stack.length-2];ue.label=Gx(W),ue.identifier=_t(W).toLowerCase()}function se(){const L=this.stack[this.stack.length-1],W=this.resume(),ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,ue.type==="link"){const xe=L.children;ue.children=xe}else ue.alt=W}function E(){const L=this.resume(),W=this.stack[this.stack.length-1];W.url=L}function de(){const L=this.resume(),W=this.stack[this.stack.length-1];W.title=L}function $(){this.data.inReference=void 0}function w(){this.data.referenceType="collapsed"}function I(L){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.label=W,ue.identifier=_t(this.sliceSerialize(L)).toLowerCase(),this.data.referenceType="full"}function A(L){this.data.characterReferenceType=L.type}function ee(L){const W=this.sliceSerialize(L),ue=this.data.characterReferenceType;let xe;ue?(xe=Ac(W,ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xe=Zi(W);const je=this.stack[this.stack.length-1];je.value+=xe}function Y(L){const W=this.stack.pop();W.position.end=Yt(L.end)}function ae(L){C.call(this,L);const W=this.stack[this.stack.length-1];W.url=this.sliceSerialize(L)}function G(L){C.call(this,L);const W=this.stack[this.stack.length-1];W.url="mailto:"+this.sliceSerialize(L)}function he(){return{type:"blockquote",children:[]}}function Re(){return{type:"code",lang:null,meta:null,value:""}}function be(){return{type:"inlineCode",value:""}}function it(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function St(){return{type:"emphasis",children:[]}}function We(){return{type:"heading",depth:0,children:[]}}function Se(){return{type:"break"}}function ht(){return{type:"html",value:""}}function at(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function Ft(L){return{type:"list",ordered:L.type==="listOrdered",start:null,spread:L._spread,children:[]}}function gn(L){return{type:"listItem",spread:L._spread,checked:null,children:[]}}function xn(){return{type:"paragraph",children:[]}}function bn(){return{type:"strong",children:[]}}function Qe(){return{type:"text",value:""}}function yn(){return{type:"thematicBreak"}}}function Yt(e){return{line:e.line,column:e.column,offset:e.offset}}function $c(e,t){let n=-1;for(;++n<t.length;){const s=t[n];Array.isArray(s)?$c(e,s):qx(e,s)}}function qx(e,t){let n;for(n in t)if(Bc.call(t,n))switch(n){case"canContainEols":{const s=t[n];s&&e[n].push(...s);break}case"transforms":{const s=t[n];s&&e[n].push(...s);break}case"enter":case"exit":{const s=t[n];s&&Object.assign(e[n],s);break}}}function Co(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Yn({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Yn({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Yn({start:t.start,end:t.end})+") is still open")}function Yx(e){const t=this;t.parser=n;function n(s){return Kx(s,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Xx(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Zx(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Qx(e,t){const n=t.value?t.value+`
`:"",s={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(s.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function Jx(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eb(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tb(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=String(t.identifier).toUpperCase(),i=Fn(s.toLowerCase()),o=e.footnoteOrder.indexOf(s);let a,l=e.footnoteCounts.get(s);l===void 0?(l=0,e.footnoteOrder.push(s),a=e.footnoteOrder.length):a=o+1,l+=1,e.footnoteCounts.set(s,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function nb(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rb(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Uc(e,t){const n=t.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+s}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=s:i.push({type:"text",value:s}),i}function sb(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return Uc(e,t);const i={src:Fn(s.url||""),alt:t.alt};s.title!==null&&s.title!==void 0&&(i.title=s.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function ib(e,t){const n={src:Fn(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const s={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,s),e.applyData(t,s)}function ab(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,s),e.applyData(t,s)}function ob(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return Uc(e,t);const i={href:Fn(s.url||"")};s.title!==null&&s.title!==void 0&&(i.title=s.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function lb(e,t){const n={href:Fn(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const s={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function cb(e,t,n){const s=e.all(t),i=n?ub(n):Hc(t),o={},a=[];if(typeof t.checked=="boolean"){const d=s[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},s.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<s.length;){const d=s[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const c=s[s.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,u),e.applyData(t,u)}function ub(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let s=-1;for(;!t&&++s<n.length;)t=Hc(n[s])}return t}function Hc(e){const t=e.spread;return t??e.children.length>1}function db(e,t){const n={},s=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<s.length;){const a=s[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function pb(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mb(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function hb(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fb(e,t){const n=e.all(t),s=n.shift(),i=[];if(s){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([s],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Ki(t.children[1]),c=Nc(t.children[t.children.length-1]);l&&c&&(a.position={start:l,end:c}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function gb(e,t,n){const s=n?n.children:void 0,o=(s?s.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const p=t.children[c],m={},h=a?a[c]:void 0;h&&(m.align=h);let f={type:"element",tagName:o,properties:m,children:[]};p&&(f.children=e.all(p),e.patch(p,f),f=e.applyData(p,f)),u.push(f)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function xb(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const To=9,Ao=32;function bb(e){const t=String(e),n=/\r?\n|\r/g;let s=n.exec(t),i=0;const o=[];for(;s;)o.push(Io(t.slice(i,s.index),i>0,!0),s[0]),i=s.index+s[0].length,s=n.exec(t);return o.push(Io(t.slice(i),i>0,!1)),o.join("")}function Io(e,t,n){let s=0,i=e.length;if(t){let o=e.codePointAt(s);for(;o===To||o===Ao;)s++,o=e.codePointAt(s)}if(n){let o=e.codePointAt(i-1);for(;o===To||o===Ao;)i--,o=e.codePointAt(i-1)}return i>s?e.slice(s,i):""}function yb(e,t){const n={type:"text",value:bb(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function wb(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const vb={blockquote:Xx,break:Zx,code:Qx,delete:Jx,emphasis:eb,footnoteReference:tb,heading:nb,html:rb,imageReference:sb,image:ib,inlineCode:ab,linkReference:ob,link:lb,listItem:cb,list:db,paragraph:pb,root:mb,strong:hb,table:fb,tableCell:xb,tableRow:gb,text:yb,thematicBreak:wb,toml:Rr,yaml:Rr,definition:Rr,footnoteDefinition:Rr};function Rr(){}const Gc=-1,bs=0,Zn=1,as=2,Ji=3,ea=4,ta=5,na=6,Vc=7,Kc=8,Ro=typeof self=="object"?self:globalThis,Nb=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),s=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case bs:case Gc:return n(a,i);case Zn:{const l=n([],i);for(const c of a)l.push(s(c));return l}case as:{const l=n({},i);for(const[c,u]of a)l[s(c)]=s(u);return l}case Ji:return n(new Date(a),i);case ea:{const{source:l,flags:c}=a;return n(new RegExp(l,c),i)}case ta:{const l=n(new Map,i);for(const[c,u]of a)l.set(s(c),s(u));return l}case na:{const l=n(new Set,i);for(const c of a)l.add(s(c));return l}case Vc:{const{name:l,message:c}=a;return n(new Ro[l](c),i)}case Kc:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new Ro[o](a),i)};return s},Mo=e=>Nb(new Map,e)(0),En="",{toString:Eb}={},{keys:kb}=Object,Vn=e=>{const t=typeof e;if(t!=="object"||!e)return[bs,t];const n=Eb.call(e).slice(8,-1);switch(n){case"Array":return[Zn,En];case"Object":return[as,En];case"Date":return[Ji,En];case"RegExp":return[ea,En];case"Map":return[ta,En];case"Set":return[na,En];case"DataView":return[Zn,n]}return n.includes("Array")?[Zn,n]:n.includes("Error")?[Vc,n]:[as,n]},Mr=([e,t])=>e===bs&&(t==="function"||t==="symbol"),_b=(e,t,n,s)=>{const i=(a,l)=>{const c=s.push(a)-1;return n.set(l,c),c},o=a=>{if(n.has(a))return n.get(a);let[l,c]=Vn(a);switch(l){case bs:{let d=a;switch(c){case"bigint":l=Kc,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([Gc],a)}return i([l,d],a)}case Zn:{if(c){let m=a;return c==="DataView"?m=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(m=new Uint8Array(a)),i([c,[...m]],a)}const d=[],p=i([l,d],a);for(const m of a)d.push(o(m));return p}case as:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const d=[],p=i([l,d],a);for(const m of kb(a))(e||!Mr(Vn(a[m])))&&d.push([o(m),o(a[m])]);return p}case Ji:return i([l,a.toISOString()],a);case ea:{const{source:d,flags:p}=a;return i([l,{source:d,flags:p}],a)}case ta:{const d=[],p=i([l,d],a);for(const[m,h]of a)(e||!(Mr(Vn(m))||Mr(Vn(h))))&&d.push([o(m),o(h)]);return p}case na:{const d=[],p=i([l,d],a);for(const m of a)(e||!Mr(Vn(m)))&&d.push(o(m));return p}}const{message:u}=a;return i([l,{name:c,message:u}],a)};return o},Oo=(e,{json:t,lossy:n}={})=>{const s=[];return _b(!(t||n),!!t,new Map,s)(e),s},os=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Mo(Oo(e,t)):structuredClone(e):(e,t)=>Mo(Oo(e,t));function Sb(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function jb(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Cb(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Sb,s=e.options.footnoteBackLabel||jb,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),p=String(u.identifier).toUpperCase(),m=Fn(p.toLowerCase());let h=0;const f=[],y=e.footnoteCounts.get(p);for(;y!==void 0&&++h<=y;){f.length>0&&f.push({type:"text",value:" "});let x=typeof n=="string"?n:n(c,h);typeof x=="string"&&(x={type:"text",value:x}),f.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(c,h),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const x=b.children[b.children.length-1];x&&x.type==="text"?x.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...f)}else d.push(...f);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(u,g),l.push(g)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...os(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const fr=(function(e){if(e==null)return Rb;if(typeof e=="function")return ys(e);if(typeof e=="object")return Array.isArray(e)?Tb(e):Ab(e);if(typeof e=="string")return Ib(e);throw new Error("Expected function, string, or object as test")});function Tb(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fr(e[n]);return ys(s);function s(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function Ab(e){const t=e;return ys(n);function n(s){const i=s;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function Ib(e){return ys(t);function t(n){return n&&n.type===e}}function ys(e){return t;function t(n,s,i){return!!(Mb(n)&&e.call(this,n,typeof s=="number"?s:void 0,i||void 0))}}function Rb(){return!0}function Mb(e){return e!==null&&typeof e=="object"&&"type"in e}const Wc=[],Ob=!0,Ei=!1,Lb="skip";function qc(e,t,n,s){let i;typeof t=="function"&&typeof n!="function"?(s=n,n=t):i=t;const o=fr(i),a=s?-1:1;l(e,void 0,[])();function l(c,u,d){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const h=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(h?"<"+h+">":""))+")"})}return m;function m(){let h=Wc,f,y,b;if((!t||o(c,u,d[d.length-1]||void 0))&&(h=Db(n(c,d)),h[0]===Ei))return h;if("children"in c&&c.children){const g=c;if(g.children&&h[0]!==Lb)for(y=(s?g.children.length:-1)+a,b=d.concat(g);y>-1&&y<g.children.length;){const x=g.children[y];if(f=l(x,y,b)(),f[0]===Ei)return f;y=typeof f[1]=="number"?f[1]:y+a}}return h}}}function Db(e){return Array.isArray(e)?e:typeof e=="number"?[Ob,e]:e==null?Wc:[e]}function ws(e,t,n,s){let i,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,i=n):(o=t,a=n,i=s),qc(e,o,l,i);function l(c,u){const d=u[u.length-1],p=d?d.children.indexOf(c):void 0;return a(c,p,d)}}const ki={}.hasOwnProperty,Pb={};function zb(e,t){const n=t||Pb,s=new Map,i=new Map,o=new Map,a={...vb,...n.handlers},l={all:u,applyData:Bb,definitionById:s,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:c,options:n,patch:Fb,wrap:Ub};return ws(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?s:i,m=String(d.identifier).toUpperCase();p.has(m)||p.set(m,d)}}),l;function c(d,p){const m=d.type,h=l.handlers[m];if(ki.call(l.handlers,m)&&h)return h(l,d,p);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in d){const{children:y,...b}=d,g=os(b);return g.children=l.all(d),g}return os(d)}return(l.options.unknownHandler||$b)(l,d,p)}function u(d){const p=[];if("children"in d){const m=d.children;let h=-1;for(;++h<m.length;){const f=l.one(m[h],d);if(f){if(h&&m[h-1].type==="break"&&(!Array.isArray(f)&&f.type==="text"&&(f.value=Lo(f.value)),!Array.isArray(f)&&f.type==="element")){const y=f.children[0];y&&y.type==="text"&&(y.value=Lo(y.value))}Array.isArray(f)?p.push(...f):p.push(f)}}}return p}}function Fb(e,t){e.position&&(t.position=jf(e))}function Bb(e,t){let n=t;if(e&&e.data){const s=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const a="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,os(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function $b(e,t){const n=t.data||{},s="value"in t&&!(ki.call(n,"hProperties")||ki.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Ub(e,t){const n=[];let s=-1;for(t&&n.push({type:"text",value:`
`});++s<e.length;)s&&n.push({type:"text",value:`
`}),n.push(e[s]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Lo(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Do(e,t){const n=zb(e,t),s=n.one(e,void 0),i=Cb(n),o=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Hb(e,t){return e&&"run"in e?async function(n,s){const i=Do(n,{file:s,...t});await e.run(i,s)}:function(n,s){return Do(n,{file:s,...e||t})}}function Po(e){if(e)throw e}var Bs,zo;function Gb(){if(zo)return Bs;zo=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},o=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var d=e.call(u,"constructor"),p=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!p)return!1;var m;for(m in u);return typeof m>"u"||e.call(u,m)},a=function(u,d){n&&d.name==="__proto__"?n(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},l=function(u,d){if(d==="__proto__")if(e.call(u,d)){if(s)return s(u,d).value}else return;return u[d]};return Bs=function c(){var u,d,p,m,h,f,y=arguments[0],b=1,g=arguments.length,x=!1;for(typeof y=="boolean"&&(x=y,y=arguments[1]||{},b=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});b<g;++b)if(u=arguments[b],u!=null)for(d in u)p=l(y,d),m=l(u,d),y!==m&&(x&&m&&(o(m)||(h=i(m)))?(h?(h=!1,f=p&&i(p)?p:[]):f=p&&o(p)?p:{},a(y,{name:d,newValue:c(x,f,m)})):typeof m<"u"&&a(y,{name:d,newValue:m}));return y},Bs}var Vb=Gb();const $s=Ti(Vb);function _i(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Kb(){const e=[],t={run:n,use:s};return t;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(c,...u){const d=e[++o];let p=-1;if(c){a(c);return}for(;++p<i.length;)(u[p]===null||u[p]===void 0)&&(u[p]=i[p]);i=u,d?Wb(d,l)(...u):a(null,...u)}}function s(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Wb(e,t){let n;return s;function s(...a){const l=e.length>a.length;let c;l&&a.push(i);try{c=e.apply(this,a)}catch(u){const d=u;if(l&&n)throw d;return i(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(a,...l){n||(n=!0,t(a,...l))}function o(a){i(null,a)}}const Ot={basename:qb,dirname:Yb,extname:Xb,join:Zb,sep:"/"};function qb(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');gr(e);let n=0,s=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1);return s<0?"":e.slice(n,s)}if(t===e)return"";let a=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(s=i):(l=-1,s=a));return n===s?s=a:s<0&&(s=e.length),e.slice(n,s)}function Yb(e){if(gr(e),e.length===0)return".";let t=-1,n=e.length,s;for(;--n;)if(e.codePointAt(n)===47){if(s){t=n;break}}else s||(s=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Xb(e){gr(e);let t=e.length,n=-1,s=0,i=-1,o=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){s=t+1;break}continue}n<0&&(a=!0,n=t+1),l===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===s+1?"":e.slice(i,n)}function Zb(...e){let t=-1,n;for(;++t<e.length;)gr(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Qb(n)}function Qb(e){gr(e);const t=e.codePointAt(0)===47;let n=Jb(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Jb(e,t){let n="",s=0,i=-1,o=0,a=-1,l,c;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",s=0):(n=n.slice(0,c),s=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",s=0,i=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),s=a-i-1;i=a,o=0}else l===46&&o>-1?o++:o=-1}return n}function gr(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const e0={cwd:t0};function t0(){return"/"}function Si(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function n0(e){if(typeof e=="string")e=new URL(e);else if(!Si(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return r0(e)}function r0(e){if(e.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const s=t.codePointAt(n+2);if(s===70||s===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Us=["history","path","basename","stem","extname","dirname"];class Yc{constructor(t){let n;t?Si(t)?n={path:t}:typeof t=="string"||s0(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":e0.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<Us.length;){const o=Us[s];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Us.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ot.basename(this.path):void 0}set basename(t){Gs(t,"basename"),Hs(t,"basename"),this.path=Ot.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ot.dirname(this.path):void 0}set dirname(t){Fo(this.basename,"dirname"),this.path=Ot.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ot.extname(this.path):void 0}set extname(t){if(Hs(t,"extname"),Fo(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ot.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Si(t)&&(t=n0(t)),Gs(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ot.basename(this.path,this.extname):void 0}set stem(t){Gs(t,"stem"),Hs(t,"stem"),this.path=Ot.join(this.dirname||"",t+(this.extname||""))}fail(t,n,s){const i=this.message(t,n,s);throw i.fatal=!0,i}info(t,n,s){const i=this.message(t,n,s);return i.fatal=void 0,i}message(t,n,s){const i=new Ze(t,n,s);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Hs(e,t){if(e&&e.includes(Ot.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ot.sep+"`")}function Gs(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Fo(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function s0(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const i0=(function(e){const s=this.constructor.prototype,i=s[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,s),o}),a0={}.hasOwnProperty;class ra extends i0{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Kb()}copy(){const t=new ra;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];t.use(...s)}return t.data($s(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ws("data",this.frozen),this.namespace[t]=n,this):a0.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ws("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const i=n.call(t,...s);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Or(t),s=this.parser||this.Parser;return Vs("parse",s),s(String(n),n)}process(t,n){const s=this;return this.freeze(),Vs("process",this.parser||this.Parser),Ks("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const l=Or(t),c=s.parse(l);s.run(c,l,function(d,p,m){if(d||!p||!m)return u(d);const h=p,f=s.stringify(h,m);c0(f)?m.value=f:m.result=f,u(d,m)});function u(d,p){d||!p?a(d):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,s;return this.freeze(),Vs("processSync",this.parser||this.Parser),Ks("processSync",this.compiler||this.Compiler),this.process(t,i),$o("processSync","process",n),s;function i(o,a){n=!0,Po(o),s=a}}run(t,n,s){Bo(t),this.freeze();const i=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?o(void 0,s):new Promise(o);function o(a,l){const c=Or(n);i.run(t,c,u);function u(d,p,m){const h=p||t;d?l(d):a?a(h):s(void 0,h,m)}}}runSync(t,n){let s=!1,i;return this.run(t,n,o),$o("runSync","run",s),i;function o(a,l){Po(a),i=l,s=!0}}stringify(t,n){this.freeze();const s=Or(n),i=this.compiler||this.Compiler;return Ks("stringify",i),Bo(t),i(t,s)}use(t,...n){const s=this.attachers,i=this.namespace;if(Ws("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...p]=u;c(d,p)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=$s(!0,i.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const p=u[d];o(p)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let p=-1,m=-1;for(;++p<s.length;)if(s[p][0]===u){m=p;break}if(m===-1)s.push([u,...d]);else if(d.length>0){let[h,...f]=d;const y=s[m][1];_i(y)&&_i(h)&&(h=$s(!0,y,h)),s[m]=[u,h,...f]}}}}const o0=new ra().freeze();function Vs(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ks(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ws(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Bo(e){if(!_i(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $o(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Or(e){return l0(e)?e:new Yc(e)}function l0(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function c0(e){return typeof e=="string"||u0(e)}function u0(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const d0="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Uo=[],Ho={allowDangerousHtml:!0},p0=/^(https?|ircs?|mailto|xmpp)$/i,m0=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function h0(e){const t=f0(e),n=g0(e);return x0(t.runSync(t.parse(n),n),e)}function f0(e){const t=e.rehypePlugins||Uo,n=e.remarkPlugins||Uo,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Ho}:Ho;return o0().use(Yx).use(n).use(Hb,s).use(t)}function g0(e){const t=e.children||"",n=new Yc;return typeof t=="string"&&(n.value=t),n}function x0(e,t){const n=t.allowedElements,s=t.allowElement,i=t.components,o=t.disallowedElements,a=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||b0;for(const d of m0)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+d0+d.id,void 0);return ws(e,u),Rf(e,{Fragment:r.Fragment,components:i,ignoreInvalidStyle:!0,jsx:r.jsx,jsxs:r.jsxs,passKeys:!0,passNode:!0});function u(d,p,m){if(d.type==="raw"&&m&&typeof p=="number")return a?m.children.splice(p,1):m.children[p]={type:"text",value:d.value},p;if(d.type==="element"){let h;for(h in Ps)if(Object.hasOwn(Ps,h)&&Object.hasOwn(d.properties,h)){const f=d.properties[h],y=Ps[h];(y===null||y.includes(d.tagName))&&(d.properties[h]=c(String(f||""),h,d))}}if(d.type==="element"){let h=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!h&&s&&typeof p=="number"&&(h=!s(d,p,m)),h&&m&&typeof p=="number")return l&&d.children?m.children.splice(p,1,...d.children):m.children.splice(p,1),p}}}function b0(e){const t=e.indexOf(":"),n=e.indexOf("?"),s=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||s!==-1&&t>s||p0.test(e.slice(0,t))?e:""}function Go(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let s=0,i=n.indexOf(t);for(;i!==-1;)s++,i=n.indexOf(t,i+t.length);return s}function y0(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function w0(e,t,n){const i=fr((n||{}).ignore||[]),o=v0(t);let a=-1;for(;++a<o.length;)qc(e,"text",l);function l(u,d){let p=-1,m;for(;++p<d.length;){const h=d[p],f=m?m.children:void 0;if(i(h,f?f.indexOf(h):void 0,m))return;m=h}if(m)return c(u,d)}function c(u,d){const p=d[d.length-1],m=o[a][0],h=o[a][1];let f=0;const b=p.children.indexOf(u);let g=!1,x=[];m.lastIndex=0;let v=m.exec(u.value);for(;v;){const j=v.index,T={index:v.index,input:v.input,stack:[...d,u]};let _=h(...v,T);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?m.lastIndex=j+1:(f!==j&&x.push({type:"text",value:u.value.slice(f,j)}),Array.isArray(_)?x.push(..._):_&&x.push(_),f=j+v[0].length,g=!0),!m.global)break;v=m.exec(u.value)}return g?(f<u.value.length&&x.push({type:"text",value:u.value.slice(f)}),p.children.splice(b,1,...x)):x=[u],b+x.length}}function v0(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let s=-1;for(;++s<n.length;){const i=n[s];t.push([N0(i[0]),E0(i[1])])}return t}function N0(e){return typeof e=="string"?new RegExp(y0(e),"g"):e}function E0(e){return typeof e=="function"?e:function(){return e}}const qs="phrasing",Ys=["autolink","link","image","label"];function k0(){return{transforms:[I0],enter:{literalAutolink:S0,literalAutolinkEmail:Xs,literalAutolinkHttp:Xs,literalAutolinkWww:Xs},exit:{literalAutolink:A0,literalAutolinkEmail:T0,literalAutolinkHttp:j0,literalAutolinkWww:C0}}}function _0(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:qs,notInConstruct:Ys},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:qs,notInConstruct:Ys},{character:":",before:"[ps]",after:"\\/",inConstruct:qs,notInConstruct:Ys}]}}function S0(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Xs(e){this.config.enter.autolinkProtocol.call(this,e)}function j0(e){this.config.exit.autolinkProtocol.call(this,e)}function C0(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function T0(e){this.config.exit.autolinkEmail.call(this,e)}function A0(e){this.exit(e)}function I0(e){w0(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,R0],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),M0]],{ignore:["link","linkReference"]})}function R0(e,t,n,s,i){let o="";if(!Xc(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!O0(n)))return!1;const a=L0(n+s);if(!a[0])return!1;const l={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function M0(e,t,n,s){return!Xc(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function O0(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function L0(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],s=n.indexOf(")");const i=Go(e,"(");let o=Go(e,")");for(;s!==-1&&i>o;)e+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),o++;return[e,n]}function Xc(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||mn(n)||gs(n))&&(!t||n!==47)}Zc.peek=G0;function D0(){this.buffer()}function P0(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function z0(){this.buffer()}function F0(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function B0(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=_t(this.sliceSerialize(e)).toLowerCase(),n.label=t}function $0(e){this.exit(e)}function U0(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=_t(this.sliceSerialize(e)).toLowerCase(),n.label=t}function H0(e){this.exit(e)}function G0(){return"["}function Zc(e,t,n,s){const i=n.createTracker(s);let o=i.move("[^");const a=n.enter("footnoteReference"),l=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),l(),a(),o+=i.move("]"),o}function V0(){return{enter:{gfmFootnoteCallString:D0,gfmFootnoteCall:P0,gfmFootnoteDefinitionLabelString:z0,gfmFootnoteDefinition:F0},exit:{gfmFootnoteCallString:B0,gfmFootnoteCall:$0,gfmFootnoteDefinitionLabelString:U0,gfmFootnoteDefinition:H0}}}function K0(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Zc},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,i,o,a){const l=o.createTracker(a);let c=l.move("[^");const u=o.enter("footnoteDefinition"),d=o.enter("label");return c+=l.move(o.safe(o.associationId(s),{before:c,after:"]"})),d(),c+=l.move("]:"),s.children&&s.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+o.indentLines(o.containerFlow(s,l.current()),t?Qc:W0))),u(),c}}function W0(e,t,n){return t===0?e:Qc(e,t,n)}function Qc(e,t,n){return(n?"":"    ")+e}const q0=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Jc.peek=J0;function Y0(){return{canContainEols:["delete"],enter:{strikethrough:Z0},exit:{strikethrough:Q0}}}function X0(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:q0}],handlers:{delete:Jc}}}function Z0(e){this.enter({type:"delete",children:[]},e)}function Q0(e){this.exit(e)}function Jc(e,t,n,s){const i=n.createTracker(s),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function J0(){return"~"}function ey(e){return e.length}function ty(e,t){const n=t||{},s=(n.align||[]).concat(),i=n.stringLength||ey,o=[],a=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const y=[],b=[];let g=-1;for(e[d].length>u&&(u=e[d].length);++g<e[d].length;){const x=ny(e[d][g]);if(n.alignDelimiters!==!1){const v=i(x);b[g]=v,(c[g]===void 0||v>c[g])&&(c[g]=v)}y.push(x)}a[d]=y,l[d]=b}let p=-1;if(typeof s=="object"&&"length"in s)for(;++p<u;)o[p]=Vo(s[p]);else{const y=Vo(s);for(;++p<u;)o[p]=y}p=-1;const m=[],h=[];for(;++p<u;){const y=o[p];let b="",g="";y===99?(b=":",g=":"):y===108?b=":":y===114&&(g=":");let x=n.alignDelimiters===!1?1:Math.max(1,c[p]-b.length-g.length);const v=b+"-".repeat(x)+g;n.alignDelimiters!==!1&&(x=b.length+x+g.length,x>c[p]&&(c[p]=x),h[p]=x),m[p]=v}a.splice(1,0,m),l.splice(1,0,h),d=-1;const f=[];for(;++d<a.length;){const y=a[d],b=l[d];p=-1;const g=[];for(;++p<u;){const x=y[p]||"";let v="",j="";if(n.alignDelimiters!==!1){const T=c[p]-(b[p]||0),_=o[p];_===114?v=" ".repeat(T):_===99?T%2?(v=" ".repeat(T/2+.5),j=" ".repeat(T/2-.5)):(v=" ".repeat(T/2),j=v):j=" ".repeat(T)}n.delimiterStart!==!1&&!p&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||p)&&g.push(" "),n.alignDelimiters!==!1&&g.push(v),g.push(x),n.alignDelimiters!==!1&&g.push(j),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||p!==u-1)&&g.push("|")}f.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return f.join(`
`)}function ny(e){return e==null?"":String(e)}function Vo(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function ry(e,t,n,s){const i=n.enter("blockquote"),o=n.createTracker(s);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),sy);return i(),a}function sy(e,t,n){return">"+(n?"":" ")+e}function iy(e,t){return Ko(e,t.inConstruct,!0)&&!Ko(e,t.notInConstruct,!1)}function Ko(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let s=-1;for(;++s<t.length;)if(e.includes(t[s]))return!0;return!1}function Wo(e,t,n,s){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&iy(n.stack,n.unsafe[i]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function ay(e,t){const n=String(e);let s=n.indexOf(t),i=s,o=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===i?++o>a&&(a=o):o=1,i=s+t.length,s=n.indexOf(t,i);return a}function oy(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function ly(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function cy(e,t,n,s){const i=ly(n),o=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(oy(e,n)){const p=n.enter("codeIndented"),m=n.indentLines(o,uy);return p(),m}const l=n.createTracker(s),c=i.repeat(Math.max(ay(o,i)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(e.lang){const p=n.enter(`codeFencedLang${a}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${a}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),p()}return d+=l.move(`
`),o&&(d+=l.move(o+`
`)),d+=l.move(c),u(),d}function uy(e,t,n){return(n?"":"    ")+e}function sa(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function dy(e,t,n,s){const i=sa(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const c=n.createTracker(s);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${o}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),a(),u}function py(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function or(e){return"&#x"+e.toString(16).toUpperCase()+";"}function ls(e,t,n){const s=Mn(e),i=Mn(t);return s===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}eu.peek=my;function eu(e,t,n,s){const i=py(n),o=n.enter("emphasis"),a=n.createTracker(s),l=a.move(i);let c=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=c.charCodeAt(0),d=ls(s.before.charCodeAt(s.before.length-1),u,i);d.inside&&(c=or(u)+c.slice(1));const p=c.charCodeAt(c.length-1),m=ls(s.after.charCodeAt(0),p,i);m.inside&&(c=c.slice(0,-1)+or(p));const h=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+c+h}function my(e,t,n){return n.options.emphasis||"*"}function hy(e,t){let n=!1;return ws(e,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,Ei}),!!((!e.depth||e.depth<3)&&Xi(e)&&(t.options.setext||n))}function fy(e,t,n,s){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(s);if(hy(e,n)){const d=n.enter("headingSetext"),p=n.enter("phrasing"),m=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return p(),d(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=n.enter("headingAtx"),c=n.enter("phrasing");o.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=or(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),c(),l(),u}tu.peek=gy;function tu(e){return e.value||""}function gy(){return"<"}nu.peek=xy;function nu(e,t,n,s){const i=sa(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const c=n.createTracker(s);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${o}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),u+=c.move(")"),a(),u}function xy(){return"!"}ru.peek=by;function ru(e,t,n,s){const i=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(s);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return a(),n.stack=d,o(),i==="full"||!u||u!==p?c+=l.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function by(){return"!"}su.peek=yy;function su(e,t,n){let s=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(s);)i+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++o<n.unsafe.length;){const a=n.unsafe[o],l=n.compilePattern(a);let c;if(a.atBreak)for(;c=l.exec(s);){let u=c.index;s.charCodeAt(u)===10&&s.charCodeAt(u-1)===13&&u--,s=s.slice(0,u)+" "+s.slice(c.index+1)}}return i+s+i}function yy(){return"`"}function iu(e,t){const n=Xi(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}au.peek=wy;function au(e,t,n,s){const i=sa(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(s);let l,c;if(iu(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let p=a.move("<");return p+=a.move(n.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),l(),n.stack=d,p}l=n.enter("link"),c=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),c()),u+=a.move(")"),l(),u}function wy(e,t,n){return iu(e,n)?"<":"["}ou.peek=vy;function ou(e,t,n,s){const i=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(s);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return a(),n.stack=d,o(),i==="full"||!u||u!==p?c+=l.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function vy(){return"["}function ia(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Ny(e){const t=ia(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Ey(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function lu(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ky(e,t,n,s){const i=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?Ey(n):ia(n);const l=e.ordered?a==="."?")":".":Ny(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),lu(n)===a&&d){let p=-1;for(;++p<e.children.length;){const m=e.children[p];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=l),n.bulletCurrent=a;const u=n.containerFlow(e,s);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),u}function _y(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Sy(e,t,n,s){const i=_y(n);let o=n.bulletCurrent||ia(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const l=n.createTracker(s);l.move(o+" ".repeat(a-o.length)),l.shift(a);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return c(),u;function d(p,m,h){return m?(h?"":" ".repeat(a))+p:(h?o:o+" ".repeat(a-o.length))+p}}function jy(e,t,n,s){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,s);return o(),i(),a}const Cy=fr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Ty(e,t,n,s){return(e.children.some(function(a){return Cy(a)})?n.containerPhrasing:n.containerFlow).call(n,e,s)}function Ay(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}cu.peek=Iy;function cu(e,t,n,s){const i=Ay(n),o=n.enter("strong"),a=n.createTracker(s),l=a.move(i+i);let c=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=c.charCodeAt(0),d=ls(s.before.charCodeAt(s.before.length-1),u,i);d.inside&&(c=or(u)+c.slice(1));const p=c.charCodeAt(c.length-1),m=ls(s.after.charCodeAt(0),p,i);m.inside&&(c=c.slice(0,-1)+or(p));const h=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+c+h}function Iy(e,t,n){return n.options.strong||"*"}function Ry(e,t,n,s){return n.safe(e.value,s)}function My(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Oy(e,t,n){const s=(lu(n)+(n.options.ruleSpaces?" ":"")).repeat(My(n));return n.options.ruleSpaces?s.slice(0,-1):s}const uu={blockquote:ry,break:Wo,code:cy,definition:dy,emphasis:eu,hardBreak:Wo,heading:fy,html:tu,image:nu,imageReference:ru,inlineCode:su,link:au,linkReference:ou,list:ky,listItem:Sy,paragraph:jy,root:Ty,strong:cu,text:Ry,thematicBreak:Oy};function Ly(){return{enter:{table:Dy,tableData:qo,tableHeader:qo,tableRow:zy},exit:{codeText:Fy,table:Py,tableData:Zs,tableHeader:Zs,tableRow:Zs}}}function Dy(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Py(e){this.exit(e),this.data.inTable=void 0}function zy(e){this.enter({type:"tableRow",children:[]},e)}function Zs(e){this.exit(e)}function qo(e){this.enter({type:"tableCell",children:[]},e)}function Fy(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,By));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function By(e,t){return t==="|"?t:e}function $y(e){const t=e||{},n=t.tableCellPadding,s=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:a,tableCell:c,tableRow:l}};function a(h,f,y,b){return u(d(h,y,b),h.align)}function l(h,f,y,b){const g=p(h,y,b),x=u([g]);return x.slice(0,x.indexOf(`
`))}function c(h,f,y,b){const g=y.enter("tableCell"),x=y.enter("phrasing"),v=y.containerPhrasing(h,{...b,before:o,after:o});return x(),g(),v}function u(h,f){return ty(h,{align:f,alignDelimiters:s,padding:n,stringLength:i})}function d(h,f,y){const b=h.children;let g=-1;const x=[],v=f.enter("table");for(;++g<b.length;)x[g]=p(b[g],f,y);return v(),x}function p(h,f,y){const b=h.children;let g=-1;const x=[],v=f.enter("tableRow");for(;++g<b.length;)x[g]=c(b[g],h,f,y);return v(),x}function m(h,f,y){let b=uu.inlineCode(h,f,y);return y.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Uy(){return{exit:{taskListCheckValueChecked:Yo,taskListCheckValueUnchecked:Yo,paragraph:Gy}}}function Hy(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Vy}}}function Yo(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Gy(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const s=n.children[0];if(s&&s.type==="text"){const i=t.children;let o=-1,a;for(;++o<i.length;){const l=i[o];if(l.type==="paragraph"){a=l;break}}a===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(e)}function Vy(e,t,n,s){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",l=n.createTracker(s);o&&l.move(a);let c=uu.listItem(e,t,n,{...s,...l.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+a}}function Ky(){return[k0(),V0(),Y0(),Ly(),Uy()]}function Wy(e){return{extensions:[_0(),K0(e),X0(),$y(e),Hy()]}}const qy={tokenize:ew,partial:!0},du={tokenize:tw,partial:!0},pu={tokenize:nw,partial:!0},mu={tokenize:rw,partial:!0},Yy={tokenize:sw,partial:!0},hu={name:"wwwAutolink",tokenize:Qy,previous:gu},fu={name:"protocolAutolink",tokenize:Jy,previous:xu},Ht={name:"emailAutolink",tokenize:Zy,previous:bu},Pt={};function Xy(){return{text:Pt}}let sn=48;for(;sn<123;)Pt[sn]=Ht,sn++,sn===58?sn=65:sn===91&&(sn=97);Pt[43]=Ht;Pt[45]=Ht;Pt[46]=Ht;Pt[95]=Ht;Pt[72]=[Ht,fu];Pt[104]=[Ht,fu];Pt[87]=[Ht,hu];Pt[119]=[Ht,hu];function Zy(e,t,n){const s=this;let i,o;return a;function a(p){return!ji(p)||!bu.call(s,s.previous)||aa(s.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(p))}function l(p){return ji(p)?(e.consume(p),l):p===64?(e.consume(p),c):n(p)}function c(p){return p===46?e.check(Yy,d,u)(p):p===45||p===95||Ye(p)?(o=!0,e.consume(p),c):d(p)}function u(p){return e.consume(p),i=!0,c}function d(p){return o&&i&&nt(s.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function Qy(e,t,n){const s=this;return i;function i(a){return a!==87&&a!==119||!gu.call(s,s.previous)||aa(s.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(qy,e.attempt(du,e.attempt(pu,o),n),n)(a))}function o(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function Jy(e,t,n){const s=this;let i="",o=!1;return a;function a(p){return(p===72||p===104)&&xu.call(s,s.previous)&&!aa(s.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),l):n(p)}function l(p){if(nt(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),l;if(p===58){const m=i.toLowerCase();if(m==="http"||m==="https")return e.consume(p),c}return n(p)}function c(p){return p===47?(e.consume(p),o?u:(o=!0,c)):n(p)}function u(p){return p===null||is(p)||Oe(p)||mn(p)||gs(p)?n(p):e.attempt(du,e.attempt(pu,d),n)(p)}function d(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function ew(e,t,n){let s=0;return i;function i(a){return(a===87||a===119)&&s<3?(s++,e.consume(a),i):a===46&&s===3?(e.consume(a),o):n(a)}function o(a){return a===null?n(a):t(a)}}function tw(e,t,n){let s,i,o;return a;function a(u){return u===46||u===95?e.check(mu,c,l)(u):u===null||Oe(u)||mn(u)||u!==45&&gs(u)?c(u):(o=!0,e.consume(u),a)}function l(u){return u===95?s=!0:(i=s,s=void 0),e.consume(u),a}function c(u){return i||s||!o?n(u):t(u)}}function nw(e,t){let n=0,s=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&s<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(mu,t,o)(a):a===null||Oe(a)||mn(a)?t(a):(e.consume(a),i)}function o(a){return a===41&&s++,e.consume(a),i}}function rw(e,t,n){return s;function s(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),s):l===38?(e.consume(l),o):l===93?(e.consume(l),i):l===60||l===null||Oe(l)||mn(l)?t(l):n(l)}function i(l){return l===null||l===40||l===91||Oe(l)||mn(l)?t(l):s(l)}function o(l){return nt(l)?a(l):n(l)}function a(l){return l===59?(e.consume(l),s):nt(l)?(e.consume(l),a):n(l)}}function sw(e,t,n){return s;function s(o){return e.consume(o),i}function i(o){return Ye(o)?n(o):t(o)}}function gu(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Oe(e)}function xu(e){return!nt(e)}function bu(e){return!(e===47||ji(e))}function ji(e){return e===43||e===45||e===46||e===95||Ye(e)}function aa(e){let t=e.length,n=!1;for(;t--;){const s=e[t][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const iw={tokenize:mw,partial:!0};function aw(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:uw,continuation:{tokenize:dw},exit:pw}},text:{91:{name:"gfmFootnoteCall",tokenize:cw},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:ow,resolveTo:lw}}}}function ow(e,t,n){const s=this;let i=s.events.length;const o=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let a;for(;i--;){const c=s.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!a||!a._balanced)return n(c);const u=_t(s.sliceSerialize({start:a.end,end:s.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function lw(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},l=[e[n+1],e[n+2],["enter",s,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",s,t]];return e.splice(n,e.length-n+1,...l),e}function cw(e,t,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o=0,a;return l;function l(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(p){if(o>999||p===93&&!a||p===null||p===91||Oe(p))return n(p);if(p===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return i.includes(_t(s.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return Oe(p)||(a=!0),o++,e.consume(p),p===92?d:u}function d(p){return p===91||p===92||p===93?(e.consume(p),o++,u):u(p)}}function uw(e,t,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o,a=0,l;return c;function c(f){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(f),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(f){return f===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(f),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(f)}function d(f){if(a>999||f===93&&!l||f===null||f===91||Oe(f))return n(f);if(f===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return o=_t(s.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(f),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return Oe(f)||(l=!0),a++,e.consume(f),f===92?p:d}function p(f){return f===91||f===92||f===93?(e.consume(f),a++,d):d(f)}function m(f){return f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),i.includes(o)||i.push(o),_e(e,h,"gfmFootnoteDefinitionWhitespace")):n(f)}function h(f){return t(f)}}function dw(e,t,n){return e.check(hr,t,e.attempt(iw,t,n))}function pw(e){e.exit("gfmFootnoteDefinition")}function mw(e,t,n){const s=this;return _e(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=s.events[s.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(o):n(o)}}function hw(e){let n=(e||{}).singleTilde;const s={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function i(a,l){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let u=c;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[c][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[c][1].end)},p={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[c][1].start)},m=[["enter",d,l],["enter",a[u][1],l],["exit",a[u][1],l],["enter",p,l]],h=l.parser.constructs.insideSpan.null;h&&pt(m,m.length,0,xs(h,a.slice(u+1,c),l)),pt(m,m.length,0,[["exit",p,l],["enter",a[c][1],l],["exit",a[c][1],l],["exit",d,l]]),pt(a,u-1,c-u+3,m),c=u+m.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function o(a,l,c){const u=this.previous,d=this.events;let p=0;return m;function m(f){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(f):(a.enter("strikethroughSequenceTemporary"),h(f))}function h(f){const y=Mn(u);if(f===126)return p>1?c(f):(a.consume(f),p++,h);if(p<2&&!n)return c(f);const b=a.exit("strikethroughSequenceTemporary"),g=Mn(f);return b._open=!g||g===2&&!!y,b._close=!y||y===2&&!!g,l(f)}}}class fw{constructor(){this.map=[]}add(t,n,s){gw(this,t,n,s)}consume(t){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];s.push(t.slice()),t.length=0;let i=s.pop();for(;i;){for(const o of i)t.push(o);i=s.pop()}this.map.length=0}}function gw(e,t,n,s){let i=0;if(!(n===0&&s.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...s);return}i+=1}e.map.push([t,n,s])}}function xw(e,t){let n=!1;const s=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&s.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=s.length-1;s[o]=s[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return s}function bw(){return{flow:{null:{name:"table",tokenize:yw,resolveAll:ww}}}}function yw(e,t,n){const s=this;let i=0,o=0,a;return l;function l(C){let B=s.events.length-1;for(;B>-1;){const H=s.events[B][1].type;if(H==="lineEnding"||H==="linePrefix")B--;else break}const D=B>-1?s.events[B][1].type:null,Q=D==="tableHead"||D==="tableRow"?_:c;return Q===_&&s.parser.lazy[s.now().line]?n(C):Q(C)}function c(C){return e.enter("tableHead"),e.enter("tableRow"),u(C)}function u(C){return C===124||(a=!0,o+=1),d(C)}function d(C){return C===null?n(C):ce(C)?o>1?(o=0,s.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),h):n(C):Ne(C)?_e(e,d,"whitespace")(C):(o+=1,a&&(a=!1,i+=1),C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),p(C)))}function p(C){return C===null||C===124||Oe(C)?(e.exit("data"),d(C)):(e.consume(C),C===92?m:p)}function m(C){return C===92||C===124?(e.consume(C),p):p(C)}function h(C){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(C):(e.enter("tableDelimiterRow"),a=!1,Ne(C)?_e(e,f,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):f(C))}function f(C){return C===45||C===58?b(C):C===124?(a=!0,e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),y):T(C)}function y(C){return Ne(C)?_e(e,b,"whitespace")(C):b(C)}function b(C){return C===58?(o+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),g):C===45?(o+=1,g(C)):C===null||ce(C)?j(C):T(C)}function g(C){return C===45?(e.enter("tableDelimiterFiller"),x(C)):T(C)}function x(C){return C===45?(e.consume(C),x):C===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(C))}function v(C){return Ne(C)?_e(e,j,"whitespace")(C):j(C)}function j(C){return C===124?f(C):C===null||ce(C)?!a||i!==o?T(C):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(C)):T(C)}function T(C){return n(C)}function _(C){return e.enter("tableRow"),F(C)}function F(C){return C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),F):C===null||ce(C)?(e.exit("tableRow"),t(C)):Ne(C)?_e(e,F,"whitespace")(C):(e.enter("data"),R(C))}function R(C){return C===null||C===124||Oe(C)?(e.exit("data"),F(C)):(e.consume(C),C===92?z:R)}function z(C){return C===92||C===124?(e.consume(C),R):R(C)}}function ww(e,t){let n=-1,s=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],l=!1,c=0,u,d,p;const m=new fw;for(;++n<e.length;){const h=e[n],f=h[1];h[0]==="enter"?f.type==="tableHead"?(l=!1,c!==0&&(Xo(m,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},m.add(n,0,[["enter",u,t]])):f.type==="tableRow"||f.type==="tableDelimiterRow"?(s=!0,p=void 0,o=[0,0,0,0],a=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},m.add(n,0,[["enter",d,t]])),i=f.type==="tableDelimiterRow"?2:d?3:1):i&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")?(s=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],p=Lr(m,t,o,i,void 0,p),o=[0,0,0,0]),a[2]=n)):f.type==="tableCellDivider"&&(s?s=!1:(o[1]!==0&&(a[0]=a[1],p=Lr(m,t,o,i,void 0,p)),o=a,a=[o[1],n,0,0])):f.type==="tableHead"?(l=!0,c=n):f.type==="tableRow"||f.type==="tableDelimiterRow"?(c=n,o[1]!==0?(a[0]=a[1],p=Lr(m,t,o,i,n,p)):a[1]!==0&&(p=Lr(m,t,a,i,n,p)),i=0):i&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&Xo(m,t,c,u,d),m.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=xw(t.events,n))}return e}function Lr(e,t,n,s,i,o){const a=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(o.end=Object.assign({},_n(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const c=_n(t.events,n[1]);if(o={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=_n(t.events,n[2]),d=_n(t.events,n[3]),p={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",p,t]]),s!==2){const m=t.events[n[2]],h=t.events[n[3]];if(m[1].end=Object.assign({},h[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const f=n[2]+1,y=n[3]-n[2]-1;e.add(f,y,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(o.end=Object.assign({},_n(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function Xo(e,t,n,s,i){const o=[],a=_n(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),s.end=Object.assign({},a),o.push(["exit",s,t]),e.add(n+1,0,o)}function _n(e,t){const n=e[t],s=n[0]==="enter"?"start":"end";return n[1][s]}const vw={name:"tasklistCheck",tokenize:Ew};function Nw(){return{text:{91:vw}}}function Ew(e,t,n){const s=this;return i;function i(c){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),o)}function o(c){return Oe(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return ce(c)?t(c):Ne(c)?e.check({tokenize:kw},t,n)(c):n(c)}}function kw(e,t,n){return _e(e,s,"whitespace");function s(i){return i===null?n(i):t(i)}}function _w(e){return Tc([Xy(),aw(),hw(e),bw(),Nw()])}const Sw={};function jw(e){const t=this,n=e||Sw,s=t.data(),i=s.micromarkExtensions||(s.micromarkExtensions=[]),o=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),a=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);i.push(_w(n)),o.push(Ky()),a.push(Wy(n))}const Zo=(function(e,t,n){const s=fr(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(s(e.children[t],t,e))return e.children[t]}),fn=(function(e){if(e==null)return Aw;if(typeof e=="string")return Tw(e);if(typeof e=="object")return Cw(e);if(typeof e=="function")return oa(e);throw new Error("Expected function, string, or array as `test`")});function Cw(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fn(e[n]);return oa(s);function s(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function Tw(e){return oa(t);function t(n){return n.tagName===e}}function oa(e){return t;function t(n,s,i){return!!(Iw(n)&&e.call(this,n,typeof s=="number"?s:void 0,i||void 0))}}function Aw(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function Iw(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const Qo=/\n/g,Jo=/[\t ]+/g,Ci=fn("br"),el=fn(Fw),Rw=fn("p"),tl=fn("tr"),Mw=fn(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",zw,Bw]),yu=fn(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Ow(e,t){const n=t||{},s="children"in e?e.children:[],i=yu(e),o=Nu(e,{whitespace:n.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...vu(e,{breakBefore:!0,breakAfter:!0}));let l=-1;for(;++l<s.length;)a.push(...wu(s[l],e,{whitespace:o,breakBefore:l?void 0:i,breakAfter:l<s.length-1?Ci(s[l+1]):i}));const c=[];let u;for(l=-1;++l<a.length;){const d=a[l];typeof d=="number"?u!==void 0&&d>u&&(u=d):d&&(u!==void 0&&u>-1&&c.push(`
`.repeat(u)||" "),u=-1,c.push(d))}return c.join("")}function wu(e,t,n){return e.type==="element"?Lw(e,t,n):e.type==="text"?n.whitespace==="normal"?vu(e,n):Dw(e):[]}function Lw(e,t,n){const s=Nu(e,n),i=e.children||[];let o=-1,a=[];if(Mw(e))return a;let l,c;for(Ci(e)||tl(e)&&Zo(t,e,tl)?c=`
`:Rw(e)?(l=2,c=2):yu(e)&&(l=1,c=1);++o<i.length;)a=a.concat(wu(i[o],e,{whitespace:s,breakBefore:o?void 0:l,breakAfter:o<i.length-1?Ci(i[o+1]):c}));return el(e)&&Zo(t,e,el)&&a.push("	"),l&&a.unshift(l),c&&a.push(c),a}function vu(e,t){const n=String(e.value),s=[],i=[];let o=0;for(;o<=n.length;){Qo.lastIndex=o;const c=Qo.exec(n),u=c&&"index"in c?c.index:n.length;s.push(Pw(n.slice(o,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),o=u+1}let a=-1,l;for(;++a<s.length;)s[a].charCodeAt(s[a].length-1)===8203||a<s.length-1&&s[a+1].charCodeAt(0)===8203?(i.push(s[a]),l=void 0):s[a]?(typeof l=="number"&&i.push(l),i.push(s[a]),l=0):(a===0||a===s.length-1)&&i.push(0);return i}function Dw(e){return[String(e.value)]}function Pw(e,t,n){const s=[];let i=0,o;for(;i<e.length;){Jo.lastIndex=i;const a=Jo.exec(e);o=a?a.index:e.length,!i&&!o&&a&&!t&&s.push(""),i!==o&&s.push(e.slice(i,o)),i=a?o+a[0].length:o}return i!==o&&!n&&s.push(""),s.join(" ")}function Nu(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function zw(e){return!!(e.properties||{}).hidden}function Fw(e){return e.tagName==="td"||e.tagName==="th"}function Bw(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function $w(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),s="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+s+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},h=t.optional(i)+e.IDENT_RE+"\\s*\\(",f=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],y=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],b=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],g=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],j={type:y,keyword:f,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:b},T={className:"function.dispatch",relevance:0,keywords:{_hint:g},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},_=[T,p,l,n,e.C_BLOCK_COMMENT_MODE,d,u],F={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:j,contains:_.concat([{begin:/\(/,end:/\)/,keywords:j,contains:_.concat(["self"]),relevance:0}]),relevance:0},R={className:"function",begin:"("+a+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:j,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:s,keywords:j,relevance:0},{begin:h,returnBegin:!0,contains:[m],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:j,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(F,R,T,_,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:j,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:j},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Uw(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=$w(e),s=n.keywords;return s.type=[...s.type,...t.type],s.literal=[...s.literal,...t.literal],s.built_in=[...s.built_in,...t.built_in],s._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function Hw(e){const t=e.regex,n={},s={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},s]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},o=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},l={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(l);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},p={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},m=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],h=e.SHEBANG({binary:`(${m.join("|")})`,relevance:10}),f={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},y=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],b=["true","false"],g={match:/(\/[a-z._-]+)+/},x=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],v=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],j=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],T=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:y,literal:b,built_in:[...x,...v,"set","shopt",...j,...T]},contains:[h,e.SHEBANG(),f,p,o,a,g,l,c,u,d,n]}}function Gw(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),s="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+s+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},h=t.optional(i)+e.IDENT_RE+"\\s*\\(",b={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},g=[p,l,n,e.C_BLOCK_COMMENT_MODE,d,u],x={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:b,contains:g.concat([{begin:/\(/,end:/\)/,keywords:b,contains:g.concat(["self"]),relevance:0}]),relevance:0},v={begin:"("+a+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:b,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:s,keywords:b,relevance:0},{begin:h,returnBegin:!0,contains:[e.inherit(m,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C",aliases:["h"],keywords:b,disableAutodetect:!0,illegal:"</",contains:[].concat(x,v,g,[p,{begin:e.IDENT_RE+"::",keywords:b},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:p,strings:u,keywords:b}}}function Vw(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),s="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+s+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},h=t.optional(i)+e.IDENT_RE+"\\s*\\(",f=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],y=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],b=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],g=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],j={type:y,keyword:f,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:b},T={className:"function.dispatch",relevance:0,keywords:{_hint:g},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},_=[T,p,l,n,e.C_BLOCK_COMMENT_MODE,d,u],F={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:j,contains:_.concat([{begin:/\(/,end:/\)/,keywords:j,contains:_.concat(["self"]),relevance:0}]),relevance:0},R={className:"function",begin:"("+a+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:j,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:s,keywords:j,relevance:0},{begin:h,returnBegin:!0,contains:[m],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:j,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(F,R,T,_,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:j,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:j},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Kw(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],s=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],o=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(o),built_in:t,literal:s},l=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},p=e.inherit(d,{illegal:/\n/}),m={className:"subst",begin:/\{/,end:/\}/,keywords:a},h=e.inherit(m,{illegal:/\n/}),f={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,h]},y={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]},b=e.inherit(y,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},h]});m.contains=[y,f,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.C_BLOCK_COMMENT_MODE],h.contains=[b,f,p,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const g={variants:[u,y,f,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},x={begin:"<",end:">",contains:[{beginKeywords:"in out"},l]},v=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",j={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},g,c,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},l,x,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,x,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+v+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,x],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[g,c,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},j]}}const Ww=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),qw=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Yw=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Xw=[...qw,...Yw],Zw=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Qw=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Jw=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),ev=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function tv(e){const t=e.regex,n=Ww(e),s={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",o=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",l=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,s,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Qw.join("|")+")"},{begin:":(:)?("+Jw.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ev.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:o},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Zw.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Xw.join("|")+")\\b"}]}}function nv(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function rv(e){const o={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:o,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:o,illegal:/["']/}]}]}}function sv(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function iv(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},s=e.COMMENT();s.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},o={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},l={begin:/\[/,end:/\]/,contains:[s,o,i,a,n,"self"],relevance:0},c=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,d=/'[^']*'/,p=t.either(c,u,d),m=t.concat(p,"(\\s*\\.\\s*",p,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[s,{className:"section",begin:/\[+/,end:/\]+/},{begin:m,className:"attr",starts:{end:/$/,contains:[s,l,o,i,a,n]}}]}}var Sn="[0-9](_*[0-9])*",Dr=`\\.(${Sn})`,Pr="[0-9a-fA-F](_*[0-9a-fA-F])*",nl={className:"number",variants:[{begin:`(\\b(${Sn})((${Dr})|\\.)?|(${Dr}))[eE][+-]?(${Sn})[fFdD]?\\b`},{begin:`\\b(${Sn})((${Dr})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Dr})[fFdD]?\\b`},{begin:`\\b(${Sn})[fFdD]\\b`},{begin:`\\b0[xX]((${Pr})\\.?|(${Pr})?\\.(${Pr}))[pP][+-]?(${Sn})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Pr})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Eu(e,t,n){return n===-1?"":e.replace(t,s=>Eu(e,t,n-1))}function av(e){const t=e.regex,n="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",s=n+Eu("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),c={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:c,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+s+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:c,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,nl,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},nl,u]}}const rl="[A-Za-z$_][0-9A-Za-z$_]*",ov=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],lv=["true","false","null","undefined","NaN","Infinity"],ku=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],_u=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Su=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],cv=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],uv=[].concat(Su,ku,_u);function dv(e){const t=e.regex,n=(P,{after:se})=>{const E="</"+P[0].slice(1);return P.input.indexOf(E,se)!==-1},s=rl,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(P,se)=>{const E=P[0].length+P.index,de=P.input[E];if(de==="<"||de===","){se.ignoreMatch();return}de===">"&&(n(P,{after:E})||se.ignoreMatch());let $;const w=P.input.substring(E);if($=w.match(/^\s*=/)){se.ignoreMatch();return}if(($=w.match(/^\s+extends\s+/))&&$.index===0){se.ignoreMatch();return}}},l={$pattern:rl,keyword:ov,literal:lv,built_in:uv,"variable.language":cv},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},f={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"css"}},y={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},b={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,m]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:s+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},v=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,f,y,b,{match:/\$\d+/},p];m.contains=v.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(v)});const j=[].concat(x,m.contains),T=j.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(j)}]),_={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:T},F={variants:[{match:[/class/,/\s+/,s,/\s+/,/extends/,/\s+/,t.concat(s,"(",t.concat(/\./,s),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,s],scope:{1:"keyword",3:"title.class"}}]},R={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ku,..._u]}},z={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},C={variants:[{match:[/function/,/\s+/,s,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[_],illegal:/%/},B={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function D(P){return t.concat("(?!",P.join("|"),")")}const Q={match:t.concat(/\b/,D([...Su,"super","import"].map(P=>`${P}\\s*\\(`)),s,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},H={begin:t.concat(/\./,t.lookahead(t.concat(s,/(?![0-9A-Za-z$_(])/))),end:s,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},O={match:[/get|set/,/\s+/,s,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},_]},M="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",V={match:[/const|var|let/,/\s+/,s,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(M)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[_]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:T,CLASS_REFERENCE:R},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),z,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,f,y,b,x,{match:/\$\d+/},p,R,{scope:"attr",match:s+t.lookahead(":"),relevance:0},V,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:M,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:T}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},C,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[_,e.inherit(e.TITLE_MODE,{begin:s,className:"title.function"})]},{match:/\.\.\./,relevance:0},H,{match:"\\$"+s,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[_]},Q,B,F,O,{match:/\$[(.]/}]}}function pv(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},s=["true","false","null"],i={scope:"literal",beginKeywords:s.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:s},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var jn="[0-9](_*[0-9])*",zr=`\\.(${jn})`,Fr="[0-9a-fA-F](_*[0-9a-fA-F])*",mv={className:"number",variants:[{begin:`(\\b(${jn})((${zr})|\\.)?|(${zr}))[eE][+-]?(${jn})[fFdD]?\\b`},{begin:`\\b(${jn})((${zr})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${zr})[fFdD]?\\b`},{begin:`\\b(${jn})[fFdD]\\b`},{begin:`\\b0[xX]((${Fr})\\.?|(${Fr})?\\.(${Fr}))[pP][+-]?(${jn})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Fr})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function hv(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},s={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},o={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[o,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,o,i]}]};i.contains.push(a);const l={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"string"}),"self"]}]},u=mv,d=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),p={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},m=p;return m.variants[1].contains=[p],p.variants[1].contains=[m],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,d,n,s,l,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[p,e.C_LINE_COMMENT_MODE,d],relevance:0},e.C_LINE_COMMENT_MODE,d,l,c,a,e.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},l,c]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const fv=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),gv=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],xv=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],bv=[...gv,...xv],yv=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),ju=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Cu=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),wv=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),vv=ju.concat(Cu).sort().reverse();function Nv(e){const t=fv(e),n=vv,s="and or not only",i="[\\w-]+",o="("+i+"|@\\{"+i+"\\})",a=[],l=[],c=function(v){return{className:"string",begin:"~?"+v+".*?"+v}},u=function(v,j,T){return{className:v,begin:j,relevance:T}},d={$pattern:/[a-z-]+/,keyword:s,attribute:yv.join(" ")},p={begin:"\\(",end:"\\)",contains:l,keywords:d,relevance:0};l.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,c("'"),c('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,p,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const m=l.concat({begin:/\{/,end:/\}/,contains:a}),h={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(l)},f={begin:o+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+wv.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:l}}]},y={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:l,relevance:0}},b={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:m}},g={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:o,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,h,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+bv.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,u("selector-tag",o,0),u("selector-id","#"+o),u("selector-class","\\."+o,0),u("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+ju.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Cu.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:m},{begin:"!important"},t.FUNCTION_DISPATCH]},x={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[g]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,y,b,x,f,g,h,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function Ev(e){const t="\\[=*\\[",n="\\]=*\\]",s={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[s],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[s],relevance:5}])}}function kv(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},s={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},o={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,s,i,o,a]}}function _v(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},s={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},o={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},p=e.inherit(u,{contains:[]}),m=e.inherit(d,{contains:[]});u.contains.push(m),d.contains.push(p);let h=[n,c];return[u,d,p,m].forEach(g=>{g.contains=g.contains.concat(h)}),h=h.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:h},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:h}]}]},n,o,u,d,{className:"quote",begin:"^>\\s+",contains:h,end:"$"},i,s,c,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function Sv(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,l={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},c={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:l,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+c.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:c,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function jv(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],s=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},o={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},l={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},c={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[l]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[e.BACKSLASH_ESCAPE,o,c],p=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],m=(y,b,g="\\1")=>{const x=g==="\\1"?g:t.concat(g,b);return t.concat(t.concat("(?:",y,")"),b,/(?:\\.|[^\\\/])*?/,x,/(?:\\.|[^\\\/])*?/,g,s)},h=(y,b,g)=>t.concat(t.concat("(?:",y,")"),b,/(?:\\.|[^\\\/])*?/,g,s),f=[c,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:m("s|tr|y",t.either(...p,{capture:!0}))},{begin:m("s|tr|y","\\(","\\)")},{begin:m("s|tr|y","\\[","\\]")},{begin:m("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:h("(?:m|qr)?",/\//,/\//)},{begin:h("m|qr",t.either(...p,{capture:!0}),/\1/)},{begin:h("m|qr",/\(/,/\)/)},{begin:h("m|qr",/\[/,/\]/)},{begin:h("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return o.contains=f,a.contains=f,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:f}}function Cv(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,s=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),o=t.concat(/[A-Z]+/,n),a={scope:"variable",match:"\\$+"+s},l={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),d=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(c)}),p={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(c),"on:begin":(H,O)=>{O.data._beginMatch=H[1]||H[2]},"on:end":(H,O)=>{O.data._beginMatch!==H[1]&&O.ignoreMatch()}},m=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),h=`[ 	
]`,f={scope:"string",variants:[d,u,p,m]},y={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},b=["false","null","true"],g=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],x=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],j={keyword:g,literal:(H=>{const O=[];return H.forEach(M=>{O.push(M),M.toLowerCase()===M?O.push(M.toUpperCase()):O.push(M.toLowerCase())}),O})(b),built_in:x},T=H=>H.map(O=>O.replace(/\|\d+$/,"")),_={variants:[{match:[/new/,t.concat(h,"+"),t.concat("(?!",T(x).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},F=t.concat(s,"\\b(?!\\()"),R={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),F],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),F],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},z={scope:"attr",match:t.concat(s,t.lookahead(":"),t.lookahead(/(?!::)/))},C={relevance:0,begin:/\(/,end:/\)/,keywords:j,contains:[z,a,R,e.C_BLOCK_COMMENT_MODE,f,y,_]},B={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",T(g).join("\\b|"),"|",T(x).join("\\b|"),"\\b)"),s,t.concat(h,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[C]};C.contains.push(B);const D=[z,R,e.C_BLOCK_COMMENT_MODE,f,y,_],Q={begin:t.concat(/#\[\s*\\?/,t.either(i,o)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:b,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:b,keyword:["new","array"]},contains:["self",...D]},...D,{scope:"meta",variants:[{match:i},{match:o}]}]};return{case_insensitive:!1,keywords:j,contains:[Q,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},l,{scope:"variable.language",match:/\$this\b/},a,B,R,{match:[/const/,/\s/,s],scope:{1:"keyword",3:"variable.constant"}},_,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:j,contains:["self",Q,a,R,e.C_BLOCK_COMMENT_MODE,f,y]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},f,y]}}function Tv(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function Av(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function Iv(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),s=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:s,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},d={begin:/\{\{/,relevance:0},p={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},m="[0-9](_?[0-9])*",h=`(\\b(${m}))?\\.(${m})|\\b(${m})\\.`,f=`\\b|${s.join("|")}`,y={className:"number",relevance:0,variants:[{begin:`(\\b(${m})|(${h}))[eE][+-]?(${m})[jJ]?(?=${f})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${f})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${f})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${f})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${f})`},{begin:`\\b(${m})[jJ](?=${f})`}]},b={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},g={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",c,y,p,e.HASH_COMMENT_MODE]}]};return u.contains=[p,y,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[c,y,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},p,b,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[g]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[y,g,p]}]}}function Rv(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function Mv(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,s=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,o=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,s]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,s]},{scope:{1:"punctuation",2:"number"},match:[o,s]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,s]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:o},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function Ov(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",s=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(s,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},l={className:"doctag",begin:"@[A-Za-z]+"},c={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[l]}),e.COMMENT("^=begin","^=end",{contains:[l],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:a},p={className:"string",contains:[e.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,d]})]}]},m="[1-9](_?[0-9])*|0",h="[0-9](_?[0-9])*",f={className:"number",relevance:0,variants:[{begin:`\\b(${m})(\\.(${h}))?([eE][+-]?(${h})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},y={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},_=[p,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:s,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[y]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[p,{begin:n}],relevance:0},f,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(c,u),relevance:0}].concat(c,u);d.contains=_,y.contains=_;const C=[{begin:/^\s*=>/,starts:{end:"$",contains:_}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:_}}];return u.unshift(c),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(C).concat(u).concat(_)}}function Lv(e){const t=e.regex,n=/(r#)?/,s=t.concat(n,e.UNDERSCORE_IDENT_RE),i=t.concat(n,e.IDENT_RE),o={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",l=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],c=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:d,keyword:l,literal:c,built_in:u},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,s],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,s],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,s,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,s],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,s],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:d}},{className:"punctuation",begin:"->"},o]}}const Dv=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Pv=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],zv=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Fv=[...Pv,...zv],Bv=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),$v=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Uv=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Hv=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Gv(e){const t=Dv(e),n=Uv,s=$v,i="@[a-z-]+",o="and or not only",l={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Fv.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+s.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},l,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Hv.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,l,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:o,attribute:Bv.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},l,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function Vv(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function Kv(e){const t=e.regex,n=e.COMMENT("--","$"),s={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},o=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],p=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],m=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],h=d,f=[...u,...c].filter(T=>!d.includes(T)),y={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},b={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},g={match:t.concat(/\b/,t.either(...h),/\s*\(/),relevance:0,keywords:{built_in:h}};function x(T){return t.concat(/\b/,t.either(...T.map(_=>_.replace(/\s+/,"\\s+"))),/\b/)}const v={scope:"keyword",match:x(m),relevance:0};function j(T,{exceptions:_,when:F}={}){const R=F;return _=_||[],T.map(z=>z.match(/\|\d+$/)||_.includes(z)?z:R(z)?`${z}|0`:z)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:j(f,{when:T=>T.length<3}),literal:o,type:l,built_in:p},contains:[{scope:"type",match:x(a)},v,g,y,s,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,b]}}function Tu(e){return e?typeof e=="string"?e:e.source:null}function Kn(e){return Me("(?=",e,")")}function Me(...e){return e.map(n=>Tu(n)).join("")}function Wv(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function tt(...e){return"("+(Wv(e).capture?"":"?:")+e.map(s=>Tu(s)).join("|")+")"}const la=e=>Me(/\b/,e,/\w$/.test(e)?/\b/:/\B/),qv=["Protocol","Type"].map(la),sl=["init","self"].map(la),Yv=["Any","Self"],Qs=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],il=["false","nil","true"],Xv=["assignment","associativity","higherThan","left","lowerThan","none","right"],Zv=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],al=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Au=tt(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Iu=tt(Au,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Js=Me(Au,Iu,"*"),Ru=tt(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),cs=tt(Ru,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Mt=Me(Ru,cs,"*"),Br=Me(/[A-Z]/,cs,"*"),Qv=["attached","autoclosure",Me(/convention\(/,tt("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Me(/objc\(/,Mt,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],Jv=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function eN(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),s=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,tt(...qv,...sl)],className:{2:"keyword"}},o={match:Me(/\./,tt(...Qs)),relevance:0},a=Qs.filter(Se=>typeof Se=="string").concat(["_|0"]),l=Qs.filter(Se=>typeof Se!="string").concat(Yv).map(la),c={variants:[{className:"keyword",match:tt(...l,...sl)}]},u={$pattern:tt(/\b\w+/,/#\w+/),keyword:a.concat(Zv),literal:il},d=[i,o,c],p={match:Me(/\./,tt(...al)),relevance:0},m={className:"built_in",match:Me(/\b/,tt(...al),/(?=\()/)},h=[p,m],f={match:/->/,relevance:0},y={className:"operator",relevance:0,variants:[{match:Js},{match:`\\.(\\.|${Iu})+`}]},b=[f,y],g="([0-9]_*)+",x="([0-9a-fA-F]_*)+",v={className:"number",relevance:0,variants:[{match:`\\b(${g})(\\.(${g}))?([eE][+-]?(${g}))?\\b`},{match:`\\b0x(${x})(\\.(${x}))?([pP][+-]?(${g}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},j=(Se="")=>({className:"subst",variants:[{match:Me(/\\/,Se,/[0\\tnr"']/)},{match:Me(/\\/,Se,/u\{[0-9a-fA-F]{1,8}\}/)}]}),T=(Se="")=>({className:"subst",match:Me(/\\/,Se,/[\t ]*(?:[\r\n]|\r\n)/)}),_=(Se="")=>({className:"subst",label:"interpol",begin:Me(/\\/,Se,/\(/),end:/\)/}),F=(Se="")=>({begin:Me(Se,/"""/),end:Me(/"""/,Se),contains:[j(Se),T(Se),_(Se)]}),R=(Se="")=>({begin:Me(Se,/"/),end:Me(/"/,Se),contains:[j(Se),_(Se)]}),z={className:"string",variants:[F(),F("#"),F("##"),F("###"),R(),R("#"),R("##"),R("###")]},C=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],B={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:C},D=Se=>{const ht=Me(Se,/\//),at=Me(/\//,Se);return{begin:ht,end:at,contains:[...C,{scope:"comment",begin:`#(?!.*${at})`,end:/$/}]}},Q={scope:"regexp",variants:[D("###"),D("##"),D("#"),B]},H={match:Me(/`/,Mt,/`/)},O={className:"variable",match:/\$\d+/},M={className:"variable",match:`\\$${cs}+`},V=[H,O,M],P={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:Jv,contains:[...b,v,z]}]}},se={scope:"keyword",match:Me(/@/,tt(...Qv),Kn(tt(/\(/,/\s+/)))},E={scope:"meta",match:Me(/@/,Mt)},de=[P,se,E],$={match:Kn(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Me(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,cs,"+")},{className:"type",match:Br,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Me(/\s+&\s+/,Kn(Br)),relevance:0}]},w={begin:/</,end:/>/,keywords:u,contains:[...s,...d,...de,f,$]};$.contains.push(w);const I={match:Me(Mt,/\s*:/),keywords:"_|0",relevance:0},A={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",I,...s,Q,...d,...h,...b,v,z,...V,...de,$]},ee={begin:/</,end:/>/,keywords:"repeat each",contains:[...s,$]},Y={begin:tt(Kn(Me(Mt,/\s*:/)),Kn(Me(Mt,/\s+/,Mt,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Mt}]},ae={begin:/\(/,end:/\)/,keywords:u,contains:[Y,...s,...d,...b,v,z,...de,$,A],endsParent:!0,illegal:/["']/},G={match:[/(func|macro)/,/\s+/,tt(H.match,Mt,Js)],className:{1:"keyword",3:"title.function"},contains:[ee,ae,t],illegal:[/\[/,/%/]},he={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[ee,ae,t],illegal:/\[|%/},Re={match:[/operator/,/\s+/,Js],className:{1:"keyword",3:"title"}},be={begin:[/precedencegroup/,/\s+/,Br],className:{1:"keyword",3:"title"},contains:[$],keywords:[...Xv,...il],end:/}/},it={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},St={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},We={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Mt,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[ee,...d,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:Br},...d],relevance:0}]};for(const Se of z.variants){const ht=Se.contains.find(zt=>zt.label==="interpol");ht.keywords=u;const at=[...d,...h,...b,v,z,...V];ht.contains=[...at,{begin:/\(/,end:/\)/,contains:["self",...at]}]}return{name:"Swift",keywords:u,contains:[...s,G,he,it,St,We,Re,be,{beginKeywords:"import",end:/$/,contains:[...s],relevance:0},Q,...d,...h,...b,v,z,...V,...de,$,A]}}const us="[A-Za-z$_][0-9A-Za-z$_]*",Mu=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Ou=["true","false","null","undefined","NaN","Infinity"],Lu=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Du=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Pu=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],zu=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Fu=[].concat(Pu,Lu,Du);function tN(e){const t=e.regex,n=(P,{after:se})=>{const E="</"+P[0].slice(1);return P.input.indexOf(E,se)!==-1},s=us,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(P,se)=>{const E=P[0].length+P.index,de=P.input[E];if(de==="<"||de===","){se.ignoreMatch();return}de===">"&&(n(P,{after:E})||se.ignoreMatch());let $;const w=P.input.substring(E);if($=w.match(/^\s*=/)){se.ignoreMatch();return}if(($=w.match(/^\s+extends\s+/))&&$.index===0){se.ignoreMatch();return}}},l={$pattern:us,keyword:Mu,literal:Ou,built_in:Fu,"variable.language":zu},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},f={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"css"}},y={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},b={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,m]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:s+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},v=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,f,y,b,{match:/\$\d+/},p];m.contains=v.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(v)});const j=[].concat(x,m.contains),T=j.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(j)}]),_={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:T},F={variants:[{match:[/class/,/\s+/,s,/\s+/,/extends/,/\s+/,t.concat(s,"(",t.concat(/\./,s),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,s],scope:{1:"keyword",3:"title.class"}}]},R={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Lu,...Du]}},z={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},C={variants:[{match:[/function/,/\s+/,s,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[_],illegal:/%/},B={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function D(P){return t.concat("(?!",P.join("|"),")")}const Q={match:t.concat(/\b/,D([...Pu,"super","import"].map(P=>`${P}\\s*\\(`)),s,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},H={begin:t.concat(/\./,t.lookahead(t.concat(s,/(?![0-9A-Za-z$_(])/))),end:s,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},O={match:[/get|set/,/\s+/,s,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},_]},M="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",V={match:[/const|var|let/,/\s+/,s,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(M)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[_]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:T,CLASS_REFERENCE:R},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),z,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,f,y,b,x,{match:/\$\d+/},p,R,{scope:"attr",match:s+t.lookahead(":"),relevance:0},V,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:M,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:T}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},C,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[_,e.inherit(e.TITLE_MODE,{begin:s,className:"title.function"})]},{match:/\.\.\./,relevance:0},H,{match:"\\$"+s,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[_]},Q,B,F,O,{match:/\$[(.]/}]}}function nN(e){const t=e.regex,n=tN(e),s=us,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],o={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},l={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:us,keyword:Mu.concat(c),literal:Ou,built_in:Fu.concat(i),"variable.language":zu},d={className:"meta",begin:"@"+s},p=(y,b,g)=>{const x=y.contains.findIndex(v=>v.label===b);if(x===-1)throw new Error("can not find mode to replace");y.contains.splice(x,1,g)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const m=n.contains.find(y=>y.scope==="attr"),h=Object.assign({},m,{match:t.concat(s,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,m,h]),n.contains=n.contains.concat([d,o,a,h]),p(n,"shebang",e.SHEBANG()),p(n,"use_strict",l);const f=n.contains.find(y=>y.label==="func.def");return f.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function rN(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},s={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,o=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,l=/\d{1,2}(:\d{1,2}){1,2}/,c={className:"literal",variants:[{begin:t.concat(/# */,t.either(o,i),/ *#/)},{begin:t.concat(/# */,l,/ *#/)},{begin:t.concat(/# */,a,/ *#/)},{begin:t.concat(/# */,t.either(o,i),/ +/,t.either(a,l),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},p=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),m=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,s,c,u,d,p,m,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[m]}]}}function sN(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),s=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},o={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},l={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},c={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:s},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},o,a,i,e.QUOTE_STRING_MODE,c,u,l]}}function iN(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),s=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(o,{begin:/\(/,end:/\)/}),l=e.inherit(e.APOS_STRING_MODE,{className:"string"}),c=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:s,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,c,l,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,a,c,l]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function aN(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",s={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},o={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},l=e.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),m={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},h={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},f={begin:/\{/,end:/\}/,contains:[h],illegal:"\\n",relevance:0},y={begin:"\\[",end:"\\]",contains:[h],illegal:"\\n",relevance:0},b=[s,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},m,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},f,y,o,a],g=[...b];return g.pop(),g.push(l),h.contains=g,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:b}}const oN={arduino:Uw,bash:Hw,c:Gw,cpp:Vw,csharp:Kw,css:tv,diff:nv,go:rv,graphql:sv,ini:iv,java:av,javascript:dv,json:pv,kotlin:hv,less:Nv,lua:Ev,makefile:kv,markdown:_v,objectivec:Sv,perl:jv,php:Cv,"php-template":Tv,plaintext:Av,python:Iv,"python-repl":Rv,r:Mv,ruby:Ov,rust:Lv,scss:Gv,shell:Vv,sql:Kv,swift:eN,typescript:nN,vbnet:rN,wasm:sN,xml:iN,yaml:aN};var ei,ol;function lN(){if(ol)return ei;ol=1;function e(S){return S instanceof Map?S.clear=S.delete=S.set=function(){throw new Error("map is read-only")}:S instanceof Set&&(S.add=S.clear=S.delete=function(){throw new Error("set is read-only")}),Object.freeze(S),Object.getOwnPropertyNames(S).forEach(U=>{const Z=S[U],pe=typeof Z;(pe==="object"||pe==="function")&&!Object.isFrozen(Z)&&e(Z)}),S}class t{constructor(U){U.data===void 0&&(U.data={}),this.data=U.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(S){return S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function s(S,...U){const Z=Object.create(null);for(const pe in S)Z[pe]=S[pe];return U.forEach(function(pe){for(const ze in pe)Z[ze]=pe[ze]}),Z}const i="</span>",o=S=>!!S.scope,a=(S,{prefix:U})=>{if(S.startsWith("language:"))return S.replace("language:","language-");if(S.includes(".")){const Z=S.split(".");return[`${U}${Z.shift()}`,...Z.map((pe,ze)=>`${pe}${"_".repeat(ze+1)}`)].join(" ")}return`${U}${S}`};class l{constructor(U,Z){this.buffer="",this.classPrefix=Z.classPrefix,U.walk(this)}addText(U){this.buffer+=n(U)}openNode(U){if(!o(U))return;const Z=a(U.scope,{prefix:this.classPrefix});this.span(Z)}closeNode(U){o(U)&&(this.buffer+=i)}value(){return this.buffer}span(U){this.buffer+=`<span class="${U}">`}}const c=(S={})=>{const U={children:[]};return Object.assign(U,S),U};class u{constructor(){this.rootNode=c(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(U){this.top.children.push(U)}openNode(U){const Z=c({scope:U});this.add(Z),this.stack.push(Z)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(U){return this.constructor._walk(U,this.rootNode)}static _walk(U,Z){return typeof Z=="string"?U.addText(Z):Z.children&&(U.openNode(Z),Z.children.forEach(pe=>this._walk(U,pe)),U.closeNode(Z)),U}static _collapse(U){typeof U!="string"&&U.children&&(U.children.every(Z=>typeof Z=="string")?U.children=[U.children.join("")]:U.children.forEach(Z=>{u._collapse(Z)}))}}class d extends u{constructor(U){super(),this.options=U}addText(U){U!==""&&this.add(U)}startScope(U){this.openNode(U)}endScope(){this.closeNode()}__addSublanguage(U,Z){const pe=U.root;Z&&(pe.scope=`language:${Z}`),this.add(pe)}toHTML(){return new l(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function p(S){return S?typeof S=="string"?S:S.source:null}function m(S){return y("(?=",S,")")}function h(S){return y("(?:",S,")*")}function f(S){return y("(?:",S,")?")}function y(...S){return S.map(Z=>p(Z)).join("")}function b(S){const U=S[S.length-1];return typeof U=="object"&&U.constructor===Object?(S.splice(S.length-1,1),U):{}}function g(...S){return"("+(b(S).capture?"":"?:")+S.map(pe=>p(pe)).join("|")+")"}function x(S){return new RegExp(S.toString()+"|").exec("").length-1}function v(S,U){const Z=S&&S.exec(U);return Z&&Z.index===0}const j=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function T(S,{joinWith:U}){let Z=0;return S.map(pe=>{Z+=1;const ze=Z;let Fe=p(pe),re="";for(;Fe.length>0;){const k=j.exec(Fe);if(!k){re+=Fe;break}re+=Fe.substring(0,k.index),Fe=Fe.substring(k.index+k[0].length),k[0][0]==="\\"&&k[1]?re+="\\"+String(Number(k[1])+ze):(re+=k[0],k[0]==="("&&Z++)}return re}).map(pe=>`(${pe})`).join(U)}const _=/\b\B/,F="[a-zA-Z]\\w*",R="[a-zA-Z_]\\w*",z="\\b\\d+(\\.\\d+)?",C="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",B="\\b(0b[01]+)",D="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Q=(S={})=>{const U=/^#![ ]*\//;return S.binary&&(S.begin=y(U,/.*\b/,S.binary,/\b.*/)),s({scope:"meta",begin:U,end:/$/,relevance:0,"on:begin":(Z,pe)=>{Z.index!==0&&pe.ignoreMatch()}},S)},H={begin:"\\\\[\\s\\S]",relevance:0},O={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[H]},M={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[H]},V={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},P=function(S,U,Z={}){const pe=s({scope:"comment",begin:S,end:U,contains:[]},Z);pe.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const ze=g("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return pe.contains.push({begin:y(/[ ]+/,"(",ze,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),pe},se=P("//","$"),E=P("/\\*","\\*/"),de=P("#","$"),$={scope:"number",begin:z,relevance:0},w={scope:"number",begin:C,relevance:0},I={scope:"number",begin:B,relevance:0},A={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[H,{begin:/\[/,end:/\]/,relevance:0,contains:[H]}]},ee={scope:"title",begin:F,relevance:0},Y={scope:"title",begin:R,relevance:0},ae={begin:"\\.\\s*"+R,relevance:0};var he=Object.freeze({__proto__:null,APOS_STRING_MODE:O,BACKSLASH_ESCAPE:H,BINARY_NUMBER_MODE:I,BINARY_NUMBER_RE:B,COMMENT:P,C_BLOCK_COMMENT_MODE:E,C_LINE_COMMENT_MODE:se,C_NUMBER_MODE:w,C_NUMBER_RE:C,END_SAME_AS_BEGIN:function(S){return Object.assign(S,{"on:begin":(U,Z)=>{Z.data._beginMatch=U[1]},"on:end":(U,Z)=>{Z.data._beginMatch!==U[1]&&Z.ignoreMatch()}})},HASH_COMMENT_MODE:de,IDENT_RE:F,MATCH_NOTHING_RE:_,METHOD_GUARD:ae,NUMBER_MODE:$,NUMBER_RE:z,PHRASAL_WORDS_MODE:V,QUOTE_STRING_MODE:M,REGEXP_MODE:A,RE_STARTERS_RE:D,SHEBANG:Q,TITLE_MODE:ee,UNDERSCORE_IDENT_RE:R,UNDERSCORE_TITLE_MODE:Y});function Re(S,U){S.input[S.index-1]==="."&&U.ignoreMatch()}function be(S,U){S.className!==void 0&&(S.scope=S.className,delete S.className)}function it(S,U){U&&S.beginKeywords&&(S.begin="\\b("+S.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",S.__beforeBegin=Re,S.keywords=S.keywords||S.beginKeywords,delete S.beginKeywords,S.relevance===void 0&&(S.relevance=0))}function St(S,U){Array.isArray(S.illegal)&&(S.illegal=g(...S.illegal))}function We(S,U){if(S.match){if(S.begin||S.end)throw new Error("begin & end are not supported with match");S.begin=S.match,delete S.match}}function Se(S,U){S.relevance===void 0&&(S.relevance=1)}const ht=(S,U)=>{if(!S.beforeMatch)return;if(S.starts)throw new Error("beforeMatch cannot be used with starts");const Z=Object.assign({},S);Object.keys(S).forEach(pe=>{delete S[pe]}),S.keywords=Z.keywords,S.begin=y(Z.beforeMatch,m(Z.begin)),S.starts={relevance:0,contains:[Object.assign(Z,{endsParent:!0})]},S.relevance=0,delete Z.beforeMatch},at=["of","and","for","in","not","or","if","then","parent","list","value"],zt="keyword";function Ft(S,U,Z=zt){const pe=Object.create(null);return typeof S=="string"?ze(Z,S.split(" ")):Array.isArray(S)?ze(Z,S):Object.keys(S).forEach(function(Fe){Object.assign(pe,Ft(S[Fe],U,Fe))}),pe;function ze(Fe,re){U&&(re=re.map(k=>k.toLowerCase())),re.forEach(function(k){const X=k.split("|");pe[X[0]]=[Fe,gn(X[0],X[1])]})}}function gn(S,U){return U?Number(U):xn(S)?0:1}function xn(S){return at.includes(S.toLowerCase())}const bn={},Qe=S=>{console.error(S)},yn=(S,...U)=>{console.log(`WARN: ${S}`,...U)},L=(S,U)=>{bn[`${S}/${U}`]||(console.log(`Deprecated as of ${S}. ${U}`),bn[`${S}/${U}`]=!0)},W=new Error;function ue(S,U,{key:Z}){let pe=0;const ze=S[Z],Fe={},re={};for(let k=1;k<=U.length;k++)re[k+pe]=ze[k],Fe[k+pe]=!0,pe+=x(U[k-1]);S[Z]=re,S[Z]._emit=Fe,S[Z]._multi=!0}function xe(S){if(Array.isArray(S.begin)){if(S.skip||S.excludeBegin||S.returnBegin)throw Qe("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),W;if(typeof S.beginScope!="object"||S.beginScope===null)throw Qe("beginScope must be object"),W;ue(S,S.begin,{key:"beginScope"}),S.begin=T(S.begin,{joinWith:""})}}function je(S){if(Array.isArray(S.end)){if(S.skip||S.excludeEnd||S.returnEnd)throw Qe("skip, excludeEnd, returnEnd not compatible with endScope: {}"),W;if(typeof S.endScope!="object"||S.endScope===null)throw Qe("endScope must be object"),W;ue(S,S.end,{key:"endScope"}),S.end=T(S.end,{joinWith:""})}}function Je(S){S.scope&&typeof S.scope=="object"&&S.scope!==null&&(S.beginScope=S.scope,delete S.scope)}function ft(S){Je(S),typeof S.beginScope=="string"&&(S.beginScope={_wrap:S.beginScope}),typeof S.endScope=="string"&&(S.endScope={_wrap:S.endScope}),xe(S),je(S)}function ot(S){function U(re,k){return new RegExp(p(re),"m"+(S.case_insensitive?"i":"")+(S.unicodeRegex?"u":"")+(k?"g":""))}class Z{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(k,X){X.position=this.position++,this.matchIndexes[this.matchAt]=X,this.regexes.push([X,k]),this.matchAt+=x(k)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const k=this.regexes.map(X=>X[1]);this.matcherRe=U(T(k,{joinWith:"|"}),!0),this.lastIndex=0}exec(k){this.matcherRe.lastIndex=this.lastIndex;const X=this.matcherRe.exec(k);if(!X)return null;const Te=X.findIndex((lt,gt)=>gt>0&&lt!==void 0),ve=this.matchIndexes[Te];return X.splice(0,Te),Object.assign(X,ve)}}class pe{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(k){if(this.multiRegexes[k])return this.multiRegexes[k];const X=new Z;return this.rules.slice(k).forEach(([Te,ve])=>X.addRule(Te,ve)),X.compile(),this.multiRegexes[k]=X,X}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(k,X){this.rules.push([k,X]),X.type==="begin"&&this.count++}exec(k){const X=this.getMatcher(this.regexIndex);X.lastIndex=this.lastIndex;let Te=X.exec(k);if(this.resumingScanAtSamePosition()&&!(Te&&Te.index===this.lastIndex)){const ve=this.getMatcher(0);ve.lastIndex=this.lastIndex+1,Te=ve.exec(k)}return Te&&(this.regexIndex+=Te.position+1,this.regexIndex===this.count&&this.considerAll()),Te}}function ze(re){const k=new pe;return re.contains.forEach(X=>k.addRule(X.begin,{rule:X,type:"begin"})),re.terminatorEnd&&k.addRule(re.terminatorEnd,{type:"end"}),re.illegal&&k.addRule(re.illegal,{type:"illegal"}),k}function Fe(re,k){const X=re;if(re.isCompiled)return X;[be,We,ft,ht].forEach(ve=>ve(re,k)),S.compilerExtensions.forEach(ve=>ve(re,k)),re.__beforeBegin=null,[it,St,Se].forEach(ve=>ve(re,k)),re.isCompiled=!0;let Te=null;return typeof re.keywords=="object"&&re.keywords.$pattern&&(re.keywords=Object.assign({},re.keywords),Te=re.keywords.$pattern,delete re.keywords.$pattern),Te=Te||/\w+/,re.keywords&&(re.keywords=Ft(re.keywords,S.case_insensitive)),X.keywordPatternRe=U(Te,!0),k&&(re.begin||(re.begin=/\B|\b/),X.beginRe=U(X.begin),!re.end&&!re.endsWithParent&&(re.end=/\B|\b/),re.end&&(X.endRe=U(X.end)),X.terminatorEnd=p(X.end)||"",re.endsWithParent&&k.terminatorEnd&&(X.terminatorEnd+=(re.end?"|":"")+k.terminatorEnd)),re.illegal&&(X.illegalRe=U(re.illegal)),re.contains||(re.contains=[]),re.contains=[].concat(...re.contains.map(function(ve){return Ct(ve==="self"?re:ve)})),re.contains.forEach(function(ve){Fe(ve,X)}),re.starts&&Fe(re.starts,k),X.matcher=ze(X),X}if(S.compilerExtensions||(S.compilerExtensions=[]),S.contains&&S.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return S.classNameAliases=s(S.classNameAliases||{}),Fe(S)}function jt(S){return S?S.endsWithParent||jt(S.starts):!1}function Ct(S){return S.variants&&!S.cachedVariants&&(S.cachedVariants=S.variants.map(function(U){return s(S,{variants:null},U)})),S.cachedVariants?S.cachedVariants:jt(S)?s(S,{starts:S.starts?s(S.starts):null}):Object.isFrozen(S)?s(S):S}var Ve="11.11.1";class Tt extends Error{constructor(U,Z){super(U),this.name="HTMLInjectionError",this.html=Z}}const et=n,xr=s,br=Symbol("nomatch"),vs=7,yr=function(S){const U=Object.create(null),Z=Object.create(null),pe=[];let ze=!0;const Fe="Could not find the language '{}', did you forget to load/include a language module?",re={disableAutodetect:!0,name:"Plain text",contains:[]};let k={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:d};function X(q){return k.noHighlightRe.test(q)}function Te(q){let oe=q.className+" ";oe+=q.parentNode?q.parentNode.className:"";const ke=k.languageDetectRe.exec(oe);if(ke){const Le=Vt(ke[1]);return Le||(yn(Fe.replace("{}",ke[1])),yn("Falling back to no-highlight mode for this block.",q)),Le?ke[1]:"no-highlight"}return oe.split(/\s+/).find(Le=>X(Le)||Vt(Le))}function ve(q,oe,ke){let Le="",He="";typeof oe=="object"?(Le=q,ke=oe.ignoreIllegals,He=oe.language):(L("10.7.0","highlight(lang, code, ...args) has been deprecated."),L("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),He=q,Le=oe),ke===void 0&&(ke=!0);const wt={code:Le,language:He};vr("before:highlight",wt);const Kt=wt.result?wt.result:lt(wt.language,wt.code,ke);return Kt.code=wt.code,vr("after:highlight",Kt),Kt}function lt(q,oe,ke,Le){const He=Object.create(null);function wt(J,ie){return J.keywords[ie]}function Kt(){if(!fe.keywords){Ke.addText(De);return}let J=0;fe.keywordPatternRe.lastIndex=0;let ie=fe.keywordPatternRe.exec(De),ye="";for(;ie;){ye+=De.substring(J,ie.index);const Ie=Rt.case_insensitive?ie[0].toLowerCase():ie[0],qe=wt(fe,Ie);if(qe){const[Bt,Ju]=qe;if(Ke.addText(ye),ye="",He[Ie]=(He[Ie]||0)+1,He[Ie]<=vs&&(kr+=Ju),Bt.startsWith("_"))ye+=ie[0];else{const ed=Rt.classNameAliases[Bt]||Bt;It(ie[0],ed)}}else ye+=ie[0];J=fe.keywordPatternRe.lastIndex,ie=fe.keywordPatternRe.exec(De)}ye+=De.substring(J),Ke.addText(ye)}function Nr(){if(De==="")return;let J=null;if(typeof fe.subLanguage=="string"){if(!U[fe.subLanguage]){Ke.addText(De);return}J=lt(fe.subLanguage,De,!0,ga[fe.subLanguage]),ga[fe.subLanguage]=J._top}else J=At(De,fe.subLanguage.length?fe.subLanguage:null);fe.relevance>0&&(kr+=J.relevance),Ke.__addSublanguage(J._emitter,J.language)}function ct(){fe.subLanguage!=null?Nr():Kt(),De=""}function It(J,ie){J!==""&&(Ke.startScope(ie),Ke.addText(J),Ke.endScope())}function pa(J,ie){let ye=1;const Ie=ie.length-1;for(;ye<=Ie;){if(!J._emit[ye]){ye++;continue}const qe=Rt.classNameAliases[J[ye]]||J[ye],Bt=ie[ye];qe?It(Bt,qe):(De=Bt,Kt(),De=""),ye++}}function ma(J,ie){return J.scope&&typeof J.scope=="string"&&Ke.openNode(Rt.classNameAliases[J.scope]||J.scope),J.beginScope&&(J.beginScope._wrap?(It(De,Rt.classNameAliases[J.beginScope._wrap]||J.beginScope._wrap),De=""):J.beginScope._multi&&(pa(J.beginScope,ie),De="")),fe=Object.create(J,{parent:{value:fe}}),fe}function ha(J,ie,ye){let Ie=v(J.endRe,ye);if(Ie){if(J["on:end"]){const qe=new t(J);J["on:end"](ie,qe),qe.isMatchIgnored&&(Ie=!1)}if(Ie){for(;J.endsParent&&J.parent;)J=J.parent;return J}}if(J.endsWithParent)return ha(J.parent,ie,ye)}function qu(J){return fe.matcher.regexIndex===0?(De+=J[0],1):(ks=!0,0)}function Yu(J){const ie=J[0],ye=J.rule,Ie=new t(ye),qe=[ye.__beforeBegin,ye["on:begin"]];for(const Bt of qe)if(Bt&&(Bt(J,Ie),Ie.isMatchIgnored))return qu(ie);return ye.skip?De+=ie:(ye.excludeBegin&&(De+=ie),ct(),!ye.returnBegin&&!ye.excludeBegin&&(De=ie)),ma(ye,J),ye.returnBegin?0:ie.length}function Xu(J){const ie=J[0],ye=oe.substring(J.index),Ie=ha(fe,J,ye);if(!Ie)return br;const qe=fe;fe.endScope&&fe.endScope._wrap?(ct(),It(ie,fe.endScope._wrap)):fe.endScope&&fe.endScope._multi?(ct(),pa(fe.endScope,J)):qe.skip?De+=ie:(qe.returnEnd||qe.excludeEnd||(De+=ie),ct(),qe.excludeEnd&&(De=ie));do fe.scope&&Ke.closeNode(),!fe.skip&&!fe.subLanguage&&(kr+=fe.relevance),fe=fe.parent;while(fe!==Ie.parent);return Ie.starts&&ma(Ie.starts,J),qe.returnEnd?0:ie.length}function Zu(){const J=[];for(let ie=fe;ie!==Rt;ie=ie.parent)ie.scope&&J.unshift(ie.scope);J.forEach(ie=>Ke.openNode(ie))}let Er={};function fa(J,ie){const ye=ie&&ie[0];if(De+=J,ye==null)return ct(),0;if(Er.type==="begin"&&ie.type==="end"&&Er.index===ie.index&&ye===""){if(De+=oe.slice(ie.index,ie.index+1),!ze){const Ie=new Error(`0 width match regex (${q})`);throw Ie.languageName=q,Ie.badRule=Er.rule,Ie}return 1}if(Er=ie,ie.type==="begin")return Yu(ie);if(ie.type==="illegal"&&!ke){const Ie=new Error('Illegal lexeme "'+ye+'" for mode "'+(fe.scope||"<unnamed>")+'"');throw Ie.mode=fe,Ie}else if(ie.type==="end"){const Ie=Xu(ie);if(Ie!==br)return Ie}if(ie.type==="illegal"&&ye==="")return De+=`
`,1;if(Es>1e5&&Es>ie.index*3)throw new Error("potential infinite loop, way more iterations than matches");return De+=ye,ye.length}const Rt=Vt(q);if(!Rt)throw Qe(Fe.replace("{}",q)),new Error('Unknown language: "'+q+'"');const Qu=ot(Rt);let Ns="",fe=Le||Qu;const ga={},Ke=new k.__emitter(k);Zu();let De="",kr=0,nn=0,Es=0,ks=!1;try{if(Rt.__emitTokens)Rt.__emitTokens(oe,Ke);else{for(fe.matcher.considerAll();;){Es++,ks?ks=!1:fe.matcher.considerAll(),fe.matcher.lastIndex=nn;const J=fe.matcher.exec(oe);if(!J)break;const ie=oe.substring(nn,J.index),ye=fa(ie,J);nn=J.index+ye}fa(oe.substring(nn))}return Ke.finalize(),Ns=Ke.toHTML(),{language:q,value:Ns,relevance:kr,illegal:!1,_emitter:Ke,_top:fe}}catch(J){if(J.message&&J.message.includes("Illegal"))return{language:q,value:et(oe),illegal:!0,relevance:0,_illegalBy:{message:J.message,index:nn,context:oe.slice(nn-100,nn+100),mode:J.mode,resultSoFar:Ns},_emitter:Ke};if(ze)return{language:q,value:et(oe),illegal:!1,relevance:0,errorRaised:J,_emitter:Ke,_top:fe};throw J}}function gt(q){const oe={value:et(q),illegal:!1,relevance:0,_top:re,_emitter:new k.__emitter(k)};return oe._emitter.addText(q),oe}function At(q,oe){oe=oe||k.languages||Object.keys(U);const ke=gt(q),Le=oe.filter(Vt).filter(da).map(ct=>lt(ct,q,!1));Le.unshift(ke);const He=Le.sort((ct,It)=>{if(ct.relevance!==It.relevance)return It.relevance-ct.relevance;if(ct.language&&It.language){if(Vt(ct.language).supersetOf===It.language)return 1;if(Vt(It.language).supersetOf===ct.language)return-1}return 0}),[wt,Kt]=He,Nr=wt;return Nr.secondBest=Kt,Nr}function Ae(q,oe,ke){const Le=oe&&Z[oe]||ke;q.classList.add("hljs"),q.classList.add(`language-${Le}`)}function tn(q){let oe=null;const ke=Te(q);if(X(ke))return;if(vr("before:highlightElement",{el:q,language:ke}),q.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",q);return}if(q.children.length>0&&(k.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(q)),k.throwUnescapedHTML))throw new Tt("One of your code blocks includes unescaped HTML.",q.innerHTML);oe=q;const Le=oe.textContent,He=ke?ve(Le,{language:ke,ignoreIllegals:!0}):At(Le);q.innerHTML=He.value,q.dataset.highlighted="yes",Ae(q,ke,He.language),q.result={language:He.language,re:He.relevance,relevance:He.relevance},He.secondBest&&(q.secondBest={language:He.secondBest.language,relevance:He.secondBest.relevance}),vr("after:highlightElement",{el:q,result:He,text:Le})}function Bn(q){k=xr(k,q)}const wn=()=>{wr(),L("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Bu(){wr(),L("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let ca=!1;function wr(){function q(){wr()}if(document.readyState==="loading"){ca||window.addEventListener("DOMContentLoaded",q,!1),ca=!0;return}document.querySelectorAll(k.cssSelector).forEach(tn)}function $u(q,oe){let ke=null;try{ke=oe(S)}catch(Le){if(Qe("Language definition for '{}' could not be registered.".replace("{}",q)),ze)Qe(Le);else throw Le;ke=re}ke.name||(ke.name=q),U[q]=ke,ke.rawDefinition=oe.bind(null,S),ke.aliases&&ua(ke.aliases,{languageName:q})}function Uu(q){delete U[q];for(const oe of Object.keys(Z))Z[oe]===q&&delete Z[oe]}function Hu(){return Object.keys(U)}function Vt(q){return q=(q||"").toLowerCase(),U[q]||U[Z[q]]}function ua(q,{languageName:oe}){typeof q=="string"&&(q=[q]),q.forEach(ke=>{Z[ke.toLowerCase()]=oe})}function da(q){const oe=Vt(q);return oe&&!oe.disableAutodetect}function Gu(q){q["before:highlightBlock"]&&!q["before:highlightElement"]&&(q["before:highlightElement"]=oe=>{q["before:highlightBlock"](Object.assign({block:oe.el},oe))}),q["after:highlightBlock"]&&!q["after:highlightElement"]&&(q["after:highlightElement"]=oe=>{q["after:highlightBlock"](Object.assign({block:oe.el},oe))})}function Vu(q){Gu(q),pe.push(q)}function Ku(q){const oe=pe.indexOf(q);oe!==-1&&pe.splice(oe,1)}function vr(q,oe){const ke=q;pe.forEach(function(Le){Le[ke]&&Le[ke](oe)})}function Wu(q){return L("10.7.0","highlightBlock will be removed entirely in v12.0"),L("10.7.0","Please use highlightElement now."),tn(q)}Object.assign(S,{highlight:ve,highlightAuto:At,highlightAll:wr,highlightElement:tn,highlightBlock:Wu,configure:Bn,initHighlighting:wn,initHighlightingOnLoad:Bu,registerLanguage:$u,unregisterLanguage:Uu,listLanguages:Hu,getLanguage:Vt,registerAliases:ua,autoDetection:da,inherit:xr,addPlugin:Vu,removePlugin:Ku}),S.debugMode=function(){ze=!1},S.safeMode=function(){ze=!0},S.versionString=Ve,S.regex={concat:y,lookahead:m,either:g,optional:f,anyNumberOfTimes:h};for(const q in he)typeof he[q]=="object"&&e(he[q]);return Object.assign(S,he),S},Gt=yr({});return Gt.newInstance=()=>yr({}),ei=Gt,Gt.HighlightJS=Gt,Gt.default=Gt,ei}var cN=lN();const uN=Ti(cN),ll={},dN="hljs-";function pN(e){const t=uN.newInstance();return e&&o(e),{highlight:n,highlightAuto:s,listLanguages:i,register:o,registerAlias:a,registered:l};function n(c,u,d){const p=d||ll,m=typeof p.prefix=="string"?p.prefix:dN;if(!t.getLanguage(c))throw new Error("Unknown language: `"+c+"` is not registered");t.configure({__emitter:mN,classPrefix:m});const h=t.highlight(u,{ignoreIllegals:!0,language:c});if(h.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:h.errorRaised});const f=h._emitter.root,y=f.data;return y.language=h.language,y.relevance=h.relevance,f}function s(c,u){const p=(u||ll).subset||i();let m=-1,h=0,f;for(;++m<p.length;){const y=p[m];if(!t.getLanguage(y))continue;const b=n(y,c,u);b.data&&b.data.relevance!==void 0&&b.data.relevance>h&&(h=b.data.relevance,f=b)}return f||{type:"root",children:[],data:{language:void 0,relevance:h}}}function i(){return t.listLanguages()}function o(c,u){if(typeof c=="string")t.registerLanguage(c,u);else{let d;for(d in c)Object.hasOwn(c,d)&&t.registerLanguage(d,c[d])}}function a(c,u){if(typeof c=="string")t.registerAliases(typeof u=="string"?u:[...u],{languageName:c});else{let d;for(d in c)if(Object.hasOwn(c,d)){const p=c[d];t.registerAliases(typeof p=="string"?p:[...p],{languageName:d})}}}function l(c){return!!t.getLanguage(c)}}class mN{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],s=n.children[n.children.length-1];s&&s.type==="text"?s.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const s=this.stack[this.stack.length-1],i=t.root.children;n?s.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):s.children.push(...i)}openNode(t){const n=this,s=t.split(".").map(function(a,l){return l?a+"_".repeat(l):n.options.classPrefix+a}),i=this.stack[this.stack.length-1],o={type:"element",tagName:"span",properties:{className:s},children:[]};i.children.push(o),this.stack.push(o)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const hN={};function fN(e){const t=e||hN,n=t.aliases,s=t.detect||!1,i=t.languages||oN,o=t.plainText,a=t.prefix,l=t.subset;let c="hljs";const u=pN(i);if(n&&u.registerAlias(n),a){const d=a.indexOf("-");c=d===-1?a:a.slice(0,d)}return function(d,p){ws(d,"element",function(m,h,f){if(m.tagName!=="code"||!f||f.type!=="element"||f.tagName!=="pre")return;const y=gN(m);if(y===!1||!y&&!s||y&&o&&o.includes(y))return;Array.isArray(m.properties.className)||(m.properties.className=[]),m.properties.className.includes(c)||m.properties.className.unshift(c);const b=Ow(m,{whitespace:"pre"});let g;try{g=y?u.highlight(y,b,{prefix:a}):u.highlightAuto(b,{prefix:a,subset:l})}catch(x){const v=x;if(y&&/Unknown language/.test(v.message)){p.message("Cannot highlight as `"+y+"`, it’s not registered",{ancestors:[f,m],cause:v,place:m.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw v}!y&&g.data&&g.data.language&&m.properties.className.push("language-"+g.data.language),g.children.length>0&&(m.children=g.children)})}}function gN(e){const t=e.properties.className;let n=-1;if(!Array.isArray(t))return;let s;for(;++n<t.length;){const i=String(t[n]);if(i==="no-highlight"||i==="nohighlight")return!1;!s&&i.slice(0,5)==="lang-"&&(s=i.slice(5)),!s&&i.slice(0,9)==="language-"&&(s=i.slice(9))}return s}const xN={inherit:"text-gray-400",sonnet:"text-blue-400",opus:"text-purple-400",haiku:"text-green-400"},bN=e=>{const t=e.split("/"),n=["项目","Proj","projects","Projects","workspace","Workspace"],s=t.findIndex(o=>n.includes(o));if(s>=0&&s<t.length-1)return t[s+1];const i=t.findIndex(o=>o===".claude");return i>0?t[i-1]:t.length>=3?t[t.length-3]:"project"},lr="agent-test-history",yN=e=>{try{const t=localStorage.getItem(lr);if(t)return JSON.parse(t).filter(s=>s.agentId===e)}catch(t){console.error("Failed to load test history:",t)}return[]},cl=e=>{try{const t=localStorage.getItem(lr);let n=t?JSON.parse(t):[];if(e.length>0){const s=e[0].agentId;n=n.filter(i=>i.agentId!==s),n=[...e,...n]}n=n.slice(0,500),localStorage.setItem(lr,JSON.stringify(n))}catch(t){console.error("Failed to save test history:",t)}},wN=({agent:e,onBack:t,onEdit:n})=>{var H,O;const s=!e.is_builtin,[i,o]=N.useState(""),[a,l]=N.useState(!1),[c,u]=N.useState(null),[d,p]=N.useState(null),[m,h]=N.useState([]),[f,y]=N.useState(!0),[b,g]=N.useState(null),[x,v]=N.useState(!1),j=N.useRef(null);N.useEffect(()=>{const M=yN(e.id);h(M),M.length>0&&(u(M[0].output),p(M[0].success))},[e.id]);const T=N.useMemo(()=>{if(m.length===0)return{totalTests:0,successRate:0,avgDuration:0,minDuration:0,maxDuration:0,successCount:0,failCount:0};const M=m.filter(se=>se.success).length,V=m.map(se=>se.duration),P=V.reduce((se,E)=>se+E,0)/V.length;return{totalTests:m.length,successRate:M/m.length*100,avgDuration:P,minDuration:Math.min(...V),maxDuration:Math.max(...V),successCount:M,failCount:m.length-M}},[m]);N.useEffect(()=>{c&&j.current&&j.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[c]);const _=async()=>{if(!(!i.trim()||a)){l(!0),u(null),p(null);try{const M=await Lt.test(e.id,i),V={id:`test-${Date.now()}`,input:i,output:M.output,success:M.success,duration:M.duration,timestamp:new Date().toISOString(),model:M.model,agentId:e.id};u(M.output),p(M.success);const P=[V,...m];h(P),cl(P),o("")}catch(M){console.error("Test failed:",M);const V=M instanceof Error?M.message:"测试执行失败，请检查后端服务";u(V),p(!1);const se=[{id:`test-${Date.now()}`,input:i,output:V,success:!1,duration:0,timestamp:new Date().toISOString(),model:e.model||"inherit",agentId:e.id},...m];h(se),cl(se)}finally{l(!1)}}},F=()=>{h([]),u(null),p(null);try{const M=localStorage.getItem(lr);if(M){const P=JSON.parse(M).filter(se=>se.agentId!==e.id);localStorage.setItem(lr,JSON.stringify(P))}}catch(M){console.error("Failed to clear test history:",M)}},R=(M,V)=>{navigator.clipboard.writeText(M),V&&(g(V),setTimeout(()=>g(null),2e3))},z=M=>M?[/^#{1,6}\s+.+$/m,/\*\*.+\*\*/,/\*.+\*/,/\[.+\]\(.+\)/,/```[\s\S]*?```/,/^\s*[-*+]\s+/m,/^\s*\d+\.\s+/m,/^\s*>\s+/m,/^\s*\|.+\|.+\|$/m].some(P=>P.test(M)):!1,C=()=>{const M=["你能干什么？请介绍一下你的能力","帮我分析一下当前项目的结构"];return e.tools.some(V=>V.toLowerCase().includes("read")||V.toLowerCase().includes("grep"))&&M.push("搜索项目中所有 TODO 注释"),e.tools.some(V=>V.toLowerCase().includes("write")||V.toLowerCase().includes("edit"))&&M.push("创建一个简单的 hello world 示例"),e.tools.some(V=>V.toLowerCase().includes("bash"))&&M.push("运行 git status 查看当前状态"),M.slice(0,5)},B=()=>{var M;return`请为以下 Agent 生成详细的使用说明文档：

Agent 名称: ${e.name}
Agent 描述: ${e.description}
可用工具: ${e.tools.length>0?e.tools.join(", "):"继承全部工具"}
模型: ${e.model||"inherit"}
权限模式: ${e.permission_mode||"default"}
技能: ${((M=e.skills)==null?void 0:M.join(", "))||"无"}
系统提示: ${e.system_prompt||"无"}

请生成包含以下内容的使用说明：
1. Agent 概述和主要用途
2. 适用场景（何时使用此 Agent）
3. 基本使用方法和示例命令
4. 高级用法和技巧
5. 注意事项和限制
6. 常见问题解答

请用中文编写，格式清晰，便于用户理解。`},Q=(()=>{var M;if((M=e.meta)!=null&&M.color)return e.meta.color;switch(e.scope){case"builtin":return"#3b82f6";case"user":return"#22c55e";case"project":return"#a855f7";case"plugin":return"#f97316";default:return"#6b7280"}})();return r.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-8",children:[r.jsx("button",{onClick:t,className:"p-3 hover:bg-white/10 rounded-xl transition-colors mt-1",children:r.jsx(ms,{size:24})}),r.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center border-2 flex-shrink-0",style:{backgroundColor:`${Q}20`,borderColor:Q},children:e.is_builtin?r.jsx(yt,{size:32,style:{color:Q}}):r.jsx(dr,{size:32,style:{color:Q}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[r.jsx("h1",{className:"text-2xl font-bold tracking-tight truncate",children:e.name}),r.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-bold capitalize",style:{backgroundColor:`${Q}20`,color:Q},children:e.scope}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${xN[e.model||"inherit"]} bg-white/5`,children:(e.model||"inherit").toUpperCase()}),e.scope==="plugin"&&((H=e.meta)==null?void 0:H.plugin_name)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-bold bg-orange-500/10 text-orange-400 border border-orange-500/20 rounded-md",children:e.meta.plugin_name}),e.scope==="project"&&((O=e.meta)==null?void 0:O.path)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-bold bg-purple-500/10 text-purple-400 border border-purple-500/20 rounded-md",children:bN(e.meta.path)})]}),r.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:e.description})]}),r.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 px-3 py-2 bg-white/5 rounded-xl",children:[r.jsx(Ut,{size:16}),r.jsxs("span",{children:[m.length," 次测试"]})]}),s&&n&&r.jsxs("button",{onClick:()=>n(e),className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 rounded-xl transition-all text-sm",children:[r.jsx(ti,{size:16}),"编辑"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(ur,{size:18,className:"text-blue-400"}),r.jsx("h3",{className:"font-bold",children:"测试控制台"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"输入"}),r.jsx("textarea",{value:i,onChange:M=>o(M.target.value),onKeyDown:M=>{M.key==="Enter"&&M.ctrlKey&&_()},placeholder:"输入测试提示... (Ctrl+Enter 运行)",rows:4,disabled:a,className:"w-full px-4 py-3 bg-black/40 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-blue-500/50 transition-all resize-none font-mono text-sm"}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:[i.length," 字符 · 按 Ctrl+Enter 运行"]}),r.jsx("button",{onClick:_,disabled:!i.trim()||a,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 disabled:from-gray-600 disabled:to-gray-600 disabled:cursor-not-allowed rounded-xl font-bold transition-all shadow-lg text-sm",children:a?r.jsxs(r.Fragment,{children:[r.jsx(va,{size:18,className:"animate-spin"}),"运行中..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_l,{size:18}),"运行"]})})]})]}),r.jsx("div",{className:"border-t border-white/10 my-4"}),r.jsxs("div",{ref:j,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"输出"}),c&&r.jsxs("div",{className:"flex items-center gap-2",children:[z(c)&&r.jsx("button",{onClick:()=>v(!x),className:`flex items-center gap-1 px-2 py-1 text-xs rounded-lg transition-colors ${x?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"hover:bg-white/10 text-gray-400"}`,children:x?r.jsxs(r.Fragment,{children:[r.jsx(Cn,{size:14}),r.jsx("span",{children:"Markdown"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Mi,{size:14}),r.jsx("span",{children:"原始"})]})}),r.jsxs("button",{onClick:()=>R(c,"current"),className:"flex items-center gap-1 px-2 py-1 text-xs hover:bg-white/10 rounded-lg transition-colors",children:[b==="current"?r.jsx(an,{size:14,className:"text-green-400"}):r.jsx(Tn,{size:14,className:"text-gray-400"}),r.jsx("span",{className:"text-gray-400",children:"复制"})]})]})]}),r.jsx(Ue,{mode:"wait",children:a?r.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-6 bg-black/40 rounded-xl border border-white/10 flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[r.jsx(va,{size:20,className:"animate-spin"}),r.jsx("span",{children:"Agent 正在处理请求..."})]})},"loading"):c?r.jsxs(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:`p-4 bg-black/40 rounded-xl border-2 ${d?"border-green-500/30":"border-red-500/30"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d?r.jsx(Ss,{size:16,className:"text-green-400"}):r.jsx($r,{size:16,className:"text-red-400"}),r.jsx("span",{className:`text-sm font-bold ${d?"text-green-400":"text-red-400"}`,children:d?"执行成功":"执行失败"}),m[0]&&r.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:[m[0].duration.toFixed(2),"s · ",m[0].model]})]}),x&&z(c)?r.jsx("div",{className:"prose prose-invert prose-sm max-w-none max-h-80 overflow-y-auto",children:r.jsx(h0,{remarkPlugins:[jw],rehypePlugins:[fN],components:{code:({className:M,children:V,...P})=>!M?r.jsx("code",{className:"px-1.5 py-0.5 bg-white/10 rounded text-blue-400 font-mono text-xs",...P,children:V}):r.jsx("code",{className:`${M} block p-3 bg-black/60 rounded-lg overflow-x-auto`,...P,children:V}),a:({children:M,...V})=>r.jsx("a",{className:"text-blue-400 hover:text-blue-300 underline",target:"_blank",rel:"noopener noreferrer",...V,children:M}),table:({children:M,...V})=>r.jsx("div",{className:"overflow-x-auto",children:r.jsx("table",{className:"min-w-full border border-white/10",...V,children:M})}),th:({children:M,...V})=>r.jsx("th",{className:"border border-white/10 px-3 py-2 bg-white/5 font-bold",...V,children:M}),td:({children:M,...V})=>r.jsx("td",{className:"border border-white/10 px-3 py-2",...V,children:M})},children:c})}):r.jsx("pre",{className:"text-sm text-gray-300 leading-relaxed whitespace-pre-wrap font-mono max-h-80 overflow-y-auto",children:c})]},"output"):r.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-6 bg-black/40 rounded-xl border border-dashed border-white/10 text-center",children:[r.jsx(qr,{size:32,className:"text-gray-600 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"输入提示并运行，输出将显示在这里"})]},"empty")})]})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("h3",{className:"font-bold mb-4 text-sm text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(kt,{size:14}),"建议的测试"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:C().map((M,V)=>r.jsx("button",{onClick:()=>o(M),disabled:a,className:"px-4 py-2 bg-white/5 hover:bg-white/10 disabled:hover:bg-white/5 rounded-xl border border-white/10 hover:border-blue-500/30 transition-all text-sm",children:M},V))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[r.jsx(Ut,{size:16}),"测试历史"]}),m.length>0&&r.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-3 py-1.5 text-xs bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-all",children:[r.jsx(El,{size:14}),"清除"]})]}),r.jsx("div",{className:"space-y-3",children:r.jsx(Ue,{mode:"popLayout",children:m.length===0?r.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-white/10 rounded-xl",children:[r.jsx(pn,{size:40,className:"text-gray-600 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"还没有测试记录"}),r.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"运行测试后结果将显示在这里"})]}):m.map((M,V)=>r.jsx(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:V*.03},children:r.jsxs(me,{className:`p-4 border ${M.success?"border-green-500/20":"border-red-500/20"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[M.success?r.jsx(Ss,{className:"text-green-400",size:16}):r.jsx($r,{className:"text-red-400",size:16}),r.jsxs("span",{className:"text-xs text-gray-500",children:[new Date(M.timestamp).toLocaleString()," · ",M.duration.toFixed(2),"s · ",M.model]})]}),r.jsx("button",{onClick:()=>R(M.output,M.id),className:"p-1.5 hover:bg-white/10 rounded-lg transition-colors",children:b===M.id?r.jsx(an,{size:14,className:"text-green-400"}):r.jsx(Tn,{size:14,className:"text-gray-400"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"输入"}),r.jsx("p",{className:"text-gray-300 line-clamp-2",children:M.input})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"输出"}),r.jsx("p",{className:"text-gray-300 line-clamp-2",children:M.output})]})]})]})},M.id))})})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(me,{className:"p-6 border-cyan-500/20",children:[r.jsxs("h3",{className:"font-bold mb-4 text-sm text-cyan-400 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(Xe,{size:14}),"预加载技能"]}),e.skills&&e.skills.length>0?r.jsx("div",{className:"space-y-2",children:e.skills.map(M=>r.jsx("div",{className:"p-3 bg-cyan-500/10 rounded-xl border border-cyan-500/20",children:r.jsx("p",{className:"text-sm font-bold text-cyan-400",children:M})},M))}):r.jsx("p",{className:"text-sm text-gray-500",children:"无预加载技能"})]}),r.jsxs(me,{className:"p-6 border-purple-500/20",children:[r.jsxs("h3",{className:"font-bold mb-4 text-sm text-purple-400 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(Pd,{size:14}),"性能统计"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"p-3 bg-white/5 rounded-xl text-center",children:[r.jsx("div",{className:"text-2xl font-black text-white",children:T.totalTests}),r.jsx("div",{className:"text-xs text-gray-500",children:"总测试次数"})]}),r.jsxs("div",{className:"p-3 bg-white/5 rounded-xl text-center",children:[r.jsxs("div",{className:`text-2xl font-black ${T.successRate>=80?"text-green-400":T.successRate>=50?"text-yellow-400":"text-red-400"}`,children:[T.successRate.toFixed(0),"%"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"成功率"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white/5 rounded-xl",children:[r.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[r.jsx(Ss,{size:14,className:"text-green-400"}),r.jsx("span",{className:"text-sm text-gray-400",children:"成功"}),r.jsx("span",{className:"text-sm font-bold text-green-400 ml-auto",children:T.successCount})]}),r.jsx("div",{className:"w-px h-4 bg-white/10"}),r.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[r.jsx($r,{size:14,className:"text-red-400"}),r.jsx("span",{className:"text-sm text-gray-400",children:"失败"}),r.jsx("span",{className:"text-sm font-bold text-red-400 ml-auto",children:T.failCount})]})]}),r.jsxs("div",{className:"p-3 bg-white/5 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Sl,{size:14,className:"text-blue-400"}),r.jsx("span",{className:"text-xs text-gray-400",children:"响应时间"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-bold text-green-400",children:[T.minDuration.toFixed(2),"s"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"最快"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-bold text-blue-400",children:[T.avgDuration.toFixed(2),"s"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"平均"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-bold text-orange-400",children:[T.maxDuration.toFixed(2),"s"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"最慢"})]})]})]})]})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("h3",{className:"font-bold mb-4 text-sm text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(un,{size:14}),"配置信息"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-xl",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Permission"}),r.jsx("span",{className:`text-sm font-black ${e.permission_mode==="bypassPermissions"?"text-red-400":e.permission_mode==="plan"?"text-purple-400":"text-gray-400"}`,children:e.permission_mode||"default"})]}),e.max_turns&&r.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-xl",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Max Turns"}),r.jsx("span",{className:"text-sm font-black text-blue-400",children:e.max_turns})]}),e.memory&&r.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-xl",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Memory"}),r.jsx("span",{className:"text-sm font-black text-cyan-400",children:e.memory})]}),e.isolation&&r.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-xl",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Isolation"}),r.jsx("span",{className:"text-sm font-black text-orange-400",children:e.isolation})]})]})]}),r.jsxs(me,{className:"p-6 bg-blue-500/5 border-blue-500/20",children:[r.jsxs("h3",{className:"font-bold mb-3 text-sm text-blue-400 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(Tl,{size:14}),"测试提示"]}),r.jsxs("ul",{className:"space-y-2 text-xs text-gray-400",children:[r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-blue-400",children:"•"}),r.jsx("span",{children:"使用具体、详细的提示获得更好的结果"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-blue-400",children:"•"}),r.jsx("span",{children:"测试边界情况以验证健壮性"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-blue-400",children:"•"}),r.jsx("span",{children:"比较不同模型的输出结果"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-blue-400",children:"•"}),r.jsx("span",{children:"监控响应时间以优化性能"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-blue-400",children:"•"}),r.jsx("span",{children:"测试历史会自动保存，刷新后仍可查看"})]})]})]}),r.jsxs(me,{className:"p-6 border-green-500/20",children:[r.jsxs("button",{onClick:()=>y(!f),className:"w-full flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-bold text-sm text-green-400 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(Jn,{size:14}),"使用说明"]}),f?r.jsx(si,{size:16,className:"text-gray-400"}):r.jsx(ii,{size:16,className:"text-gray-400"})]}),r.jsx(Ue,{children:f&&r.jsx(Ee.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-white mb-2",children:"概述"}),r.jsx("p",{className:"text-gray-400",children:e.description})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-white mb-2",children:"如何使用"}),r.jsxs("div",{className:"space-y-2 text-gray-400",children:[r.jsx("p",{children:"在 Claude Code 中通过以下方式调用此 Agent："}),r.jsxs("div",{className:"p-3 bg-black/40 rounded-lg font-mono text-xs",children:[r.jsx("span",{className:"text-purple-400",children:"/agents"}),r.jsx("span",{className:"text-gray-500",children:" → 选择 "}),r.jsx("span",{className:"text-green-400",children:e.name})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"或直接在对话中 @ 引用此 Agent"})]})]}),r.jsxs("div",{className:"pt-3 border-t border-white/10",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"需要更详细的使用说明？"}),r.jsx("button",{onClick:()=>R(B(),"usage-prompt"),className:"flex items-center gap-2 px-3 py-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-all text-xs w-full justify-center",children:b==="usage-prompt"?r.jsxs(r.Fragment,{children:[r.jsx(an,{size:14}),"已复制 Prompt"]}):r.jsxs(r.Fragment,{children:[r.jsx(Tn,{size:14}),"复制生成 Prompt"]})}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"在 Claude Code 中粘贴此 Prompt 生成详细说明"})]})]})})})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("h3",{className:"font-bold mb-4 text-sm text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(cr,{size:14}),"可用工具"]}),e.tools.length===0?r.jsx("p",{className:"text-sm text-gray-500",children:"继承全部工具"}):r.jsxs("div",{className:"space-y-2",children:[e.tools.slice(0,8).map(M=>r.jsx("div",{className:"p-3 bg-white/5 rounded-xl border border-white/10",children:r.jsx("p",{className:"text-sm font-bold",children:M})},M)),e.tools.length>8&&r.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["还有 ",e.tools.length-8," 个工具..."]})]})]})]})]})]})},vN={builtin:r.jsx(Li,{size:14}),user:r.jsx(Qn,{size:14}),project:r.jsx(Kr,{size:14}),plugin:r.jsx(Al,{size:14})},NN=e=>{const t=e.split("/"),n=["项目","Proj","projects","Projects","workspace","Workspace"],s=t.findIndex(o=>n.includes(o));if(s>=0&&s<t.length-1)return t[s+1];const i=t.findIndex(o=>o===".claude");return i>0?t[i-1]:t.length>=3?t[t.length-3]:"project"},EN={inherit:"text-gray-400",sonnet:"text-blue-400",opus:"text-purple-400",haiku:"text-green-400"},kN=()=>{const{mode:e}=mt();Ln();const[t,n]=bl(),[s,i]=N.useState([]),[o,a]=N.useState(!0),[l,c]=N.useState(!1),[u,d]=N.useState(null),[p,m]=N.useState(null),[h,f]=N.useState(""),[y,b]=N.useState("all"),[g,x]=N.useState(!1),[v,j]=N.useState({builtin:0,user:0,project:0,plugin:0}),[T,_]=N.useState(null),[F,R]=N.useState(null),[z,C]=N.useState(!1),[B,D]=N.useState(null),[Q,H]=N.useState(!1),[O,M]=N.useState(null),[V,P]=N.useState(!1),se=N.useCallback(async()=>{try{a(!0),d(null);const A=await Lt.list({limit:500,active_only:!g});i(A.items),j({builtin:A.builtin_count,user:A.user_count,project:A.project_count,plugin:A.plugin_count})}catch(A){console.error("Failed to fetch agents:",A),d(A instanceof Error?A.message:"Failed to load agents")}finally{a(!1)}},[g]),E=async()=>{try{c(!0),d(null),m(null);const A=await Lt.sync({include_builtin:!0});m(A),await se()}catch(A){console.error("Failed to sync agents:",A),d(A instanceof Error?A.message:"Sync failed")}finally{c(!1)}},de=A=>{A.is_builtin||(M(A),H(!0),D(null))},$=async()=>{if(O)try{P(!0),await Lt.delete(O.id,!0),await se(),H(!1),M(null)}catch(A){console.error("Failed to delete agent:",A),d(A instanceof Error?A.message:"Delete failed")}finally{P(!1)}},w=(A,ee)=>{switch(D(null),A){case"configure":case"edit":ee.is_builtin||_(ee);break;case"test":R(ee);break;case"duplicate":break;case"delete":de(ee);break}};N.useEffect(()=>{E()},[]),N.useEffect(()=>{t.get("action")==="create"&&(C(!0),n({}))},[t,n]);const I=s.filter(A=>{if(y!=="all"){if(y==="project_plugin"){if(A.scope!=="project"&&A.scope!=="plugin")return!1}else if(A.scope!==y)return!1}if(h){const ee=h.toLowerCase();return A.name.toLowerCase().includes(ee)||A.description.toLowerCase().includes(ee)}return!0});return F?r.jsx(wN,{agent:F,onBack:()=>{R(null)},onEdit:A=>{R(null),_(A)}}):T?r.jsx(ao,{agent:T,onBack:()=>{_(null),se()},onSave:()=>{_(null),se()}}):z?r.jsx(ao,{agent:null,onBack:()=>{C(!1)},onSave:()=>{C(!1),se()}}):o&&s.length===0?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"加载子代理..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e==="adventure"?"英雄殿堂":"子代理管理"}),r.jsx("p",{className:"text-gray-400",children:e==="adventure"?"召唤和管理你的 AI 英雄":"管理 Claude Code 子代理（Subagents）"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Ce,{variant:"secondary",onClick:E,disabled:l,children:[r.jsx(Wr,{size:16,className:l?"animate-spin":""}),l?"同步中...":"同步"]}),r.jsxs(Ce,{onClick:()=>C(!0),children:[r.jsx(dt,{size:16}),"新建"]})]})]}),r.jsx(Ue,{children:p&&r.jsx(Ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-green-500/10 border border-green-500/30 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dt,{size:20,className:"text-green-400"}),r.jsxs("span",{className:"text-green-400",children:["同步完成：",p.created," 新增，",p.updated," 更新，",p.deleted," 删除"]}),r.jsx("button",{onClick:()=>m(null),className:"ml-auto text-gray-400 hover:text-white",children:"×"})]})})}),u&&r.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dn,{size:20,className:"text-red-400"}),r.jsx("span",{className:"text-red-400",children:u}),r.jsx("button",{onClick:()=>d(null),className:"ml-auto text-gray-400 hover:text-white",children:"×"})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(me,{onClick:()=>b("all"),className:`transition-all ${y==="all"?"ring-2 ring-blue-500/50":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/20 border border-blue-500/30 flex items-center justify-center",children:r.jsx(er,{className:"text-blue-400",size:24})}),r.jsx("span",{className:"text-3xl font-black",children:v.builtin+v.user+v.project+v.plugin})]}),r.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Total Agents"})]}),r.jsxs(me,{onClick:()=>b(y==="builtin"?"all":"builtin"),className:`transition-all ${y==="builtin"?"ring-2 ring-blue-500/50":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/20 border border-blue-500/30 flex items-center justify-center",children:r.jsx(Li,{className:"text-blue-400",size:24})}),r.jsx("span",{className:"text-3xl font-black",children:v.builtin})]}),r.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Built-in"})]}),r.jsxs(me,{onClick:()=>b(y==="user"?"all":"user"),className:`transition-all ${y==="user"?"ring-2 ring-green-500/50":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-green-500/20 border border-green-500/30 flex items-center justify-center",children:r.jsx(Qn,{className:"text-green-400",size:24})}),r.jsx("span",{className:"text-3xl font-black",children:v.user})]}),r.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"User Level"})]}),r.jsxs(me,{onClick:()=>b(y==="project_plugin"?"all":"project_plugin"),className:`transition-all ${y==="project_plugin"?"ring-2 ring-purple-500/50":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-500/20 border border-purple-500/30 flex items-center justify-center",children:r.jsx(Al,{className:"text-purple-400",size:24})}),r.jsx("span",{className:"text-3xl font-black",children:v.project+v.plugin})]}),r.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Project/Plugin"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(cn,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"搜索子代理...",value:h,onChange:A=>f(A.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50"})]}),r.jsxs("button",{onClick:()=>x(!g),className:`
            flex items-center gap-2 px-4 py-3 rounded-xl border transition-all
            ${g?"bg-orange-500/20 border-orange-500/30 text-orange-400":"bg-white/5 border-white/10 text-gray-400 hover:text-white"}
          `,children:[g?r.jsx(Ri,{size:18}):r.jsx(Nl,{size:18}),g?"显示已覆盖":"隐藏已覆盖"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:r.jsx(Ue,{mode:"popLayout",children:I.map(A=>{var ee,Y,ae,G,he,Re;return r.jsx(Ee.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},children:r.jsxs(me,{className:`
                  flex flex-col h-full p-6
                  ${A.is_overridden?"opacity-60":""}
                `,children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center shrink-0 border-2",style:{backgroundColor:(ee=A.meta)!=null&&ee.color?`${A.meta.color}20`:y==="builtin"||A.scope==="builtin"?"rgba(59, 130, 246, 0.2)":A.scope==="user"?"rgba(34, 197, 94, 0.2)":A.scope==="project"?"rgba(168, 85, 247, 0.2)":"rgba(249, 115, 22, 0.2)",borderColor:((Y=A.meta)==null?void 0:Y.color)||(A.scope==="builtin"?"#3b82f6":A.scope==="user"?"#22c55e":A.scope==="project"?"#a855f7":"#f97316")},children:A.is_builtin?r.jsx(yt,{size:32,style:{color:((ae=A.meta)==null?void 0:ae.color)||"#3b82f6"}}):r.jsx(dr,{size:32,style:{color:((G=A.meta)==null?void 0:G.color)||(A.scope==="user"?"#22c55e":A.scope==="project"?"#a855f7":"#f97316")}})}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button",onClick:be=>{be.preventDefault(),be.stopPropagation(),D(B===A.id?null:A.id)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:r.jsx(sr,{size:20,className:"text-gray-400"})}),r.jsx(Ue,{children:B===A.id&&r.jsx(Ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 top-full mt-2 w-48 bg-[#1a1d2e] border border-white/10 rounded-xl shadow-2xl overflow-hidden z-20",children:[{icon:Na,label:"Configure",action:"configure",color:"blue",disabled:A.is_builtin},{icon:pn,label:"Test",action:"test",color:"green",disabled:!1},{icon:Il,label:"Edit",action:"edit",color:"gray",disabled:A.is_builtin},{icon:Tn,label:"Duplicate",action:"duplicate",color:"gray",disabled:!0},{icon:ir,label:"Delete",action:"delete",color:"red",disabled:A.is_builtin}].map(be=>r.jsxs("button",{type:"button",onClick:it=>{it.preventDefault(),it.stopPropagation(),be.disabled||w(be.action,A)},disabled:be.disabled,className:`w-full flex items-center gap-3 px-4 py-3 transition-colors text-left ${be.disabled?"opacity-40 cursor-not-allowed":"hover:bg-white/5"}`,children:[r.jsx(be.icon,{size:16,className:`text-${be.color}-400`}),r.jsx("span",{className:"text-sm font-bold",children:be.label})]},be.action))})})]})]}),r.jsxs("div",{className:"mb-4 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"text-xl font-black line-clamp-1",children:A.name}),A.scope==="plugin"&&((he=A.meta)==null?void 0:he.plugin_name)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-bold bg-orange-500/10 text-orange-400 border border-orange-500/20 rounded-md shrink-0",children:A.meta.plugin_name}),A.scope==="project"&&((Re=A.meta)==null?void 0:Re.path)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-bold bg-purple-500/10 text-purple-400 border border-purple-500/20 rounded-md shrink-0",children:NN(A.meta.path)})]}),r.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 min-h-[40px]",children:A.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[r.jsxs("div",{className:"p-3 bg-white/5 rounded-xl",children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase font-black mb-1",children:"Model"}),r.jsx("p",{className:`text-sm font-bold ${EN[A.model||"inherit"]}`,children:(A.model||"inherit").toUpperCase()})]}),r.jsxs("div",{className:"p-3 bg-white/5 rounded-xl",children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase font-black mb-1",children:"Scope"}),r.jsxs("div",{className:"flex items-center gap-2",children:[vN[A.scope],r.jsx("p",{className:`text-sm font-bold capitalize ${A.scope==="builtin"?"text-blue-400":A.scope==="user"?"text-green-400":A.scope==="project"?"text-purple-400":"text-orange-400"}`,children:A.scope})]}),A.is_overridden&&r.jsx("span",{className:"mt-1 block text-[10px] text-orange-400",children:"已覆盖"})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[A.tools.length===0?r.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-lg text-xs font-bold text-gray-400",children:"继承全部工具"}):r.jsxs(r.Fragment,{children:[A.tools.slice(0,2).map(be=>r.jsx("span",{className:"px-2 py-1 bg-blue-500/10 border border-blue-500/20 rounded-lg text-xs font-bold text-blue-400",children:be},be)),A.tools.length>2&&r.jsxs("span",{className:"px-2 py-1 bg-blue-500/10 border border-blue-500/20 rounded-lg text-xs font-bold text-blue-400",children:["+",A.tools.length-2]})]}),A.skills&&A.skills.length>0&&r.jsxs("span",{className:"px-2 py-1 bg-cyan-500/10 border border-cyan-500/20 rounded-lg text-xs font-bold text-cyan-400 flex items-center gap-1",children:[r.jsx(Xe,{size:12}),A.skills.length," skills"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(yt,{size:12,className:A.permission_mode==="bypassPermissions"?"text-red-400":A.permission_mode==="plan"?"text-purple-400":"text-gray-400"}),r.jsx("span",{children:A.permission_mode||"default"})]}),A.memory&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(kl,{size:12,className:"text-yellow-400"}),r.jsx("span",{children:A.memory})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[r.jsxs("button",{type:"button",onClick:be=>{be.preventDefault(),be.stopPropagation(),R(A)},className:"flex items-center justify-center gap-2 px-4 py-3 bg-green-500/20 hover:bg-green-500/30 border border-green-500/30 rounded-xl transition-all font-bold text-sm",children:[r.jsx(pn,{size:16,className:"text-green-400"}),r.jsx("span",{className:"text-green-400",children:"Test"})]}),r.jsxs("button",{type:"button",onClick:be=>{be.preventDefault(),be.stopPropagation(),A.is_builtin||_(A)},disabled:A.is_builtin,className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl transition-all font-bold text-sm ${A.is_builtin?"bg-white/5 text-gray-500 cursor-not-allowed":"bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30"}`,children:[r.jsx(Na,{size:16,className:A.is_builtin?"text-gray-500":"text-blue-400"}),r.jsx("span",{className:A.is_builtin?"text-gray-500":"text-blue-400",children:"Config"})]})]})]})},A.id)})})}),I.length===0&&!o&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Di,{size:48,className:"mx-auto text-gray-600 mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-400 mb-2",children:h||y!=="all"?"没有找到匹配的子代理":"还没有子代理"}),r.jsx("p",{className:"text-gray-500 mb-6",children:h||y!=="all"?"尝试调整搜索条件":"点击同步按钮扫描本地子代理，或创建新的子代理"}),r.jsxs("div",{className:"flex justify-center gap-3",children:[r.jsxs(Ce,{variant:"secondary",onClick:E,children:[r.jsx(Wr,{size:16}),"同步本地"]}),r.jsxs(Ce,{onClick:()=>C(!0),children:[r.jsx(dt,{size:16}),"新建"]})]})]}),r.jsx(hi,{open:Q,onOpenChange:H,children:r.jsxs(es,{children:[r.jsxs(fi,{children:[r.jsx(ts,{children:"确认删除"}),r.jsxs(ns,{children:['确定删除子代理 "',O==null?void 0:O.name,'"？此操作将删除对应的配置文件，不可撤销。']})]}),r.jsxs(gi,{children:[r.jsx(ss,{disabled:V,children:"取消"}),r.jsx(rs,{onClick:$,disabled:V,className:"bg-red-600 hover:bg-red-500 focus:ring-red-600",children:V?"删除中...":"删除"})]})]})})]})},ul=[{id:"1",name:"Core Infrastructure",members:3,color:"blue",icon:yt},{id:"2",name:"The UI Wizards",members:2,color:"purple",icon:kt},{id:"3",name:"Data Insights",members:2,color:"orange",icon:Wn}],_N=[{id:"1",name:"Trigger: New Issue",type:"trigger",status:"done",start:0,duration:20,connections:["2"],teamId:"1"},{id:"2",name:"Analyze Content",type:"action",status:"doing",start:20,duration:30,connections:["3","4"],teamId:"3"},{id:"3",name:"Generate Summary",type:"action",status:"plan",start:50,duration:25,connections:["5"],teamId:"2"},{id:"4",name:"Log Error",type:"action",status:"todo",start:50,duration:15,connections:[],teamId:"1"},{id:"5",name:"Send Notification",type:"action",status:"todo",start:75,duration:20,connections:[],teamId:"2"}],dl=({onClose:e})=>{const{mode:t}=mt(),[n,s]=N.useState("flow"),[i,o]=N.useState(_N),[a,l]=N.useState(!1),[c,u]=N.useState("Untitled Quest"),[d,p]=N.useState(null),m=N.useRef(null),h=N.useRef({}),[f,y]=N.useState([]);N.useEffect(()=>{const x=()=>{if(!m.current||n!=="flow")return;const j=m.current.getBoundingClientRect(),T=[];i.forEach(_=>{_.connections.forEach(F=>{const R=h.current[_.id],z=h.current[F];if(R&&z){const C=R.getBoundingClientRect(),B=z.getBoundingClientRect();T.push({from:{x:C.right-j.left,y:C.top+C.height/2-j.top},to:{x:B.left-j.left,y:B.top+B.height/2-j.top}})}})}),y(T)},v=setTimeout(x,100);return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x),clearTimeout(v)}},[i,n,d,t]);const b=i.find(x=>x.id===d),g=()=>r.jsxs("div",{ref:m,className:"relative h-[500px] w-full bg-black/20 rounded-2xl overflow-hidden p-8 border border-white/5",children:[r.jsxs("svg",{className:"absolute inset-0 pointer-events-none w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"lineGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[r.jsx("stop",{offset:"0%",stopColor:t==="adventure"?"#f59e0b":"#3b82f6",stopOpacity:"0"}),r.jsx("stop",{offset:"50%",stopColor:t==="adventure"?"#f59e0b":"#3b82f6",stopOpacity:"0.4"}),r.jsx("stop",{offset:"100%",stopColor:t==="adventure"?"#f59e0b":"#3b82f6",stopOpacity:"0"})]}),r.jsx("marker",{id:"arrow",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orientation:"auto",children:r.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:t==="adventure"?"#f59e0b":"#3b82f6",fillOpacity:"0.3"})})]}),f.map((x,v)=>r.jsx("path",{d:`M ${x.from.x} ${x.from.y} C ${x.from.x+(x.to.x-x.from.x)/2} ${x.from.y}, ${x.from.x+(x.to.x-x.from.x)/2} ${x.to.y}, ${x.to.x} ${x.to.y}`,stroke:"url(#lineGrad)",strokeWidth:"2",fill:"none",markerEnd:"url(#arrow)",className:"opacity-50"},v))]}),r.jsx("div",{className:"relative z-10 flex flex-wrap gap-12 items-center justify-center h-full",children:i.map((x,v)=>{const j=ul.find(T=>T.id===x.teamId);return r.jsx(Ee.div,{ref:T=>h.current[x.id]=T,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-4",onClick:()=>p(x.id),children:r.jsxs("div",{className:`px-6 py-4 rounded-xl border-2 shadow-xl flex items-center gap-4 min-w-[240px] cursor-pointer transition-all relative ${d===x.id?t==="adventure"?"border-yellow-500 scale-105 shadow-yellow-500/20":"border-blue-500 scale-105 shadow-blue-500/20":"border-white/10 hover:border-white/30"} ${t==="adventure"?"bg-[#1a1a2e]":"bg-white/5 backdrop-blur-xl"}`,children:[r.jsx("div",{className:`p-2.5 rounded-xl ${x.type==="trigger"?"bg-orange-500/20 text-orange-400":"bg-blue-500/20 text-blue-400"}`,children:x.type==="trigger"?r.jsx(Xe,{size:20}):r.jsx(tr,{size:20})}),r.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[r.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:x.type}),r.jsx("span",{className:"text-sm font-bold truncate text-white",children:x.name}),r.jsx("div",{className:"mt-2.5 flex items-center gap-2",children:j?r.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-md bg-${j.color}-500/10 border border-${j.color}-500/20 text-[9px] font-black uppercase text-${j.color}-400`,children:[r.jsx(j.icon,{size:10})," ",j.name]}):r.jsx("span",{className:"text-[9px] font-black text-gray-500 italic",children:"No Team"})})]}),d===x.id&&r.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-green-500 flex items-center justify-center border-2 border-[#0a0b14]",children:r.jsx(Ea,{size:14,className:"text-white"})})]})},x.id)})})]});return r.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-8 bg-black/80 backdrop-blur-md",children:r.jsxs(Ee.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},className:`w-full max-w-6xl h-full max-h-[850px] rounded-3xl overflow-hidden flex flex-col border shadow-2xl relative ${t==="adventure"?"bg-[#0f0f1a] border-yellow-500/20 shadow-yellow-500/5":"bg-[#0a0b14] border-white/10 shadow-blue-500/5"}`,children:[r.jsx(Ue,{children:d&&r.jsxs(Ee.div,{initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},className:`absolute right-0 top-0 bottom-0 w-96 z-20 border-l p-10 shadow-2xl backdrop-blur-3xl flex flex-col ${t==="adventure"?"bg-[#1a1a2e]/98 border-yellow-500/20":"bg-[#0f111a]/98 border-white/10"}`,children:[r.jsxs("div",{className:"flex justify-between items-center mb-10 text-white",children:[r.jsx("h2",{className:"text-2xl font-black uppercase italic italic tracking-tighter",children:"Stage Config"}),r.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-white/10 rounded-xl",children:r.jsx(Nt,{size:20})})]}),r.jsxs("div",{className:"space-y-8 flex-1 overflow-y-auto",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"text-[10px] font-black uppercase text-gray-500",children:"Stage Name"}),r.jsx("input",{value:(b==null?void 0:b.name)||"",onChange:x=>o(i.map(v=>v.id===d?{...v,name:x.target.value}:v)),className:"w-full bg-white/5 border border-white/10 rounded-2xl px-5 py-3 text-white focus:outline-none focus:border-blue-500/50"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[10px] font-black uppercase text-gray-500",children:"Agent Team"}),r.jsx("div",{className:"space-y-3",children:ul.map(x=>r.jsxs("button",{onClick:()=>o(i.map(v=>v.id===d?{...v,teamId:x.id}:v)),className:`w-full flex items-center justify-between p-4 rounded-2xl border transition-all ${(b==null?void 0:b.teamId)===x.id?t==="adventure"?"bg-yellow-500/10 border-yellow-500/50 text-yellow-500":"bg-blue-600/10 border-blue-600/50 text-blue-400":"bg-white/5 border-white/5 text-gray-400 hover:border-white/20"}`,children:[r.jsxs("div",{className:"flex items-center gap-4 text-left",children:[r.jsx(x.icon,{size:18,className:`text-${x.color}-500`}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold text-white",children:x.name}),r.jsxs("p",{className:"text-[10px] opacity-50",children:[x.members," Agents"]})]})]}),(b==null?void 0:b.teamId)===x.id&&r.jsx(Ea,{size:16})]},x.id))})]})]}),r.jsx("button",{onClick:()=>p(null),className:`mt-8 w-full py-4 rounded-2xl font-black uppercase text-white shadow-2xl ${t==="adventure"?"bg-gradient-to-r from-yellow-600 to-orange-600":"bg-gradient-to-r from-blue-600 to-indigo-600"}`,children:"Commit Config"})]})}),r.jsxs("header",{className:`px-10 py-8 flex items-center justify-between border-b ${t==="adventure"?"border-yellow-500/20":"border-white/5"}`,children:[r.jsxs("div",{className:"flex items-center gap-10",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("input",{value:c,onChange:x=>u(x.target.value),className:`text-3xl font-black bg-transparent border-none outline-none focus:ring-0 p-0 ${t==="adventure"?"text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500 italic uppercase":"text-white"}`}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-[9px] text-gray-500 font-black uppercase tracking-[0.2em]",children:[r.jsx(Rl,{size:12,className:"text-blue-500"})," ",i.length," Active Nodes"]})]}),r.jsx("div",{className:"flex bg-black/40 p-1 rounded-2xl border border-white/5",children:["flow","kanban"].map(x=>r.jsxs("button",{onClick:()=>s(x),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase transition-all flex items-center gap-2 ${n===x?t==="adventure"?"bg-yellow-500 text-black shadow-lg":"bg-blue-600 text-white shadow-lg":"text-gray-500 hover:text-white hover:bg-white/5"}`,children:[x==="flow"?r.jsx(tr,{size:14}):r.jsx(zd,{size:14})," ",x]},x))})]}),r.jsxs("button",{onClick:()=>l(!0),disabled:a,className:`px-8 py-3 rounded-2xl flex items-center gap-3 font-black uppercase text-[10px] transition-all relative overflow-hidden group shadow-xl ${t==="adventure"?"bg-red-600 text-white":"bg-purple-600 text-white"} ${a?"opacity-50":"active:scale-95"}`,children:[a?"Synthesizing...":"AI Orchestrate",r.jsx(kt,{size:16})]}),r.jsx("button",{onClick:e,className:"p-3 bg-white/5 hover:bg-white/10 rounded-2xl text-gray-400 hover:text-red-500 transition-all",children:r.jsx(Nt,{size:20})})]}),r.jsx("main",{className:"flex-1 p-10 overflow-hidden relative",children:r.jsx(Ue,{mode:"wait",children:r.jsxs(Ee.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},className:"h-full",children:[n==="flow"&&r.jsx(g,{}),n==="kanban"&&r.jsx("div",{className:"grid grid-cols-4 gap-6 h-full",children:["plan","todo","doing","done"].map(x=>r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex justify-between px-2 text-xs font-black uppercase text-gray-400",children:[x,r.jsx("span",{children:i.filter(v=>v.status===x).length})]}),r.jsx("div",{className:"flex-1 bg-black/20 rounded-xl p-4 border border-white/5 space-y-4 overflow-y-auto",children:i.filter(v=>v.status===x).map(v=>r.jsx("div",{onClick:()=>p(v.id),className:`p-4 rounded-xl border text-sm font-medium transition-all cursor-pointer ${d===v.id?"ring-2 ring-white/30 border-white/40":"border-white/5"} ${t==="adventure"?"bg-[#22223b] text-yellow-100":"bg-white/5 text-white hover:bg-white/10"}`,children:v.name},v.id))})]},x))})]},n)})}),r.jsxs("footer",{className:`px-10 py-8 border-t ${t==="adventure"?"border-yellow-500/20 bg-black/60":"border-white/5 bg-black/40"} flex items-center justify-between backdrop-blur-xl`,children:[r.jsxs("button",{className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest ${t==="adventure"?"bg-white/5 text-yellow-500 border border-yellow-500/20":"bg-white/5 text-blue-400 border border-blue-500/20"}`,children:[r.jsx(dt,{size:18})," New Logic Node"]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:e,className:"px-8 py-3 rounded-2xl border border-white/10 text-[10px] font-black uppercase text-gray-500",children:"Discard"}),r.jsxs("button",{className:`px-10 py-3 rounded-2xl text-[10px] font-black uppercase text-white shadow-2xl flex items-center gap-3 ${t==="adventure"?"bg-gradient-to-r from-red-600 to-orange-600":"bg-gradient-to-r from-green-600 to-emerald-600"}`,children:[r.jsx(pn,{size:18,fill:"currentColor"})," Launch Pipeline"]})]})]})]})})},SN=()=>{const{mode:e}=mt(),[t,n]=N.useState([]),[s,i]=N.useState(!0),[o,a]=N.useState(null),[l,c]=N.useState(!1);N.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0),a(null);const d=await Nh.list();n(d.items)}catch(d){console.error("Failed to fetch workflows:",d),a(d instanceof Error?d.message:"Failed to load workflows")}finally{i(!1)}};return s?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading workflows..."})]})}):o?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-red-500 mb-4",children:["Error: ",o]}),r.jsx(Ce,{onClick:u,children:"Retry"})]})}):e==="adventure"?r.jsxs("div",{className:"space-y-8 relative",children:[r.jsx(Ue,{children:l&&r.jsx(dl,{onClose:()=>c(!1)})}),r.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-orange-600 uppercase leading-[0.8]",children:"Dungeon Hall: Missions"}),r.jsx("p",{className:"text-gray-400 font-medium",children:"Embark on legendary automation quests and reap the rewards."})]}),r.jsx(Ce,{onClick:()=>c(!0),children:"Create New Map"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((d,p)=>{var b,g;const m=["blue","purple","green","red"],h=m[p%m.length],f=Math.min(5,Math.ceil((((b=d.steps)==null?void 0:b.length)||0)/3)),y=d.avg_rating?Math.round(d.avg_rating*20):85;return r.jsx(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:p*.1},children:r.jsxs(Xt,{rarity:f>=5?"legendary":f>=3?"epic":"rare",className:"group p-0 overflow-hidden h-full flex flex-col sm:flex-row",children:[r.jsxs("div",{className:"w-full sm:w-48 bg-black/60 relative overflow-hidden flex items-center justify-center p-8 shrink-0",children:[r.jsx("div",{className:`absolute inset-0 bg-${h}-500 opacity-20 group-hover:opacity-40 transition-opacity`}),r.jsx(Rl,{size:80,className:`text-${h}-500 relative z-10 drop-shadow-[0_0_15px_rgba(255,255,255,0.2)]`}),r.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/80 px-3 py-1 rounded border border-white/10 text-[10px] font-black italic uppercase whitespace-nowrap z-20",children:[((g=d.steps)==null?void 0:g.length)||0," STAGES"]})]}),r.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"text-xl font-black uppercase italic tracking-wider text-white",children:d.name}),r.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((x,v)=>r.jsx("div",{className:`w-2 h-2 rounded-full ${v<f?"bg-red-500 shadow-[0_0_5px_rgba(239,68,68,0.5)]":"bg-gray-800"}`},v))})]}),r.jsxs("p",{className:"text-xs text-gray-400 italic mb-6",children:['"',d.description||"No description",'"']}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-black/40 rounded-lg p-3 border border-white/5 text-center",children:[r.jsx("p",{className:"text-[9px] font-black uppercase text-gray-500 tracking-widest mb-1",children:"Clear Rate"}),r.jsxs("p",{className:"text-lg font-black text-green-500",children:[y,"%"]})]}),r.jsxs("div",{className:"bg-black/40 rounded-lg p-3 border border-white/5 text-center",children:[r.jsx("p",{className:"text-[9px] font-black uppercase text-gray-500 tracking-widest mb-1",children:"Rewards"}),r.jsxs("p",{className:"text-lg font-black text-yellow-500",children:[(d.usage_count*2.4).toFixed(1),"k XP"]})]})]}),r.jsxs("div",{className:"mt-auto flex gap-3",children:[r.jsx("button",{className:"flex-1 py-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-[10px] font-black uppercase transition-all",children:"Edit Map"}),r.jsxs("button",{className:"flex-1 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-[10px] font-black uppercase text-white transition-all shadow-lg flex items-center justify-center gap-2",children:[r.jsx(ln,{size:14}),"Launch Raid"]})]})]})]})},d.id)})})]}):r.jsxs("div",{className:"space-y-8 relative",children:[r.jsx(Ue,{children:l&&r.jsx(dl,{onClose:()=>c(!1)})}),r.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Workflows"}),r.jsx("p",{className:"text-gray-400",children:"Design and manage complex multi-agent automation chains."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Ce,{variant:"secondary",children:"Import Template"}),r.jsx(Ce,{onClick:()=>c(!0),children:"New Workflow"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(d=>{var f;const p=["blue","purple","green","red"],m=p[d.id%p.length],h=d.avg_rating?Math.round(d.avg_rating*20):85;return r.jsxs(me,{className:"flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl bg-${m}-500/20 border border-${m}-500/30 flex items-center justify-center text-${m}-500`,children:r.jsx(tr,{size:24})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-green-500/20 text-green-400",children:"active"}),r.jsx("button",{className:"text-gray-500 hover:text-white",children:r.jsx(sr,{size:18})})]})]}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:d.name}),r.jsx("p",{className:"text-sm text-gray-400 mb-6 line-clamp-2",children:d.description||"No description"}),r.jsxs("div",{className:"space-y-4 mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center text-xs",children:[r.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[r.jsx(Di,{size:14})," Nodes"]}),r.jsxs("span",{className:"font-bold",children:[((f=d.steps)==null?void 0:f.length)||0," steps"]})]}),r.jsxs("div",{className:"flex justify-between items-center text-xs",children:[r.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[r.jsx(Dt,{size:14})," Success Rate"]}),r.jsxs("span",{className:`font-bold ${h>=90?"text-green-500":"text-yellow-500"}`,children:[h,"%"]})]})]}),r.jsxs("div",{className:"mt-auto flex gap-3 pt-4 border-t border-white/5",children:[r.jsx("button",{className:"flex-1 py-2 text-sm font-bold text-gray-400 hover:text-white transition-colors",children:"Edit"}),r.jsxs("button",{className:"flex-[2] py-2 rounded-xl bg-blue-600 hover:bg-blue-500 text-sm font-bold transition-all flex items-center justify-center gap-2",children:[r.jsx(pn,{size:16,fill:"currentColor"}),"Run Now"]})]})]},d.id)})})]})},jN=()=>{const{mode:e}=mt(),[t,n]=N.useState([]),[s,i]=N.useState(!0),[o,a]=N.useState(null),[l,c]=N.useState("");N.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0),a(null);const g=await Eh.list({limit:50});n(g.items)}catch(g){console.error("Failed to fetch tasks:",g),a(g instanceof Error?g.message:"Failed to load tasks")}finally{i(!1)}},d=l.trim()===""?t:t.filter(g=>{var x,v,j;return((x=g.title)==null?void 0:x.toLowerCase().includes(l.toLowerCase()))||((v=g.description)==null?void 0:v.toLowerCase().includes(l.toLowerCase()))||((j=g.project_path)==null?void 0:j.toLowerCase().includes(l.toLowerCase()))}),p=g=>{switch(g){case"succeeded":return r.jsx(Dt,{size:16,className:"text-green-500"});case"failed":return r.jsx($r,{size:16,className:"text-red-500"});case"running":return r.jsx(Ut,{size:16,className:"text-blue-500 animate-pulse"});case"waiting_user":return r.jsx(Ut,{size:16,className:"text-yellow-500"});default:return r.jsx(Ut,{size:16,className:"text-gray-500"})}},m=g=>{switch(g){case"succeeded":return"text-green-500";case"failed":return"text-red-500";case"running":return"text-blue-500";case"waiting_user":return"text-yellow-500";default:return"text-gray-500"}},h=g=>g.status==="succeeded"?"S":g.status==="failed"?"F":g.status==="running"?"A":"B",f=g=>{var v;const x=(v=g.meta)==null?void 0:v.priority;return x==="critical"?{text:"CRITICAL",color:"bg-red-500"}:x==="high"?{text:"HIGH",color:"bg-orange-500"}:x==="medium"?{text:"MEDIUM",color:"bg-blue-500"}:{text:"LOW",color:"bg-gray-500"}},y=(g,x)=>{if(!x)return"N/A";const v=new Date(g).getTime(),j=new Date(x).getTime(),T=Math.floor((j-v)/1e3),_=Math.floor(T/60),F=T%60;return`${_}m ${F}s`},b=g=>{const x=new Date(g),j=Math.floor((new Date().getTime()-x.getTime())/1e3);return j<3600?`${Math.floor(j/60)}m ago`:j<86400?`${Math.floor(j/3600)}h ago`:j<172800?"Yesterday":x.toLocaleDateString()};if(s)return r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading tasks..."})]})});if(o)return r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-red-500 mb-4",children:["Error: ",o]}),r.jsx(Ce,{onClick:u,children:"Retry"})]})});if(e==="adventure"){const g=["blackpanther","harleyquinn","captainamerica","wonderwoman","spiderman","blackwidow"];return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("header",{children:[r.jsx("h1",{className:"text-4xl font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-600 uppercase",children:"Battle Logs: Victory Hall"}),r.jsx("p",{className:"text-gray-400 font-medium",children:"Behold the records of past conquests and learn from every encounter."})]}),r.jsx("div",{className:"space-y-4",children:d.slice(0,10).map((x,v)=>{const j=g[v%g.length],T=h(x);return r.jsx(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:v*.1},children:r.jsxs(Xt,{rarity:x.status==="succeeded"?"rare":x.status==="running"?"epic":"common",className:"p-0 flex flex-col sm:flex-row items-stretch gap-0 overflow-hidden group",children:[r.jsxs("div",{className:"w-full sm:w-28 bg-black/40 relative overflow-hidden flex items-center justify-center shrink-0 min-h-[100px] sm:min-h-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/20 to-transparent z-10"}),r.jsx("img",{src:pc(j).img,alt:"Hero",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 opacity-80"}),r.jsx("div",{className:`relative z-20 w-12 h-12 rounded-full flex items-center justify-center font-black text-xl italic shadow-xl ${T==="S"?"bg-yellow-500 text-black shadow-yellow-500/30":T==="A"?"bg-blue-500 text-white":T==="B"?"bg-purple-500 text-white":"bg-red-500 text-white"}`,children:T})]}),r.jsxs("div",{className:"flex-1 p-4 flex flex-col sm:flex-row items-center gap-6",children:[r.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 justify-center sm:justify-start",children:[r.jsxs("p",{className:"text-[10px] font-black uppercase text-gray-500 tracking-widest",children:["T-",x.id]}),r.jsx("span",{className:`text-[8px] font-black uppercase px-1.5 py-0.5 rounded ${f(x).color}`,children:f(x).text})]}),r.jsx("h3",{className:"text-xl font-black uppercase italic tracking-wider text-white mt-1",children:x.title}),r.jsx("p",{className:"text-xs text-gray-400 mt-1 line-clamp-1",children:x.description}),r.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-4 mt-2",children:[r.jsxs("span",{className:"text-[10px] font-bold text-gray-400 flex items-center gap-1",children:[r.jsx(Ut,{size:12})," ",y(x.created_at,x.updated_at)]}),r.jsxs("span",{className:"text-[10px] font-bold text-gray-400 flex items-center gap-1",children:[r.jsx(vl,{size:12})," ",b(x.created_at)]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ce,{variant:"secondary",className:"text-[10px] py-1",children:"Watch Replay"}),r.jsxs(Ce,{className:"text-[10px] py-1 flex items-center gap-2",children:[r.jsx(ln,{size:12}),"Rematch"]})]})]})]})},x.id)})})]})}return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("header",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Execution Tasks"}),r.jsx("p",{className:"text-gray-400",children:"Track and monitor the history of all AI agent activities."})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search task logs...",value:l,onChange:g=>c(g.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl py-2 pl-10 pr-4 focus:outline-none focus:border-blue-500/50 transition-all"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-sm font-bold text-gray-400 hover:text-white transition-all",children:[r.jsx(Fd,{size:16})," Filter"]}),r.jsx(Ce,{variant:"secondary",children:"Clear History"})]})]}),r.jsx("div",{className:"bg-white/[0.02] border border-white/5 rounded-2xl overflow-hidden shadow-2xl",children:r.jsxs("table",{className:"w-full text-left border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-white/5 bg-white/5 text-[10px] font-black uppercase tracking-widest text-gray-400",children:[r.jsx("th",{className:"px-6 py-4",children:"Status"}),r.jsx("th",{className:"px-6 py-4",children:"Task Name"}),r.jsx("th",{className:"px-6 py-4",children:"Workflow"}),r.jsx("th",{className:"px-6 py-4",children:"Duration"}),r.jsx("th",{className:"px-6 py-4",children:"Finished"}),r.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),r.jsx("tbody",{className:"divide-y divide-white/5",children:d.length>0?d.map(g=>r.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[p(g.status),r.jsx("span",{className:`text-xs font-bold capitalize ${m(g.status)}`,children:g.status})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold",children:g.title}),r.jsx("p",{className:"text-[10px] text-gray-500 line-clamp-1",children:g.description})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded w-fit ${f(g).color}`,children:f(g).text}),g.workflow_id&&r.jsxs("span",{className:"text-[10px] text-gray-500",children:["Workflow #",g.workflow_id]})]})}),r.jsx("td",{className:"px-6 py-4 text-xs text-gray-400",children:y(g.created_at,g.updated_at)}),r.jsx("td",{className:"px-6 py-4 text-xs text-gray-400",children:b(g.created_at)}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-400 transition-colors",children:r.jsx(Vr,{size:18})})})]},g.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No tasks found"})})})]})})]})},CN=()=>{const{mode:e,setMode:t,lang:n,setLang:s}=mt(),{t:i}=Ln();return r.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-20",children:[r.jsxs("header",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:i("settings")}),r.jsx("p",{className:"text-gray-400",children:i("advDesc")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsx("div",{className:"space-y-1",children:[{name:i("general"),icon:un,active:!0},{name:i("appearance"),icon:ri},{name:i("integration"),icon:ka},{name:i("dataManagement"),icon:Ii}].map(o=>r.jsxs("button",{className:`w-full flex items-center gap-3 px-4 py-2 rounded-xl text-sm font-medium transition-all ${o.active?e==="adventure"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-blue-600/20 text-blue-400 border border-blue-500/30":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:[r.jsx(o.icon,{size:18}),o.name]},o.name))}),r.jsxs("div",{className:"md:col-span-3 space-y-8",children:[r.jsxs("section",{className:"space-y-4",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(ri,{size:20,className:e==="adventure"?"text-yellow-500":"text-blue-500"}),i("interfaceMode")]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>t("professional"),className:`relative p-6 rounded-2xl border-2 transition-all text-left group overflow-hidden ${e==="professional"?"border-blue-500 bg-blue-500/5 shadow-[0_0_20px_rgba(59,130,246,0.2)]":"border-white/10 bg-white/5 hover:border-white/20"}`,children:[e==="professional"&&r.jsx("div",{className:"absolute top-4 right-4 text-blue-500",children:r.jsx(an,{size:20})}),r.jsx(yl,{className:`mb-4 ${e==="professional"?"text-blue-500":"text-gray-500"}`,size:32}),r.jsx("h3",{className:"font-bold text-lg",children:i("proTitle")}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i("proDesc")})]}),r.jsxs("button",{onClick:()=>t("adventure"),className:`relative p-6 rounded-2xl border-2 transition-all text-left group overflow-hidden ${e==="adventure"?"border-yellow-500 bg-yellow-500/5 shadow-[0_0_20px_rgba(234,179,8,0.2)]":"border-white/10 bg-white/5 hover:border-white/20"}`,children:[e==="adventure"&&r.jsx("div",{className:"absolute top-4 right-4 text-yellow-500",children:r.jsx(an,{size:20})}),r.jsx(ln,{className:`mb-4 ${e==="adventure"?"text-yellow-500":"text-gray-500"}`,size:32}),r.jsx("h3",{className:"font-bold text-lg",children:i("advTitle")}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i("advDesc")}),e==="adventure"&&r.jsx("div",{className:"absolute inset-0 bg-yellow-500/5 animate-pulse pointer-events-none"})]})]})]}),r.jsxs("section",{className:"space-y-4",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(Bd,{size:20,className:e==="adventure"?"text-yellow-500":"text-blue-500"}),i("langSettings")]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>s("en"),className:`relative p-6 rounded-2xl border-2 transition-all text-left group overflow-hidden ${n==="en"?e==="adventure"?"border-yellow-500 bg-yellow-500/5 shadow-[0_0_20px_rgba(234,179,8,0.2)]":"border-blue-500 bg-blue-500/5 shadow-[0_0_20px_rgba(59,130,246,0.2)]":"border-white/10 bg-white/5 hover:border-white/20"}`,children:[n==="en"&&r.jsx("div",{className:`absolute top-4 right-4 ${e==="adventure"?"text-yellow-500":"text-blue-500"}`,children:r.jsx(an,{size:20})}),r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-4 ${n==="en"?e==="adventure"?"bg-yellow-500 text-black":"bg-blue-600 text-white":"bg-white/10 text-gray-400"}`,children:"EN"}),r.jsx("h3",{className:"font-bold text-lg",children:i("enLang")}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"English Interface (US/UK)"})]}),r.jsxs("button",{onClick:()=>s("zh"),className:`relative p-6 rounded-2xl border-2 transition-all text-left group overflow-hidden ${n==="zh"?e==="adventure"?"border-yellow-500 bg-yellow-500/5 shadow-[0_0_20px_rgba(234,179,8,0.2)]":"border-blue-500 bg-blue-500/5 shadow-[0_0_20px_rgba(59,130,246,0.2)]":"border-white/10 bg-white/5 hover:border-white/20"}`,children:[n==="zh"&&r.jsx("div",{className:`absolute top-4 right-4 ${e==="adventure"?"text-yellow-500":"text-blue-500"}`,children:r.jsx(an,{size:20})}),r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-4 ${n==="zh"?e==="adventure"?"bg-yellow-500 text-black":"bg-blue-600 text-white":"bg-white/10 text-gray-400"}`,children:"ZH"}),r.jsx("h3",{className:"font-bold text-lg",children:i("zhLang")}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"中文简体界面"})]})]})]}),r.jsxs("section",{className:"space-y-4",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(ka,{size:20,className:e==="adventure"?"text-yellow-500":"text-blue-500"}),i("integration")]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-bold text-gray-400",children:"CLI Binary Path"}),r.jsx("input",{type:"text",defaultValue:"/usr/local/bin/claude",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-500 transition-all font-mono"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/10",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ai,{size:20,className:e==="adventure"?"text-yellow-500":"text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-sm",children:"Auto-Sync Skills"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Automatically update local skills from cloud."})]})]}),r.jsx("div",{className:`w-12 h-6 rounded-full ${e==="adventure"?"bg-yellow-600":"bg-blue-600"} p-1 flex justify-end cursor-pointer`,children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-white"})})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-4 pt-8",children:[r.jsx(Ce,{variant:"secondary",children:i("discard")}),r.jsx(Ce,{children:i("save")})]})]})]})]})},TN=({members:e,availableAgents:t,onAddMember:n,onEditMember:s,onRemoveMember:i,onReorderMembers:o,gridSize:a=4})=>{const[l,c]=N.useState(null),[u,d]=N.useState(null),p=a*a,m=v=>{var T,_;const j=t.find(F=>F.id===v);return{name:(j==null?void 0:j.name)||`Agent #${v}`,color:((T=j==null?void 0:j.meta)==null?void 0:T.color)||"blue",icon:((_=j==null?void 0:j.meta)==null?void 0:_.icon)||"bot"}},h=v=>({bot:Rn,shield:yt,zap:Xe,brain:On})[v]||Rn,f=v=>{c(v)},y=()=>{c(null),d(null)},b=(v,j)=>{v.preventDefault(),!(l===null||l===j)&&d(j)},g=v=>{if(l===null||l===v)return;const j=[...e],[T]=j.splice(l,1);v<j.length?j.splice(v,0,T):j.push(T),j.forEach((_,F)=>{_.priority=F+1}),o(j),c(null),d(null)},x=v=>{const j=e[v],T=!j,_=l===v,F=u===v;if(T)return r.jsx(Ee.div,{className:`aspect-square rounded-2xl border-2 border-dashed border-white/10 flex items-center justify-center cursor-pointer hover:border-purple-500/50 hover:bg-purple-500/5 transition-all ${F?"border-purple-500/50 bg-purple-500/10 scale-105":""}`,onClick:n,onDragOver:C=>b(C,v),onDrop:()=>g(v),whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsxs("div",{className:"text-center",children:[r.jsx(dt,{size:32,className:"text-gray-500 mx-auto mb-2"}),r.jsx("p",{className:"text-xs text-gray-500 font-bold",children:"添加成员"})]})},`empty-${v}`);const R=m(j.agent_id),z=h(R.icon);return r.jsxs(Ee.div,{draggable:!0,onDragStart:()=>f(v),onDragEnd:y,onDragOver:C=>b(C,v),onDrop:()=>g(v),className:`aspect-square rounded-2xl border-2 p-4 cursor-move relative group ${_?"opacity-50 scale-95":F?"border-purple-500/50 bg-purple-500/10 scale-105":`border-${R.color}-500/30 bg-${R.color}-500/10`} transition-all`,style:{borderColor:_||F?void 0:`color-mix(in srgb, var(--${R.color}-500, #3b82f6) 30%, transparent)`,backgroundColor:_||F?void 0:`color-mix(in srgb, var(--${R.color}-500, #3b82f6) 10%, transparent)`},whileHover:{scale:1.05},layout:!0,children:[r.jsx("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Yr,{size:16,className:"text-gray-400"})}),r.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:C=>{C.stopPropagation(),s(j,v)},className:"p-1 bg-white/10 hover:bg-white/20 rounded-lg transition-all",children:r.jsx($d,{size:12,className:"text-white"})}),r.jsx("button",{onClick:C=>{C.stopPropagation(),i(v)},className:"p-1 bg-red-500/20 hover:bg-red-500/30 rounded-lg transition-all",children:r.jsx(ir,{size:12,className:"text-red-400"})})]}),r.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl bg-${R.color}-500/20 flex items-center justify-center mb-2`,style:{backgroundColor:`color-mix(in srgb, var(--${R.color}-500, #3b82f6) 20%, transparent)`},children:r.jsx(z,{size:24,className:`text-${R.color}-400`})}),r.jsx("p",{className:"text-xs font-bold text-center truncate w-full mb-1",children:j.role}),r.jsx("p",{className:"text-[10px] text-gray-500 text-center truncate w-full",children:R.name}),r.jsx("div",{className:"mt-2 px-2 py-0.5 bg-white/5 rounded-full",children:r.jsxs("p",{className:"text-[10px] text-gray-400",children:["P",j.priority]})})]})]},`member-${j.agent_id}-${v}`)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg",children:"团队阵容"}),r.jsx("p",{className:"text-xs text-gray-400",children:"拖拽调整成员位置和优先级"})]}),r.jsxs("div",{className:"text-sm text-gray-400",children:[e.length," / ",p," 成员"]})]}),r.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${a}, minmax(0, 1fr))`},children:Array.from({length:p}).map((v,j)=>r.jsx("div",{children:x(j)},j))}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 bg-white/5 rounded-xl p-3",children:[r.jsx(Yr,{size:14}),r.jsx("span",{children:"拖拽成员卡片可调整位置和优先级"})]})]})},AN=({team:e,availableAgents:t})=>{const[n,s]=N.useState(""),[i,o]=N.useState(!1),[a,l]=N.useState([]),[c,u]=N.useState(null),d=b=>{const g=t.find(x=>x.id===b);return(g==null?void 0:g.name)||`Agent #${b}`},p=async()=>{if(!n.trim())return;o(!0),l([]),u(null);const b=Date.now();try{const g=[];g.push({timestamp:new Date().toISOString(),agent:"System",message:`开始执行任务: ${n}`,type:"info"}),await h(500),l([...g]);for(const v of e.members){const j=d(v.agent_id);g.push({timestamp:new Date().toISOString(),agent:j,message:`[${v.role}] 开始处理任务...`,type:"info"}),l([...g]),await h(1e3),g.push({timestamp:new Date().toISOString(),agent:j,message:`[${v.role}] 任务处理完成`,type:"success"}),l([...g]),await h(500)}g.push({timestamp:new Date().toISOString(),agent:"System",message:"所有成员任务完成，团队协作成功！",type:"success"}),l([...g]);const x=Date.now();u((x-b)/1e3)}catch(g){l(x=>[...x,{timestamp:new Date().toISOString(),agent:"System",message:`执行失败: ${g instanceof Error?g.message:"未知错误"}`,type:"error"}])}finally{o(!1)}},m=()=>{o(!1),l(b=>[...b,{timestamp:new Date().toISOString(),agent:"System",message:"测试已手动停止",type:"info"}])},h=b=>new Promise(g=>setTimeout(g,b)),f=b=>{switch(b){case"success":return r.jsx(Dt,{size:14,className:"text-green-400"});case"error":return r.jsx(dn,{size:14,className:"text-red-400"});default:return r.jsx(qr,{size:14,className:"text-blue-400"})}},y=b=>{switch(b){case"success":return"text-green-400";case"error":return"text-red-400";default:return"text-gray-300"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(er,{size:20,className:"text-purple-400"}),r.jsx("h3",{className:"font-bold text-lg",children:e.name})]}),r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e.description}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex -space-x-3",children:e.members.slice(0,5).map((b,g)=>r.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-[#0f111a] bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center",title:d(b.agent_id),children:r.jsx("span",{className:"text-xs font-bold",children:g+1})},b.agent_id))}),r.jsxs("span",{className:"text-sm text-gray-400",children:[e.members.length," 成员"]})]})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(pn,{size:18,className:"text-green-400"}),r.jsx("h3",{className:"font-bold",children:"测试场景"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("textarea",{value:n,onChange:b=>s(b.target.value),placeholder:"输入测试场景，例如：'开发一个用户登录功能'",rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-green-500/50 resize-none transition-all",disabled:i}),r.jsxs("div",{className:"flex gap-3",children:[i?r.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-500 rounded-xl font-bold transition-all",children:[r.jsx(Ud,{size:18}),"停止测试"]}):r.jsxs("button",{onClick:p,disabled:!n.trim(),className:"flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-xl font-bold transition-all",children:[r.jsx(pn,{size:18}),"运行测试"]}),c!==null&&r.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-white/5 rounded-xl",children:[r.jsx(Ut,{size:18,className:"text-blue-400"}),r.jsxs("span",{className:"text-sm font-bold",children:[c.toFixed(2),"s"]})]})]})]})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qr,{size:18,className:"text-cyan-400"}),r.jsx("h3",{className:"font-bold",children:"执行日志"})]}),i&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(Zt,{size:14,className:"animate-spin"}),"运行中..."]})]}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:r.jsx(Ue,{children:a.length===0?r.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"暂无日志，运行测试后查看"}):a.map((b,g)=>r.jsxs(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex items-start gap-3 p-3 bg-white/5 rounded-xl border border-white/10",children:[f(b.type),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-xs font-bold text-purple-400",children:b.agent}),r.jsx(Vr,{size:12,className:"text-gray-500"}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(b.timestamp).toLocaleTimeString()})]}),r.jsx("p",{className:`text-sm ${y(b.type)}`,children:b.message})]})]},g))})})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(er,{size:18,className:"text-blue-400"}),r.jsx("h3",{className:"font-bold",children:"团队成员"})]}),r.jsx("div",{className:"space-y-2",children:e.members.map((b,g)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl border border-white/10",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold",children:g+1})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-bold",children:d(b.agent_id)}),r.jsx("p",{className:"text-xs text-gray-400",children:b.role})]}),r.jsx("div",{className:"px-2 py-1 bg-white/5 rounded-lg",children:r.jsxs("p",{className:"text-xs text-gray-400",children:["P",b.priority]})})]},b.agent_id))})]})]})},IN=({team:e,onBack:t,onSave:n})=>{const s=e===null,[i,o]=N.useState("form"),[a,l]=N.useState((e==null?void 0:e.name)||""),[c,u]=N.useState((e==null?void 0:e.description)||""),[d,p]=N.useState((e==null?void 0:e.members)||[]),[m,h]=N.useState([]),[f,y]=N.useState(null),[b,g]=N.useState(""),[x,v]=N.useState((e==null?void 0:e.tags)||[]),[j,T]=N.useState(""),[_,F]=N.useState(!1),[R,z]=N.useState(!1),[C,B]=N.useState(null),[D,Q]=N.useState(!1),[H,O]=N.useState(""),[M,V]=N.useState(!1);N.useEffect(()=>{P()},[]);const P=async()=>{try{z(!0);const G=await Lt.list({limit:100});h(G.items)}catch(G){console.error("Failed to load agents:",G),B("加载 Agents 失败")}finally{z(!1)}},se=()=>{if(!f||!b.trim()){B("请选择 Agent 并输入角色");return}if(d.some(he=>he.agent_id===f)){B("该 Agent 已在团队中");return}const G={agent_id:f,role:b.trim(),priority:d.length+1};p([...d,G]),y(null),g(""),B(null)},E=G=>{p(d.filter(he=>he.agent_id!==G))},de=(G,he)=>{const Re=[...d],be=he==="up"?G-1:G+1;be<0||be>=Re.length||([Re[G],Re[be]]=[Re[be],Re[G]],Re.forEach((it,St)=>{it.priority=St+1}),p(Re))},$=()=>{j.trim()&&!x.includes(j.trim())&&(v([...x,j.trim()]),T(""))},w=G=>{v(x.filter(he=>he!==G))},I=G=>{const he=m.find(Re=>Re.id===G);return(he==null?void 0:he.name)||`Agent #${G}`},A=async()=>{if(H.trim())try{V(!0),B(null);const G=await Hr.generate({description:H.trim(),member_count:3,save_immediately:!1});l(G.team.name),u(G.team.description||""),p(G.team.members||[]),v(G.team.tags||[]),O("")}catch(G){console.error("Failed to generate:",G),B(G instanceof Error?G.message:"AI 生成失败")}finally{V(!1)}},ee=(G,he)=>{y(G.agent_id),g(G.role),o("form")},Y=G=>{p(G)},ae=async()=>{if(!a.trim()){B("请输入团队名称");return}if(!c.trim()){B("请输入团队描述");return}if(d.length<2){B("团队至少需要 2 个成员");return}try{F(!0),B(null),s?await Hr.create({name:a.trim(),description:c.trim(),members:d,tags:x,meta:{}}):await Hr.update(e.id,{name:a.trim(),description:c.trim(),members:d,tags:x,meta:{}}),Q(!0),setTimeout(()=>{Q(!1),n()},1500)}catch(G){console.error("Failed to save team:",G),B(G instanceof Error?G.message:"保存失败")}finally{F(!1)}};return r.jsxs("div",{className:"max-w-6xl mx-auto pb-20",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[r.jsx("button",{onClick:t,className:"p-3 hover:bg-white/10 rounded-xl transition-colors",children:r.jsx(ms,{size:24})}),r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center bg-purple-500/20 border border-purple-500/30",children:r.jsx(In,{size:28,className:"text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s?"创建新团队":"编辑团队"}),r.jsx("p",{className:"text-gray-400 mt-1",children:s?"配置你的 Agent 协作团队":e==null?void 0:e.name})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex bg-white/5 rounded-xl p-1",children:[r.jsxs("button",{onClick:()=>o("form"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${i==="form"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[r.jsx(Hd,{size:16}),"表单"]}),r.jsxs("button",{onClick:()=>o("board"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${i==="board"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[r.jsx(Gd,{size:16}),"棋盘"]}),!s&&r.jsxs("button",{onClick:()=>o("test"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${i==="test"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[r.jsx(Vd,{size:16}),"测试"]})]}),r.jsx("button",{onClick:ae,disabled:_,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 disabled:from-gray-600 disabled:to-gray-600 disabled:cursor-not-allowed rounded-xl font-bold transition-all shadow-lg",children:_?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white/30 border-t-white"}),"保存中..."]}):D?r.jsxs(r.Fragment,{children:[r.jsx(Dt,{size:20}),"已保存"]}):r.jsxs(r.Fragment,{children:[r.jsx(ps,{size:20}),s?"创建":"保存"]})})]})]}),C&&r.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dn,{size:20,className:"text-red-400"}),r.jsx("span",{className:"text-red-400",children:C}),r.jsx("button",{onClick:()=>B(null),className:"ml-auto text-gray-400 hover:text-white",children:"×"})]})}),i==="form"&&r.jsxs(me,{className:"p-6 border-2 border-purple-500/30 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:r.jsx(kt,{className:"text-purple-400",size:20})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold",children:"AI 助手"}),r.jsx("p",{className:"text-xs text-gray-400",children:"描述你的团队需求，让 AI 帮你生成配置"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"text",placeholder:"例如：'创建一个前端开发团队，包含 Lead、开发者和 QA'",value:H,onChange:G=>O(G.target.value),onKeyPress:G=>G.key==="Enter"&&H.trim()&&A(),className:"flex-1 px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-500/50 transition-all",disabled:M}),r.jsxs("button",{onClick:A,disabled:M||!H.trim(),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-500 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-xl font-bold transition-all",children:[M?r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white/30 border-t-white"}):r.jsx(Oi,{size:20}),"生成"]})]})]}),i==="test"&&!s&&e?r.jsx(AN,{team:e,availableAgents:m}):i==="board"?r.jsx(TN,{members:d,availableAgents:m,onAddMember:()=>o("form"),onEditMember:ee,onRemoveMember:E,onReorderMembers:Y,gridSize:4}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(yt,{size:18,className:"text-blue-400"}),r.jsx("h3",{className:"font-bold",children:"基本信息"}),r.jsx("span",{className:"text-xs text-red-400",children:"* 必填"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"团队名称 *"}),r.jsx("input",{type:"text",value:a,onChange:G=>l(G.target.value),placeholder:"frontend-dev-team",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50 transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"团队描述 *"}),r.jsx("textarea",{value:c,onChange:G=>u(G.target.value),placeholder:"负责前端开发和 UI 实现的团队...",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50 resize-none transition-all"})]})]})]}),r.jsxs(me,{className:"p-6",children:[r.jsx("div",{className:"flex items-center gap-2 mb-6",children:r.jsx("h3",{className:"font-bold",children:"标签"})}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[x.map(G=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-lg text-sm border border-cyan-500/30",children:[G,r.jsx("button",{onClick:()=>w(G),className:"hover:text-white",children:r.jsx(Nt,{size:14})})]},G)),x.length===0&&r.jsx("span",{className:"text-gray-500 text-sm",children:"暂无标签"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:j,onChange:G=>T(G.target.value),onKeyPress:G=>G.key==="Enter"&&$(),placeholder:"添加标签...",className:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50"}),r.jsx("button",{onClick:$,disabled:!j.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-500 disabled:bg-gray-600 rounded-xl text-sm font-bold transition-all",children:r.jsx(dt,{size:16})})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(dt,{size:18,className:"text-green-400"}),r.jsx("h3",{className:"font-bold",children:"添加成员"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"选择 Agent"}),r.jsxs("select",{value:f||"",onChange:G=>y(G.target.value?parseInt(G.target.value):null),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50",disabled:R,children:[r.jsx("option",{value:"",children:"选择一个 Agent..."}),m.filter(G=>!d.some(he=>he.agent_id===G.id)).map(G=>r.jsxs("option",{value:G.id,children:[G.name," - ",G.description]},G.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"角色"}),r.jsx("input",{type:"text",value:b,onChange:G=>g(G.target.value),placeholder:"例如：Lead Developer, QA Engineer",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-blue-500/50"})]}),r.jsx("button",{onClick:se,disabled:!f||!b.trim(),className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-xl font-bold transition-all",children:"添加到团队"})]})]}),r.jsxs(me,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(In,{size:18,className:"text-purple-400"}),r.jsx("h3",{className:"font-bold",children:"团队成员"}),r.jsx("span",{className:"px-2 py-0.5 bg-purple-500/20 rounded-full text-xs font-black text-purple-400",children:d.length})]}),d.length<2&&r.jsx("span",{className:"text-xs text-red-400",children:"至少需要 2 个成员"})]}),d.length===0?r.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"暂无成员，请添加"}):r.jsx("div",{className:"space-y-3",children:d.map((G,he)=>r.jsxs(Ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-3 p-4 bg-white/5 border border-white/10 rounded-xl",children:[r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("button",{onClick:()=>de(he,"up"),disabled:he===0,className:"text-gray-500 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed",children:r.jsx(Yr,{size:14})}),r.jsx("button",{onClick:()=>de(he,"down"),disabled:he===d.length-1,className:"text-gray-500 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed",children:r.jsx(Yr,{size:14})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-bold text-sm",children:I(G.agent_id)}),r.jsx("p",{className:"text-xs text-gray-400",children:G.role}),r.jsxs("p",{className:"text-xs text-gray-500",children:["优先级: ",G.priority]})]}),r.jsx("button",{onClick:()=>E(G.agent_id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all",children:r.jsx(ir,{size:16})})]},G.agent_id))})]})]})]})]})},RN=()=>{const{mode:e}=mt(),[t,n]=N.useState([]),[s,i]=N.useState(!0),[o,a]=N.useState(null),[l,c]=N.useState("list"),[u,d]=N.useState(null);N.useEffect(()=>{p()},[]);const p=async()=>{try{i(!0),a(null);const y=await Hr.list();n(y.items)}catch(y){console.error("Failed to fetch teams:",y),a(y instanceof Error?y.message:"Failed to load teams")}finally{i(!1)}},m=()=>{d(null),c("create")},h=y=>{d(y),c("edit")},f=()=>{c("list"),d(null),p()};return l==="create"||l==="edit"?r.jsx(IN,{team:u,onBack:f,onSave:f}):s?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading teams..."})]})}):o?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-red-500 mb-4",children:["Error: ",o]}),r.jsx(Ce,{onClick:p,children:"Retry"})]})}):e==="adventure"?r.jsxs("div",{className:"space-y-8",children:[r.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-blue-600 uppercase",children:"Guild Hall: Alliances"}),r.jsx("p",{className:"text-gray-400 font-medium",children:"Form elite squads of heroes to tackle impossible raids."})]}),r.jsx(Ce,{onClick:m,children:"Forge Alliance"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((y,b)=>{var T;const g=["blue","purple","orange","green"],x=g[b%g.length],v=((T=y.members)==null?void 0:T.length)||0,j=Math.min(20,Math.floor(v*2));return r.jsx(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:b*.1},children:r.jsxs(Xt,{rarity:"epic",className:"p-0 overflow-hidden h-full flex flex-col",children:[r.jsxs("div",{className:"h-32 bg-black/40 relative flex items-center justify-center",children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-${x}-600 to-transparent opacity-30`}),r.jsx(In,{size:48,className:`text-${x}-500 drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]`})]}),r.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[r.jsx("h3",{className:"text-xl font-black uppercase italic text-white mb-2",children:y.name}),r.jsxs("p",{className:"text-xs text-gray-400 italic mb-6",children:['"',y.description||"No description",'"']}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("div",{className:"flex -space-x-2",children:[...Array(Math.min(v,5))].map((_,F)=>r.jsx("div",{className:`w-8 h-8 rounded-full border-2 border-[#1a1a2e] bg-${x}-500/20 flex items-center justify-center`,children:r.jsx(yt,{size:14,className:`text-${x}-400`})},F))}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-[10px] font-black uppercase text-yellow-500",children:"Guild LVL"}),r.jsx("p",{className:"text-lg font-black text-white",children:j})]})]}),r.jsx("div",{className:"mt-auto pt-4 border-t border-white/5",children:r.jsx(Ce,{variant:"secondary",className:"w-full text-xs font-black uppercase",onClick:()=>h(y),children:"Review Formation"})})]})]})},y.id)})})]}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Agent Teams"}),r.jsx("p",{className:"text-gray-400",children:"Manage collaborative groups of AI agents for complex tasks."})]}),r.jsx("div",{className:"flex gap-3",children:r.jsx(Ce,{onClick:m,children:"Create Team"})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(y=>{var v;const b=["blue","purple","orange","green"],g=b[y.id%b.length],x=((v=y.members)==null?void 0:v.length)||0;return r.jsxs(me,{className:"flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl bg-${g}-500/20 border border-${g}-500/30 flex items-center justify-center text-${g}-500`,children:r.jsx(In,{size:24})}),r.jsx("button",{className:"text-gray-500 hover:text-white transition-colors",children:r.jsx(sr,{size:20})})]}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:y.name}),r.jsx("p",{className:"text-sm text-gray-400 mb-6",children:y.description||"No description"}),r.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[r.jsx("div",{className:"flex -space-x-3",children:[...Array(Math.min(x,5))].map((j,T)=>r.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-[#0f111a] bg-gray-800 flex items-center justify-center",children:r.jsx(Wn,{size:16,className:"text-blue-400"})},T))}),r.jsxs("span",{className:"text-sm text-gray-400 font-medium",children:[x," Members"]})]}),r.jsxs("div",{className:"mt-auto flex gap-3 pt-4 border-t border-white/5",children:[r.jsx("button",{className:"flex-1 py-2 text-sm font-bold text-gray-400 hover:text-white transition-colors",children:"Settings"}),r.jsxs("button",{onClick:()=>h(y),className:"flex-1 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-sm font-bold transition-all border border-white/10 flex items-center justify-center gap-2",children:[r.jsx(Il,{size:14}),"Manage"]})]})]},y.id)})})]})},MN=()=>{const[e,t]=N.useState(!1),[n,s]=N.useState([]),[i,o]=N.useState(""),[a,l]=N.useState([]),[c,u]=N.useState(-1),[d,p]=N.useState(!1),m=N.useRef(null),h=N.useRef(null),f=N.useRef(null);N.useEffect(()=>{const x=new WebSocket("ws://localhost:8000/api/terminal/ws");return x.onopen=()=>{t(!0),s(v=>[...v,"✓ Connected to terminal"])},x.onmessage=v=>{s(j=>[...j,v.data])},x.onerror=v=>{console.error("WebSocket error:",v),s(j=>[...j,"✗ Connection error"])},x.onclose=()=>{t(!1),s(v=>[...v,"✗ Connection closed"])},m.current=x,()=>{x.close()}},[]),N.useEffect(()=>{h.current&&(h.current.scrollTop=h.current.scrollHeight)},[n]);const y=x=>{x.preventDefault(),!(!i.trim()||!m.current||m.current.readyState!==WebSocket.OPEN)&&(l(v=>[...v,i]),u(-1),s(v=>[...v,`$ ${i}`]),m.current.send(JSON.stringify({type:"input",data:i+`
`})),o(""))},b=x=>{if(x.key==="ArrowUp"){if(x.preventDefault(),a.length>0){const v=c===-1?a.length-1:Math.max(0,c-1);u(v),o(a[v])}}else if(x.key==="ArrowDown"&&(x.preventDefault(),c!==-1)){const v=c+1;v>=a.length?(u(-1),o("")):(u(v),o(a[v]))}},g=()=>{s([])};return r.jsxs("div",{className:`space-y-6 ${d?"fixed inset-0 z-50 bg-[#0a0b0f] p-6":""}`,children:[r.jsxs("header",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-700 flex items-center justify-center",children:r.jsx(ur,{className:"text-white",size:20})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Debug Terminal"}),r.jsx("p",{className:"text-sm text-gray-400",children:e?r.jsx("span",{className:"text-green-500",children:"● Connected"}):r.jsx("span",{className:"text-red-500",children:"● Disconnected"})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ce,{variant:"secondary",onClick:g,children:"Clear"}),r.jsx(Ce,{variant:"secondary",onClick:()=>p(!d),children:d?r.jsx(Kd,{size:16}):r.jsx(Wd,{size:16})}),d&&r.jsx(Ce,{variant:"secondary",onClick:()=>p(!1),children:r.jsx(Nt,{size:16})})]})]}),r.jsxs(me,{className:`${d?"h-[calc(100vh-120px)]":"h-[600px]"} flex flex-col`,children:[r.jsx("div",{ref:h,className:"flex-1 overflow-y-auto p-4 font-mono text-sm space-y-1 bg-black/20 rounded-t-xl",children:n.map((x,v)=>r.jsx("div",{className:"text-gray-300 whitespace-pre-wrap break-all",children:x},v))}),r.jsx("form",{onSubmit:y,className:"border-t border-white/10 p-4 bg-black/10",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500 font-mono",children:"$"}),r.jsx("input",{ref:f,type:"text",value:i,onChange:x=>o(x.target.value),onKeyDown:b,disabled:!e,placeholder:e?"Enter command...":"Connecting...",className:"flex-1 bg-transparent border-none outline-none text-white font-mono text-sm placeholder-gray-600",autoFocus:!0})]})})]}),r.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[r.jsx("p",{children:"• Use ↑/↓ arrow keys to navigate command history"}),r.jsx("p",{children:"• Press Enter to execute command"}),r.jsx("p",{children:"• WebSocket endpoint: ws://localhost:8000/api/terminal/ws"})]})]})},ON=pd([{path:"/",Component:Bm,children:[{index:!0,Component:Kh},{path:"skills",Component:Qh},{path:"agents",Component:kN},{path:"teams",Component:RN},{path:"workflows",Component:SN},{path:"tasks",Component:jN},{path:"settings",Component:CN},{path:"terminal",Component:MN}]}]);function LN(){return r.jsx(vt.StrictMode,{children:r.jsx(Sp,{children:r.jsx(md,{router:ON})})})}_p.createRoot(document.getElementById("root")).render(r.jsx(LN,{}));
